<!DOCTYPE html><html><head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="styles.css">
	<title>Flourish template: Projection map</title></head>
	<body>

<script>window.Flourish = {"static_prefix":".","environment":"live","is_read_only":true};</script><script>var template=function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r(t,e){return t(e={exports:{}},e.exports),e.exports}var o=n(r((function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=e=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),e(n)}t.exports=e,t.exports.default=t.exports,t.exports.__esModule=!0}))),i=function(t){return t&&t.Math==Math&&t},a=i("object"==("undefined"==typeof globalThis?"undefined":o(globalThis))&&globalThis)||i("object"==("undefined"==typeof window?"undefined":o(window))&&window)||i("object"==("undefined"==typeof self?"undefined":o(self))&&self)||i("object"==o(e)&&e)||function(){return this}()||Function("return this")(),u=function(t){try{return!!t()}catch(t){return!0}},l=!u((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),c={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,f={f:s&&!c.call({1:2},1)?function(t){var e=s(this,t);return!!e&&e.enumerable}:c},d=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},h={}.toString,p=function(t){return h.call(t).slice(8,-1)},_="".split,g=u((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==p(t)?_.call(t,""):Object(t)}:Object,v=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},y=function(t){return g(v(t))},m=function(t){return"object"===o(t)?null!==t:"function"==typeof t},b=function(t,e){if(!m(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!m(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!m(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!m(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},w={}.hasOwnProperty,x=function(t,e){return w.call(t,e)},D=a.document,E=m(D)&&m(D.createElement),A=function(t){return E?D.createElement(t):{}},C=!l&&!u((function(){return 7!=Object.defineProperty(A("div"),"a",{get:function(){return 7}}).a})),M=Object.getOwnPropertyDescriptor,k={f:l?M:function(t,e){if(t=y(t),e=b(e,!0),C)try{return M(t,e)}catch(t){}if(x(t,e))return d(!f.f.call(t,e),t[e])}},F=function(t){if(!m(t))throw TypeError(String(t)+" is not an object");return t},S=Object.defineProperty,T={f:l?S:function(t,e,n){if(F(t),e=b(e,!0),F(n),C)try{return S(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},z=l?function(t,e,n){return T.f(t,e,d(1,n))}:function(t,e,n){return t[e]=n,t},B=function(t,e){try{z(a,t,e)}catch(n){a[t]=e}return e},N="__core-js_shared__",L=a[N]||B(N,{}),P=Function.toString;"function"!=typeof L.inspectSource&&(L.inspectSource=function(t){return P.call(t)});var O,I,j,R=L.inspectSource,U=a.WeakMap,q="function"==typeof U&&/native code/.test(R(U)),H=r((function(t){(t.exports=function(t,e){return L[t]||(L[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),Y=0,W=Math.random(),G=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Y+W).toString(36)},V=H("keys"),X=function(t){return V[t]||(V[t]=G(t))},$={},Z=a.WeakMap;if(q){var Q=L.state||(L.state=new Z),J=Q.get,K=Q.has,tt=Q.set;O=function(t,e){return e.facade=t,tt.call(Q,t,e),e},I=function(t){return J.call(Q,t)||{}},j=function(t){return K.call(Q,t)}}else{var et=X("state");$[et]=!0,O=function(t,e){return e.facade=t,z(t,et,e),e},I=function(t){return x(t,et)?t[et]:{}},j=function(t){return x(t,et)}}var nt={set:O,get:I,has:j,enforce:function(t){return j(t)?I(t):O(t,{})},getterFor:function(t){return function(e){var n;if(!m(e)||(n=I(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},rt=r((function(t){var e=nt.get,n=nt.enforce,r=String(String).split("String");(t.exports=function(t,e,o,i){var u,l=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,s=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof e||x(o,"name")||z(o,"name",e),(u=n(o)).source||(u.source=r.join("string"==typeof e?e:""))),t!==a?(l?!s&&t[e]&&(c=!0):delete t[e],c?t[e]=o:z(t,e,o)):c?t[e]=o:B(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||R(this)}))})),ot=a,it=function(t){return"function"==typeof t?t:void 0},at=function(t,e){return arguments.length<2?it(ot[t])||it(a[t]):ot[t]&&ot[t][e]||a[t]&&a[t][e]},ut=Math.ceil,lt=Math.floor,ct=function(t){return isNaN(t=+t)?0:(t>0?lt:ut)(t)},st=Math.min,ft=function(t){return t>0?st(ct(t),9007199254740991):0},dt=Math.max,ht=Math.min,pt=function(t,e){var n=ct(t);return n<0?dt(n+e,0):ht(n,e)},_t=function(t){return function(e,n,r){var o,i=y(e),a=ft(i.length),u=pt(r,a);if(t&&n!=n){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===n)return t||u||0;return!t&&-1}},gt={includes:_t(!0),indexOf:_t(!1)},vt=gt.indexOf,yt=function(t,e){var n,r=y(t),o=0,i=[];for(n in r)!x($,n)&&x(r,n)&&i.push(n);for(;e.length>o;)x(r,n=e[o++])&&(~vt(i,n)||i.push(n));return i},mt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],bt=mt.concat("length","prototype"),wt={f:Object.getOwnPropertyNames||function(t){return yt(t,bt)}},xt={f:Object.getOwnPropertySymbols},Dt=at("Reflect","ownKeys")||function(t){var e=wt.f(F(t)),n=xt.f;return n?e.concat(n(t)):e},Et=function(t,e){for(var n=Dt(e),r=T.f,o=k.f,i=0;i<n.length;i++){var a=n[i];x(t,a)||r(t,a,o(e,a))}},At=/#|\.prototype\./,Ct=function(t,e){var n=kt[Mt(t)];return n==St||n!=Ft&&("function"==typeof e?u(e):!!e)},Mt=Ct.normalize=function(t){return String(t).replace(At,".").toLowerCase()},kt=Ct.data={},Ft=Ct.NATIVE="N",St=Ct.POLYFILL="P",Tt=Ct,zt=k.f,Bt=function(t,e){var n,r,i,u,l,c=t.target,s=t.global,f=t.stat;if(n=s?a:f?a[c]||B(c,{}):(a[c]||{}).prototype)for(r in e){if(u=e[r],i=t.noTargetGet?(l=zt(n,r))&&l.value:n[r],!Tt(s?r:c+(f?".":"#")+r,t.forced)&&void 0!==i){if(o(u)===o(i))continue;Et(u,i)}(t.sham||i&&i.sham)&&z(u,"sham",!0),rt(n,r,u,t)}},Nt=Math.log,Lt=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Nt(1+t)},Pt=Math.acosh,Ot=Math.log,It=Math.sqrt,jt=Math.LN2,Rt=!Pt||710!=Math.floor(Pt(Number.MAX_VALUE))||Pt(1/0)!=1/0;Bt({target:"Math",stat:!0,forced:Rt},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Ot(t)+jt:Lt(t-1+It(t-1)*It(t+1))}});var Ut=Math.asinh,qt=Math.log,Ht=Math.sqrt;Bt({target:"Math",stat:!0,forced:!(Ut&&1/Ut(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):qt(e+Ht(e*e+1)):e}});var Yt=Math.atanh,Wt=Math.log;Bt({target:"Math",stat:!0,forced:!(Yt&&1/Yt(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:Wt((1+t)/(1-t))/2}});var Gt=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1},Vt=Math.abs,Xt=Math.pow;Bt({target:"Math",stat:!0},{cbrt:function(t){return Gt(t=+t)*Xt(Vt(t),1/3)}});var $t=Math.floor,Zt=Math.log,Qt=Math.LOG2E;Bt({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-$t(Zt(t+.5)*Qt):32}});var Jt=Math.expm1,Kt=Math.exp,te=!Jt||Jt(10)>22025.465794806718||Jt(10)<22025.465794806718||-2e-17!=Jt(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Kt(t)-1}:Jt,ee=Math.cosh,ne=Math.abs,re=Math.E;Bt({target:"Math",stat:!0,forced:!ee||ee(710)===1/0},{cosh:function(t){var e=te(ne(t)-1)+1;return(e+1/(e*re*re))*(re/2)}}),Bt({target:"Math",stat:!0,forced:te!=Math.expm1},{expm1:te});var oe=Math.abs,ie=Math.pow,ae=ie(2,-52),ue=ie(2,-23),le=ie(2,127)*(2-ue),ce=ie(2,-126),se=Math.fround||function(t){var e,n,r=oe(t),o=Gt(t);return r<ce?o*(r/ce/ue+1/ae-1/ae)*ce*ue:(n=(e=(1+ue/ae)*r)-(e-r))>le||n!=n?o*(1/0):o*n};Bt({target:"Math",stat:!0},{fround:se});var fe=Math.hypot,de=Math.abs,he=Math.sqrt,pe=!!fe&&fe(1/0,NaN)!==1/0;Bt({target:"Math",stat:!0,forced:pe},{hypot:function(t,e){for(var n,r,o=0,i=0,a=arguments.length,u=0;i<a;)u<(n=de(arguments[i++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*he(o)}});var _e=Math.imul,ge=u((function(){return-5!=_e(4294967295,5)||2!=_e.length}));Bt({target:"Math",stat:!0,forced:ge},{imul:function(t,e){var n=65535,r=+t,o=+e,i=n&r,a=n&o;return 0|i*a+((n&r>>>16)*a+i*(n&o>>>16)<<16>>>0)}});var ve=Math.log,ye=Math.LOG10E;Bt({target:"Math",stat:!0},{log10:function(t){return ve(t)*ye}}),Bt({target:"Math",stat:!0},{log1p:Lt});var me=Math.log,be=Math.LN2;Bt({target:"Math",stat:!0},{log2:function(t){return me(t)/be}}),Bt({target:"Math",stat:!0},{sign:Gt});var we=Math.abs,xe=Math.exp,De=Math.E,Ee=u((function(){return-2e-17!=Math.sinh(-2e-17)}));Bt({target:"Math",stat:!0,forced:Ee},{sinh:function(t){return we(t=+t)<1?(te(t)-te(-t))/2:(xe(t-1)-xe(-t-1))*(De/2)}});var Ae=Math.exp;Bt({target:"Math",stat:!0},{tanh:function(t){var e=te(t=+t),n=te(-t);return e==1/0?1:n==1/0?-1:(e-n)/(Ae(t)+Ae(-t))}});var Ce,Me,ke="process"==p(a.process),Fe=at("navigator","userAgent")||"",Se=a.process,Te=Se&&Se.versions,ze=Te&&Te.v8;ze?Me=(Ce=ze.split("."))[0]+Ce[1]:Fe&&(!(Ce=Fe.match(/Edge\/(\d+)/))||Ce[1]>=74)&&(Ce=Fe.match(/Chrome\/(\d+)/))&&(Me=Ce[1]);var Be=Me&&+Me,Ne=!!Object.getOwnPropertySymbols&&!u((function(){return!Symbol.sham&&(ke?38===Be:Be>37&&Be<41)})),Le=Ne&&!Symbol.sham&&"symbol"==o(Symbol.iterator),Pe=H("wks"),Oe=a.Symbol,Ie=Le?Oe:Oe&&Oe.withoutSetter||G,je=function(t){return x(Pe,t)&&(Ne||"string"==typeof Pe[t])||(Ne&&x(Oe,t)?Pe[t]=Oe[t]:Pe[t]=Ie("Symbol."+t)),Pe[t]},Re=T.f,Ue=je("toStringTag"),qe=function(t,e,n){t&&!x(t=n?t:t.prototype,Ue)&&Re(t,Ue,{configurable:!0,value:e})};qe(Math,"Math",!0);var He=Math.ceil,Ye=Math.floor;Bt({target:"Math",stat:!0},{trunc:function(t){return(t>0?Ye:He)(t)}});ot.Math;var We,Ge=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return F(n),function(t){if(!m(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Ve=function(t,e,n){var r,o;return Ge&&"function"==typeof(r=e.constructor)&&r!==n&&m(o=r.prototype)&&o!==n.prototype&&Ge(t,o),t},Xe=Object.keys||function(t){return yt(t,mt)},$e=l?Object.defineProperties:function(t,e){F(t);for(var n,r=Xe(e),o=r.length,i=0;o>i;)T.f(t,n=r[i++],e[n]);return t},Ze=at("document","documentElement"),Qe=X("IE_PROTO"),Je=function(){},Ke=function(t){return"<script>"+t+"</"+"script>"},tn=function(){try{We=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;tn=We?function(t){t.write(Ke("")),t.close();var e=t.parentWindow.Object;return t=null,e}(We):((e=A("iframe")).style.display="none",Ze.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Ke("document.F=Object")),t.close(),t.F);for(var n=mt.length;n--;)delete tn.prototype[mt[n]];return tn()};$[Qe]=!0;var en=Object.create||function(t,e){var n;return null!==t?(Je.prototype=F(t),n=new Je,Je.prototype=null,n[Qe]=t):n=tn(),void 0===e?n:$e(n,e)},nn="\t\n\v\f\r                　\u2028\u2029\ufeff",rn="["+nn+"]",on=RegExp("^"+rn+rn+"*"),an=RegExp(rn+rn+"*$"),un=function(t){return function(e){var n=String(v(e));return 1&t&&(n=n.replace(on,"")),2&t&&(n=n.replace(an,"")),n}},ln={start:un(1),end:un(2),trim:un(3)},cn=wt.f,sn=k.f,fn=T.f,dn=ln.trim,hn="Number",pn=a.Number,_n=pn.prototype,gn=p(en(_n))==hn,vn=function(t){var e,n,r,o,i,a,u,l,c=b(t,!1);if("string"==typeof c&&c.length>2)if(43===(e=(c=dn(c)).charCodeAt(0))||45===e){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+c}for(a=(i=c.slice(2)).length,u=0;u<a;u++)if((l=i.charCodeAt(u))<48||l>o)return NaN;return parseInt(i,r)}return+c};if(Tt(hn,!pn(" 0o1")||!pn("0b1")||pn("+0x1"))){for(var yn,mn=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof mn&&(gn?u((function(){_n.valueOf.call(n)})):p(n)!=hn)?Ve(new pn(vn(e)),n,mn):vn(e)},bn=l?cn(pn):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),wn=0;bn.length>wn;wn++)x(pn,yn=bn[wn])&&!x(mn,yn)&&fn(mn,yn,sn(pn,yn));mn.prototype=_n,_n.constructor=mn,rt(a,hn,mn)}Bt({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var xn=a.isFinite,Dn=Number.isFinite||function(t){return"number"==typeof t&&xn(t)};Bt({target:"Number",stat:!0},{isFinite:Dn});var En=Math.floor,An=function(t){return!m(t)&&isFinite(t)&&En(t)===t};Bt({target:"Number",stat:!0},{isInteger:An}),Bt({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var Cn=Math.abs;Bt({target:"Number",stat:!0},{isSafeInteger:function(t){return An(t)&&Cn(t)<=9007199254740991}}),Bt({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),Bt({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});var Mn=ln.trim,kn=a.parseFloat,Fn=1/kn(nn+"-0")!=-1/0?function(t){var e=Mn(String(t)),n=kn(e);return 0===n&&"-"==e.charAt(0)?-0:n}:kn;Bt({target:"Number",stat:!0,forced:Number.parseFloat!=Fn},{parseFloat:Fn});var Sn=ln.trim,Tn=a.parseInt,zn=/^[+-]?0[Xx]/,Bn=8!==Tn(nn+"08")||22!==Tn(nn+"0x16")?function(t,e){var n=Sn(String(t));return Tn(n,e>>>0||(zn.test(n)?16:10))}:Tn;Bt({target:"Number",stat:!0,forced:Number.parseInt!=Bn},{parseInt:Bn});var Nn=function(t){if("number"!=typeof t&&"Number"!=p(t))throw TypeError("Incorrect invocation");return+t},Ln="".repeat||function(t){var e=String(v(this)),n="",r=ct(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n},Pn=1..toFixed,On=Math.floor,In=function t(e,n,r){return 0===n?r:n%2==1?t(e,n-1,r*e):t(e*e,n/2,r)},jn=function(t,e,n){for(var r=-1,o=n;++r<6;)o+=e*t[r],t[r]=o%1e7,o=On(o/1e7)},Rn=function(t,e){for(var n=6,r=0;--n>=0;)r+=t[n],t[n]=On(r/e),r=r%e*1e7},Un=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var r=String(t[e]);n=""===n?r:n+Ln.call("0",7-r.length)+r}return n},qn=Pn&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!u((function(){Pn.call({})}));Bt({target:"Number",proto:!0,forced:qn},{toFixed:function(t){var e,n,r,o,i=Nn(this),a=ct(t),u=[0,0,0,0,0,0],l="",c="0";if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return String(i);if(i<0&&(l="-",i=-i),i>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(i*In(2,69,1))-69)<0?i*In(2,-e,1):i/In(2,e,1),n*=4503599627370496,(e=52-e)>0){for(jn(u,0,n),r=a;r>=7;)jn(u,1e7,0),r-=7;for(jn(u,In(10,r,1),0),r=e-1;r>=23;)Rn(u,1<<23),r-=23;Rn(u,1<<r),jn(u,1,1),Rn(u,2),c=Un(u)}else jn(u,0,n),jn(u,1<<-e,0),c=Un(u)+Ln.call("0",a);return c=a>0?l+((o=c.length)<=a?"0."+Ln.call("0",a-o)+c:c.slice(0,o-a)+"."+c.slice(o-a)):l+c}});var Hn=1..toPrecision,Yn=u((function(){return"1"!==Hn.call(1,void 0)}))||!u((function(){Hn.call({})}));Bt({target:"Number",proto:!0,forced:Yn},{toPrecision:function(t){return void 0===t?Hn.call(Nn(this)):Hn.call(Nn(this),t)}});ot.Number;var Wn,Gn,Vn,Xn=function(t){return function(e,n){var r,o,i=String(v(e)),a=ct(n),u=i.length;return a<0||a>=u?t?"":void 0:(r=i.charCodeAt(a))<55296||r>56319||a+1===u||(o=i.charCodeAt(a+1))<56320||o>57343?t?i.charAt(a):r:t?i.slice(a,a+2):o-56320+(r-55296<<10)+65536}},$n={codeAt:Xn(!1),charAt:Xn(!0)},Zn=function(t){return Object(v(t))},Qn=!u((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Jn=X("IE_PROTO"),Kn=Object.prototype,tr=Qn?Object.getPrototypeOf:function(t){return t=Zn(t),x(t,Jn)?t[Jn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Kn:null},er=je("iterator"),nr=!1;[].keys&&("next"in(Vn=[].keys())?(Gn=tr(tr(Vn)))!==Object.prototype&&(Wn=Gn):nr=!0),(null==Wn||u((function(){var t={};return Wn[er].call(t)!==t})))&&(Wn={}),x(Wn,er)||z(Wn,er,(function(){return this}));var rr={IteratorPrototype:Wn,BUGGY_SAFARI_ITERATORS:nr},or={},ir=rr.IteratorPrototype,ar=function(){return this},ur=function(t,e,n){var r=e+" Iterator";return t.prototype=en(ir,{next:d(1,n)}),qe(t,r,!1),or[r]=ar,t},lr=rr.IteratorPrototype,cr=rr.BUGGY_SAFARI_ITERATORS,sr=je("iterator"),fr="keys",dr="values",hr="entries",pr=function(){return this},_r=function(t,e,n,r,o,i,a){ur(n,e,r);var u,l,c,s=function(t){if(t===o&&_)return _;if(!cr&&t in h)return h[t];switch(t){case fr:case dr:case hr:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",d=!1,h=t.prototype,p=h[sr]||h["@@iterator"]||o&&h[o],_=!cr&&p||s(o),g="Array"==e&&h.entries||p;if(g&&(u=tr(g.call(new t)),lr!==Object.prototype&&u.next&&(tr(u)!==lr&&(Ge?Ge(u,lr):"function"!=typeof u[sr]&&z(u,sr,pr)),qe(u,f,!0))),o==dr&&p&&p.name!==dr&&(d=!0,_=function(){return p.call(this)}),h[sr]!==_&&z(h,sr,_),or[e]=_,o)if(l={values:s(dr),keys:i?_:s(fr),entries:s(hr)},a)for(c in l)(cr||d||!(c in h))&&rt(h,c,l[c]);else Bt({target:e,proto:!0,forced:cr||d},l);return l},gr=$n.charAt,vr="String Iterator",yr=nt.set,mr=nt.getterFor(vr);_r(String,"String",(function(t){yr(this,{type:vr,string:String(t),index:0})}),(function(){var t,e=mr(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=gr(n,r),e.index+=t.length,{value:t,done:!1})}));var br=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},wr=function(t,e,n){if(br(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},xr=function(t){var e=t.return;if(void 0!==e)return F(e.call(t)).value},Dr=function(t,e,n,r){try{return r?e(F(n)[0],n[1]):e(n)}catch(e){throw xr(t),e}},Er=je("iterator"),Ar=Array.prototype,Cr=function(t){return void 0!==t&&(or.Array===t||Ar[Er]===t)},Mr=function(t,e,n){var r=b(e);r in t?T.f(t,r,d(0,n)):t[r]=n},kr={};kr[je("toStringTag")]="z";var Fr="[object z]"===String(kr),Sr=je("toStringTag"),Tr="Arguments"==p(function(){return arguments}()),zr=Fr?p:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Sr))?n:Tr?p(e):"Object"==(r=p(e))&&"function"==typeof e.callee?"Arguments":r},Br=je("iterator"),Nr=function(t){if(null!=t)return t[Br]||t["@@iterator"]||or[zr(t)]},Lr=je("iterator"),Pr=!1;try{var Or=0,Ir={next:function(){return{done:!!Or++}},return:function(){Pr=!0}};Ir[Lr]=function(){return this},Array.from(Ir,(function(){throw 2}))}catch(t){}var jr=function(t,e){if(!e&&!Pr)return!1;var n=!1;try{var r={};r[Lr]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Rr=!jr((function(t){Array.from(t)}));Bt({target:"Array",stat:!0,forced:Rr},{from:function(t){var e,n,r,o,i,a,u=Zn(t),l="function"==typeof this?this:Array,c=arguments.length,s=c>1?arguments[1]:void 0,f=void 0!==s,d=Nr(u),h=0;if(f&&(s=wr(s,c>2?arguments[2]:void 0,2)),null==d||l==Array&&Cr(d))for(n=new l(e=ft(u.length));e>h;h++)a=f?s(u[h],h):u[h],Mr(n,h,a);else for(i=(o=d.call(u)).next,n=new l;!(r=i.call(o)).done;h++)a=f?Dr(o,s,[r.value,h],!0):r.value,Mr(n,h,a);return n.length=h,n}});var Ur=Array.isArray||function(t){return"Array"==p(t)};Bt({target:"Array",stat:!0},{isArray:Ur});var qr=u((function(){function t(){}return!(Array.of.call(t)instanceof t)}));Bt({target:"Array",stat:!0,forced:qr},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)Mr(n,t,arguments[t++]);return n.length=e,n}});var Hr=je("species"),Yr=function(t,e){var n;return Ur(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Ur(n.prototype)?m(n)&&null===(n=n[Hr])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Wr=je("species"),Gr=function(t){return Be>=51||!u((function(){var e=[];return(e.constructor={})[Wr]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Vr=je("isConcatSpreadable"),Xr=9007199254740991,$r="Maximum allowed index exceeded",Zr=Be>=51||!u((function(){var t=[];return t[Vr]=!1,t.concat()[0]!==t})),Qr=Gr("concat"),Jr=function(t){if(!m(t))return!1;var e=t[Vr];return void 0!==e?!!e:Ur(t)};Bt({target:"Array",proto:!0,forced:!Zr||!Qr},{concat:function(t){var e,n,r,o,i,a=Zn(this),u=Yr(a,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(Jr(i=-1===e?a:arguments[e])){if(l+(o=ft(i.length))>Xr)throw TypeError($r);for(n=0;n<o;n++,l++)n in i&&Mr(u,l,i[n])}else{if(l>=Xr)throw TypeError($r);Mr(u,l++,i)}return u.length=l,u}});var Kr=Math.min,to=[].copyWithin||function(t,e){var n=Zn(this),r=ft(n.length),o=pt(t,r),i=pt(e,r),a=arguments.length>2?arguments[2]:void 0,u=Kr((void 0===a?r:pt(a,r))-i,r-o),l=1;for(i<o&&o<i+u&&(l=-1,i+=u-1,o+=u-1);u-- >0;)i in n?n[o]=n[i]:delete n[o],o+=l,i+=l;return n},eo=je("unscopables"),no=Array.prototype;null==no[eo]&&T.f(no,eo,{configurable:!0,value:en(null)});var ro=function(t){no[eo][t]=!0};Bt({target:"Array",proto:!0},{copyWithin:to}),ro("copyWithin");var oo=[].push,io=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,a=7==t,u=5==t||i;return function(l,c,s,f){for(var d,h,p=Zn(l),_=g(p),v=wr(c,s,3),y=ft(_.length),m=0,b=f||Yr,w=e?b(l,y):n||a?b(l,0):void 0;y>m;m++)if((u||m in _)&&(h=v(d=_[m],m,p),t))if(e)w[m]=h;else if(h)switch(t){case 3:return!0;case 5:return d;case 6:return m;case 2:oo.call(w,d)}else switch(t){case 4:return!1;case 7:oo.call(w,d)}return i?-1:r||o?o:w}},ao={forEach:io(0),map:io(1),filter:io(2),some:io(3),every:io(4),find:io(5),findIndex:io(6),filterOut:io(7)},uo=function(t,e){var n=[][t];return!!n&&u((function(){n.call(null,e||function(){throw 1},1)}))},lo=ao.every,co=uo("every");Bt({target:"Array",proto:!0,forced:!co},{every:function(t){return lo(this,t,arguments.length>1?arguments[1]:void 0)}});Bt({target:"Array",proto:!0},{fill:function(t){for(var e=Zn(this),n=ft(e.length),r=arguments.length,o=pt(r>1?arguments[1]:void 0,n),i=r>2?arguments[2]:void 0,a=void 0===i?n:pt(i,n);a>o;)e[o++]=t;return e}}),ro("fill");var so=ao.filter,fo=Gr("filter");Bt({target:"Array",proto:!0,forced:!fo},{filter:function(t){return so(this,t,arguments.length>1?arguments[1]:void 0)}});var ho=ao.find,po="find",_o=!0;po in[]&&Array(1).find((function(){_o=!1})),Bt({target:"Array",proto:!0,forced:_o},{find:function(t){return ho(this,t,arguments.length>1?arguments[1]:void 0)}}),ro(po);var go=ao.findIndex,vo="findIndex",yo=!0;vo in[]&&Array(1).findIndex((function(){yo=!1})),Bt({target:"Array",proto:!0,forced:yo},{findIndex:function(t){return go(this,t,arguments.length>1?arguments[1]:void 0)}}),ro(vo);var mo=function t(e,n,r,o,i,a,u,l){for(var c,s=i,f=0,d=!!u&&wr(u,l,3);f<o;){if(f in r){if(c=d?d(r[f],f,n):r[f],a>0&&Ur(c))s=t(e,n,c,ft(c.length),s,a-1)-1;else{if(s>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[s]=c}s++}f++}return s};Bt({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=Zn(this),n=ft(e.length),r=Yr(e,0);return r.length=mo(r,e,e,n,0,void 0===t?1:ct(t)),r}}),Bt({target:"Array",proto:!0},{flatMap:function(t){var e,n=Zn(this),r=ft(n.length);return br(t),(e=Yr(n,0)).length=mo(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var bo=ao.forEach,wo=uo("forEach")?[].forEach:function(t){return bo(this,t,arguments.length>1?arguments[1]:void 0)};Bt({target:"Array",proto:!0,forced:[].forEach!=wo},{forEach:wo});var xo=gt.includes;Bt({target:"Array",proto:!0},{includes:function(t){return xo(this,t,arguments.length>1?arguments[1]:void 0)}}),ro("includes");var Do=gt.indexOf,Eo=[].indexOf,Ao=!!Eo&&1/[1].indexOf(1,-0)<0,Co=uo("indexOf");Bt({target:"Array",proto:!0,forced:Ao||!Co},{indexOf:function(t){return Ao?Eo.apply(this,arguments)||0:Do(this,t,arguments.length>1?arguments[1]:void 0)}});var Mo="Array Iterator",ko=nt.set,Fo=nt.getterFor(Mo),So=_r(Array,"Array",(function(t,e){ko(this,{type:Mo,target:y(t),index:0,kind:e})}),(function(){var t=Fo(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");or.Arguments=or.Array,ro("keys"),ro("values"),ro("entries");var To=[].join,zo=g!=Object,Bo=uo("join",",");Bt({target:"Array",proto:!0,forced:zo||!Bo},{join:function(t){return To.call(y(this),void 0===t?",":t)}});var No=Math.min,Lo=[].lastIndexOf,Po=!!Lo&&1/[1].lastIndexOf(1,-0)<0,Oo=uo("lastIndexOf"),Io=Po||!Oo?function(t){if(Po)return Lo.apply(this,arguments)||0;var e=y(this),n=ft(e.length),r=n-1;for(arguments.length>1&&(r=No(r,ct(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}:Lo;Bt({target:"Array",proto:!0,forced:Io!==[].lastIndexOf},{lastIndexOf:Io});var jo=ao.map,Ro=Gr("map");Bt({target:"Array",proto:!0,forced:!Ro},{map:function(t){return jo(this,t,arguments.length>1?arguments[1]:void 0)}});var Uo=function(t){return function(e,n,r,o){br(n);var i=Zn(e),a=g(i),u=ft(i.length),l=t?u-1:0,c=t?-1:1;if(r<2)for(;;){if(l in a){o=a[l],l+=c;break}if(l+=c,t?l<0:u<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:u>l;l+=c)l in a&&(o=n(o,a[l],l,i));return o}},qo={left:Uo(!1),right:Uo(!0)},Ho=qo.left,Yo=uo("reduce");Bt({target:"Array",proto:!0,forced:!Yo||!ke&&Be>79&&Be<83},{reduce:function(t){return Ho(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Wo=qo.right,Go=uo("reduceRight");Bt({target:"Array",proto:!0,forced:!Go||!ke&&Be>79&&Be<83},{reduceRight:function(t){return Wo(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Vo=[].reverse,Xo=[1,2];Bt({target:"Array",proto:!0,forced:String(Xo)===String(Xo.reverse())},{reverse:function(){return Ur(this)&&(this.length=this.length),Vo.call(this)}});var $o=Gr("slice"),Zo=je("species"),Qo=[].slice,Jo=Math.max;Bt({target:"Array",proto:!0,forced:!$o},{slice:function(t,e){var n,r,o,i=y(this),a=ft(i.length),u=pt(t,a),l=pt(void 0===e?a:e,a);if(Ur(i)&&("function"!=typeof(n=i.constructor)||n!==Array&&!Ur(n.prototype)?m(n)&&null===(n=n[Zo])&&(n=void 0):n=void 0,n===Array||void 0===n))return Qo.call(i,u,l);for(r=new(void 0===n?Array:n)(Jo(l-u,0)),o=0;u<l;u++,o++)u in i&&Mr(r,o,i[u]);return r.length=o,r}});var Ko=ao.some,ti=uo("some");Bt({target:"Array",proto:!0,forced:!ti},{some:function(t){return Ko(this,t,arguments.length>1?arguments[1]:void 0)}});var ei=[],ni=ei.sort,ri=u((function(){ei.sort(void 0)})),oi=u((function(){ei.sort(null)})),ii=uo("sort");Bt({target:"Array",proto:!0,forced:ri||!oi||!ii},{sort:function(t){return void 0===t?ni.call(Zn(this)):ni.call(Zn(this),br(t))}});var ai=je("species"),ui=function(t){var e=at(t),n=T.f;l&&e&&!e[ai]&&n(e,ai,{configurable:!0,get:function(){return this}})};ui("Array");var li=Gr("splice"),ci=Math.max,si=Math.min,fi=9007199254740991,di="Maximum allowed length exceeded";Bt({target:"Array",proto:!0,forced:!li},{splice:function(t,e){var n,r,o,i,a,u,l=Zn(this),c=ft(l.length),s=pt(t,c),f=arguments.length;if(0===f?n=r=0:1===f?(n=0,r=c-s):(n=f-2,r=si(ci(ct(e),0),c-s)),c+n-r>fi)throw TypeError(di);for(o=Yr(l,r),i=0;i<r;i++)(a=s+i)in l&&Mr(o,i,l[a]);if(o.length=r,n<r){for(i=s;i<c-r;i++)u=i+n,(a=i+r)in l?l[u]=l[a]:delete l[u];for(i=c;i>c-r+n;i--)delete l[i-1]}else if(n>r)for(i=c-r;i>s;i--)u=i+n-1,(a=i+r-1)in l?l[u]=l[a]:delete l[u];for(i=0;i<n;i++)l[i+s]=arguments[i+2];return l.length=c-r+n,o}}),ro("flat"),ro("flatMap");ot.Array;var hi=function(){var t=F(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function pi(t,e){return RegExp(t,e)}var _i,gi,vi={UNSUPPORTED_Y:u((function(){var t=pi("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:u((function(){var t=pi("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},yi=RegExp.prototype.exec,mi=String.prototype.replace,bi=yi,wi=(_i=/a/,gi=/b*/g,yi.call(_i,"a"),yi.call(gi,"a"),0!==_i.lastIndex||0!==gi.lastIndex),xi=vi.UNSUPPORTED_Y||vi.BROKEN_CARET,Di=void 0!==/()??/.exec("")[1];(wi||Di||xi)&&(bi=function(t){var e,n,r,o,i=this,a=xi&&i.sticky,u=hi.call(i),l=i.source,c=0,s=t;return a&&(-1===(u=u.replace("y","")).indexOf("g")&&(u+="g"),s=String(t).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==t[i.lastIndex-1])&&(l="(?: "+l+")",s=" "+s,c++),n=new RegExp("^(?:"+l+")",u)),Di&&(n=new RegExp("^"+l+"$(?!\\s)",u)),wi&&(e=i.lastIndex),r=yi.call(a?n:i,s),a?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:wi&&r&&(i.lastIndex=i.global?r.index+r[0].length:e),Di&&r&&r.length>1&&mi.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r});var Ei=bi;Bt({target:"RegExp",proto:!0,forced:/./.exec!==Ei},{exec:Ei});var Ai=String.fromCharCode,Ci=String.fromCodePoint,Mi=!!Ci&&1!=Ci.length;Bt({target:"String",stat:!0,forced:Mi},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,o=0;r>o;){if(e=+arguments[o++],pt(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?Ai(e):Ai(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}}),Bt({target:"String",stat:!0},{raw:function(t){for(var e=y(t.raw),n=ft(e.length),r=arguments.length,o=[],i=0;n>i;)o.push(String(e[i++])),i<r&&o.push(String(arguments[i]));return o.join("")}});var ki=$n.codeAt;Bt({target:"String",proto:!0},{codePointAt:function(t){return ki(this,t)}});var Fi,Si=je("match"),Ti=function(t){var e;return m(t)&&(void 0!==(e=t[Si])?!!e:"RegExp"==p(t))},zi=function(t){if(Ti(t))throw TypeError("The method doesn't accept regular expressions");return t},Bi=je("match"),Ni=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Bi]=!1,"/./"[t](e)}catch(t){}}return!1},Li=k.f,Pi="".endsWith,Oi=Math.min,Ii=Ni("endsWith"),ji=!(Ii||(Fi=Li(String.prototype,"endsWith"),!Fi||Fi.writable));Bt({target:"String",proto:!0,forced:!ji&&!Ii},{endsWith:function(t){var e=String(v(this));zi(t);var n=arguments.length>1?arguments[1]:void 0,r=ft(e.length),o=void 0===n?r:Oi(ft(n),r),i=String(t);return Pi?Pi.call(e,i,o):e.slice(o-i.length,o)===i}}),Bt({target:"String",proto:!0,forced:!Ni("includes")},{includes:function(t){return!!~String(v(this)).indexOf(zi(t),arguments.length>1?arguments[1]:void 0)}});var Ri=je("species"),Ui=!u((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),qi="$0"==="a".replace(/./,"$0"),Hi=je("replace"),Yi=!!/./[Hi]&&""===/./[Hi]("a","$0"),Wi=!u((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Gi=function(t,e,n,r){var o=je(t),i=!u((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),a=i&&!u((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[Ri]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return e=!0,null},n[o](""),!e}));if(!i||!a||"replace"===t&&(!Ui||!qi||Yi)||"split"===t&&!Wi){var l=/./[o],c=n(o,""[t],(function(t,e,n,r,o){return e.exec===Ei?i&&!o?{done:!0,value:l.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:qi,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Yi}),s=c[0],f=c[1];rt(String.prototype,t,s),rt(RegExp.prototype,o,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)})}r&&z(RegExp.prototype[o],"sham",!0)},Vi=$n.charAt,Xi=function(t,e,n){return e+(n?Vi(t,e).length:1)},$i=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!==o(r))throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==p(t))throw TypeError("RegExp#exec called on incompatible receiver");return Ei.call(t,e)};Gi("match",1,(function(t,e,n){return[function(e){var n=v(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var o=F(t),i=String(this);if(!o.global)return $i(o,i);var a=o.unicode;o.lastIndex=0;for(var u,l=[],c=0;null!==(u=$i(o,i));){var s=String(u[0]);l[c]=s,""===s&&(o.lastIndex=Xi(i,ft(o.lastIndex),a)),c++}return 0===c?null:l}]}));var Zi=je("species"),Qi=function(t,e){var n,r=F(t).constructor;return void 0===r||null==(n=F(r)[Zi])?e:br(n)},Ji=je("matchAll"),Ki="RegExp String",ta="RegExp String Iterator",ea=nt.set,na=nt.getterFor(ta),ra=RegExp.prototype,oa=ra.exec,ia="".matchAll,aa=!!ia&&!u((function(){"a".matchAll(/./)})),ua=ur((function(t,e,n,r){ea(this,{type:ta,regexp:t,string:e,global:n,unicode:r,done:!1})}),Ki,(function(){var t=na(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,r=function(t,e){var n,r=t.exec;if("function"==typeof r){if(n=r.call(t,e),"object"!=o(n))throw TypeError("Incorrect exec result");return n}return oa.call(t,e)}(e,n);return null===r?{value:void 0,done:t.done=!0}:t.global?(""==String(r[0])&&(e.lastIndex=Xi(n,ft(e.lastIndex),t.unicode)),{value:r,done:!1}):(t.done=!0,{value:r,done:!1})})),la=function(t){var e,n,r,o,i,a,u=F(this),l=String(t);return e=Qi(u,RegExp),void 0===(n=u.flags)&&u instanceof RegExp&&!("flags"in ra)&&(n=hi.call(u)),r=void 0===n?"":String(n),o=new e(e===RegExp?u.source:u,r),i=!!~r.indexOf("g"),a=!!~r.indexOf("u"),o.lastIndex=ft(u.lastIndex),new ua(o,l,i,a)};Bt({target:"String",proto:!0,forced:aa},{matchAll:function(t){var e,n,r=v(this);if(null!=t){if(Ti(t)&&!~String(v("flags"in ra?t.flags:hi.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(aa)return ia.apply(r,arguments);if(null!=(n=t[Ji]))return br(n).call(t,r)}else if(aa)return ia.apply(r,arguments);return e=String(r),new RegExp(t,"g")[Ji](e)}}),Ji in ra||z(ra,Ji,la);var ca=Math.ceil,sa=function(t){return function(e,n,r){var o,i,a=String(v(e)),u=a.length,l=void 0===r?" ":String(r),c=ft(n);return c<=u||""==l?a:(o=c-u,(i=Ln.call(l,ca(o/l.length))).length>o&&(i=i.slice(0,o)),t?a+i:i+a)}},fa={start:sa(!1),end:sa(!0)},da=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(Fe),ha=fa.end;Bt({target:"String",proto:!0,forced:da},{padEnd:function(t){return ha(this,t,arguments.length>1?arguments[1]:void 0)}});var pa=fa.start;Bt({target:"String",proto:!0,forced:da},{padStart:function(t){return pa(this,t,arguments.length>1?arguments[1]:void 0)}}),Bt({target:"String",proto:!0},{repeat:Ln});var _a=Math.floor,ga="".replace,va=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,ya=/\$([$&'`]|\d{1,2})/g,ma=function(t,e,n,r,o,i){var a=n+t.length,u=r.length,l=ya;return void 0!==o&&(o=Zn(o),l=va),ga.call(i,l,(function(i,l){var c;switch(l.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(a);case"<":c=o[l.slice(1,-1)];break;default:var s=+l;if(0===s)return i;if(s>u){var f=_a(s/10);return 0===f?i:f<=u?void 0===r[f-1]?l.charAt(1):r[f-1]+l.charAt(1):i}c=r[s-1]}return void 0===c?"":c}))},ba=Math.max,wa=Math.min;Gi("replace",2,(function(t,e,n,r){var o=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=r.REPLACE_KEEPS_$0,a=o?"$":"$0";return[function(n,r){var o=v(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,r){if(!o&&i||"string"==typeof r&&-1===r.indexOf(a)){var u=n(e,t,this,r);if(u.done)return u.value}var l=F(t),c=String(this),s="function"==typeof r;s||(r=String(r));var f=l.global;if(f){var d=l.unicode;l.lastIndex=0}for(var h=[];;){var p=$i(l,c);if(null===p)break;if(h.push(p),!f)break;""===String(p[0])&&(l.lastIndex=Xi(c,ft(l.lastIndex),d))}for(var _,g="",v=0,y=0;y<h.length;y++){p=h[y];for(var m=String(p[0]),b=ba(wa(ct(p.index),c.length),0),w=[],x=1;x<p.length;x++)w.push(void 0===(_=p[x])?_:String(_));var D=p.groups;if(s){var E=[m].concat(w,b,c);void 0!==D&&E.push(D);var A=String(r.apply(void 0,E))}else A=ma(m,c,b,w,D,r);b>=v&&(g+=c.slice(v,b)+A,v=b+m.length)}return g+c.slice(v)}]}));var xa=je("replace"),Da=RegExp.prototype,Ea=Math.max,Aa=function(t,e,n){return n>t.length?-1:""===e?n:t.indexOf(e,n)};Bt({target:"String",proto:!0},{replaceAll:function(t,e){var n,r,o,i,a,u,l,c=v(this),s=0,f=0,d="";if(null!=t){if(Ti(t)&&!~String(v("flags"in Da?t.flags:hi.call(t))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(n=t[xa]))return n.call(t,c,e)}for(r=String(c),o=String(t),(i="function"==typeof e)||(e=String(e)),a=o.length,u=Ea(1,a),s=Aa(r,o,0);-1!==s;)l=i?String(e(o,s,r)):ma(o,r,s,[],void 0,e),d+=r.slice(f,s)+l,f=s+a,s=Aa(r,o,s+u);return f<r.length&&(d+=r.slice(f)),d}});var Ca=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};Gi("search",1,(function(t,e,n){return[function(e){var n=v(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var o=F(t),i=String(this),a=o.lastIndex;Ca(a,0)||(o.lastIndex=0);var u=$i(o,i);return Ca(o.lastIndex,a)||(o.lastIndex=a),null===u?-1:u.index}]}));var Ma=[].push,ka=Math.min,Fa=4294967295,Sa=!u((function(){return!RegExp(Fa,"y")}));Gi("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(v(this)),o=void 0===n?Fa:n>>>0;if(0===o)return[];if(void 0===t)return[r];if(!Ti(t))return e.call(r,t,o);for(var i,a,u,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),s=0,f=new RegExp(t.source,c+"g");(i=Ei.call(f,r))&&!((a=f.lastIndex)>s&&(l.push(r.slice(s,i.index)),i.length>1&&i.index<r.length&&Ma.apply(l,i.slice(1)),u=i[0].length,s=a,l.length>=o));)f.lastIndex===i.index&&f.lastIndex++;return s===r.length?!u&&f.test("")||l.push(""):l.push(r.slice(s)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=v(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,n):r.call(String(o),e,n)},function(t,o){var i=n(r,t,this,o,r!==e);if(i.done)return i.value;var a=F(t),u=String(this),l=Qi(a,RegExp),c=a.unicode,s=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Sa?"y":"g"),f=new l(Sa?a:"^(?:"+a.source+")",s),d=void 0===o?Fa:o>>>0;if(0===d)return[];if(0===u.length)return null===$i(f,u)?[u]:[];for(var h=0,p=0,_=[];p<u.length;){f.lastIndex=Sa?p:0;var g,v=$i(f,Sa?u:u.slice(p));if(null===v||(g=ka(ft(f.lastIndex+(Sa?0:p)),u.length))===h)p=Xi(u,p,c);else{if(_.push(u.slice(h,p)),_.length===d)return _;for(var y=1;y<=v.length-1;y++)if(_.push(v[y]),_.length===d)return _;p=h=g}}return _.push(u.slice(h)),_}]}),!Sa);var Ta=k.f,za="".startsWith,Ba=Math.min,Na=Ni("startsWith"),La=!Na&&!!function(){var t=Ta(String.prototype,"startsWith");return t&&!t.writable}();Bt({target:"String",proto:!0,forced:!La&&!Na},{startsWith:function(t){var e=String(v(this));zi(t);var n=ft(Ba(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return za?za.call(e,r,n):e.slice(n,n+r.length)===r}});var Pa=function(t){return u((function(){return!!nn[t]()||"​᠎"!="​᠎"[t]()||nn[t].name!==t}))},Oa=ln.trim;Bt({target:"String",proto:!0,forced:Pa("trim")},{trim:function(){return Oa(this)}});var Ia=ln.start,ja=Pa("trimStart"),Ra=ja?function(){return Ia(this)}:"".trimStart;Bt({target:"String",proto:!0,forced:ja},{trimStart:Ra,trimLeft:Ra});var Ua=ln.end,qa=Pa("trimEnd"),Ha=qa?function(){return Ua(this)}:"".trimEnd;Bt({target:"String",proto:!0,forced:qa},{trimEnd:Ha,trimRight:Ha});var Ya=/"/g,Wa=function(t,e,n,r){var o=String(v(t)),i="<"+e;return""!==n&&(i+=" "+n+'="'+String(r).replace(Ya,"&quot;")+'"'),i+">"+o+"</"+e+">"},Ga=function(t){return u((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))};Bt({target:"String",proto:!0,forced:Ga("anchor")},{anchor:function(t){return Wa(this,"a","name",t)}}),Bt({target:"String",proto:!0,forced:Ga("big")},{big:function(){return Wa(this,"big","","")}}),Bt({target:"String",proto:!0,forced:Ga("blink")},{blink:function(){return Wa(this,"blink","","")}}),Bt({target:"String",proto:!0,forced:Ga("bold")},{bold:function(){return Wa(this,"b","","")}}),Bt({target:"String",proto:!0,forced:Ga("fixed")},{fixed:function(){return Wa(this,"tt","","")}}),Bt({target:"String",proto:!0,forced:Ga("fontcolor")},{fontcolor:function(t){return Wa(this,"font","color",t)}}),Bt({target:"String",proto:!0,forced:Ga("fontsize")},{fontsize:function(t){return Wa(this,"font","size",t)}}),Bt({target:"String",proto:!0,forced:Ga("italics")},{italics:function(){return Wa(this,"i","","")}}),Bt({target:"String",proto:!0,forced:Ga("link")},{link:function(t){return Wa(this,"a","href",t)}}),Bt({target:"String",proto:!0,forced:Ga("small")},{small:function(){return Wa(this,"small","","")}}),Bt({target:"String",proto:!0,forced:Ga("strike")},{strike:function(){return Wa(this,"strike","","")}}),Bt({target:"String",proto:!0,forced:Ga("sub")},{sub:function(){return Wa(this,"sub","","")}}),Bt({target:"String",proto:!0,forced:Ga("sup")},{sup:function(){return Wa(this,"sup","","")}});ot.String;var Va=!u((function(){return Object.isExtensible(Object.preventExtensions({}))})),Xa=r((function(t){var e=T.f,n=G("meta"),r=0,i=Object.isExtensible||function(){return!0},a=function(t){e(t,n,{value:{objectID:"O"+ ++r,weakData:{}}})},u=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!m(t))return"symbol"==o(t)?t:("string"==typeof t?"S":"P")+t;if(!x(t,n)){if(!i(t))return"F";if(!e)return"E";a(t)}return t[n].objectID},getWeakData:function(t,e){if(!x(t,n)){if(!i(t))return!0;if(!e)return!1;a(t)}return t[n].weakData},onFreeze:function(t){return Va&&u.REQUIRED&&i(t)&&!x(t,n)&&a(t),t}};$[n]=!0})),$a=(Xa.REQUIRED,Xa.fastKey,Xa.getWeakData,Xa.onFreeze,function(t,e){this.stopped=t,this.result=e}),Za=function(t,e,n){var r,i,a,u,l,c,s,f=n&&n.that,d=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),_=wr(e,f,1+d+p),g=function(t){return r&&xr(r),new $a(!0,t)},v=function(t){return d?(F(t),p?_(t[0],t[1],g):_(t[0],t[1])):p?_(t,g):_(t)};if(h)r=t;else{if("function"!=typeof(i=Nr(t)))throw TypeError("Target is not iterable");if(Cr(i)){for(a=0,u=ft(t.length);u>a;a++)if((l=v(t[a]))&&l instanceof $a)return l;return new $a(!1)}r=i.call(t)}for(c=r.next;!(s=c.call(r)).done;){try{l=v(s.value)}catch(t){throw xr(r),t}if("object"==o(l)&&l&&l instanceof $a)return l}return new $a(!1)},Qa=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},Ja=function(t,e,n){for(var r in e)rt(t,r,e[r],n);return t},Ka=T.f,tu=Xa.fastKey,eu=nt.set,nu=nt.getterFor,ru=(function(t,e,n){var r=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),i=r?"set":"add",l=a[t],c=l&&l.prototype,s=l,f={},d=function(t){var e=c[t];rt(c,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(o&&!m(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!m(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!m(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(Tt(t,"function"!=typeof l||!(o||c.forEach&&!u((function(){(new l).entries().next()})))))s=n.getConstructor(e,t,r,i),Xa.REQUIRED=!0;else if(Tt(t,!0)){var h=new s,p=h[i](o?{}:-0,1)!=h,_=u((function(){h.has(1)})),g=jr((function(t){new l(t)})),v=!o&&u((function(){for(var t=new l,e=5;e--;)t[i](e,e);return!t.has(-0)}));g||((s=e((function(e,n){Qa(e,s,t);var o=Ve(new l,e,s);return null!=n&&Za(n,o[i],{that:o,AS_ENTRIES:r}),o}))).prototype=c,c.constructor=s),(_||v)&&(d("delete"),d("has"),r&&d("get")),(v||p)&&d(i),o&&c.clear&&delete c.clear}f[t]=s,Bt({global:!0,forced:s!=l},f),qe(s,t),o||n.setStrong(s,t,r)}("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,n,r){var o=t((function(t,i){Qa(t,o,e),eu(t,{type:e,index:en(null),first:void 0,last:void 0,size:0}),l||(t.size=0),null!=i&&Za(i,t[r],{that:t,AS_ENTRIES:n})})),i=nu(e),a=function(t,e,n){var r,o,a=i(t),c=u(t,e);return c?c.value=n:(a.last=c={index:o=tu(e,!0),key:e,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=c),r&&(r.next=c),l?a.size++:t.size++,"F"!==o&&(a.index[o]=c)),t},u=function(t,e){var n,r=i(t),o=tu(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Ja(o.prototype,{clear:function(){for(var t=i(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,l?t.size=0:this.size=0},delete:function(t){var e=this,n=i(e),r=u(e,t);if(r){var o=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=o),o&&(o.previous=a),n.first==r&&(n.first=o),n.last==r&&(n.last=a),l?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=i(this),r=wr(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!u(this,t)}}),Ja(o.prototype,n?{get:function(t){var e=u(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),l&&Ka(o.prototype,"size",{get:function(){return i(this).size}}),o},setStrong:function(t,e,n){var r=e+" Iterator",o=nu(e),i=nu(r);_r(t,e,(function(t,e){eu(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),ui(e)}}),Fr?{}.toString:function(){return"[object "+zr(this)+"]"});Fr||rt(Object.prototype,"toString",ru,{unsafe:!0});var ou={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},iu=je("iterator"),au=je("toStringTag"),uu=So.values;for(var lu in ou){var cu=a[lu],su=cu&&cu.prototype;if(su){if(su[iu]!==uu)try{z(su,iu,uu)}catch(t){su[iu]=uu}if(su[au]||z(su,au,lu),ou[lu])for(var fu in So)if(su[fu]!==So[fu])try{z(su,fu,So[fu])}catch(t){su[fu]=So[fu]}}}ot.Map;var du,hu={projection:"Eckert IV",fit:"world",centering:"center",longitude:0,latitude:0,roll:0,padding:1,min_area:0,include_lines:!1,zoom:1,aspect:null,point_show:!0,point_sort:!1,point_min_radius:0,point_max_radius:10,point_default_radius:2,point_max_value:null,point_fill:"#000000",point_opacity:.5,point_stroke_opacity:0,point_stroke_custom:!1,point_stroke_color:"#000000",point_stroke_width:2,point_colors:{},legend_categorical_points_show:!0,legend_categorical_points_interaction:!0,legend_categorical_points:{show_legend:!0},legend_size_show:!0,legend_size:{show_legend:!0},point_popup:{panel_side_fixed:!1,popup_header_type:"inline",popup_list_type:"ul",popup_width:15,panel_vertical_position:"center"},point_search:!0,point_highlight_fill:"#cccccc",point_highlight_stroke_inner:"#000000",point_highlight_stroke_outer:"#ffffff",point_highlight_stroke_width:3,point_highlight_fill_opacity:.5,point_highlight_fill_custom:!1,map_show:!0,map_fill:"#E8F0EC",map_fill_opacity:1,map_show_stroke:!0,map_highlight_stroke_inner:"#000000",map_highlight_stroke_outer:"#ffffff",map_highlight_stroke_width:3,map_stroke:"#ffffff",map_stroke_width:.5,map_stroke_opacity:1,map_colors:{},line_above_highlights:!1,line_stroke_color:"#000000",line_stroke_width:.5,line_stroke_opacity:1,line_stroke_dash:"long",line_stroke_color_overrides:"",line_stroke_width_overrides:"",line_stroke_opacity_overrides:"",line_stroke_dash_overrides:"",group_quantization_precision:4,group_above_highlights:!1,group_stroke_color:null,group_stroke_width:1.5,group_stroke_opacity:1,legend_map_show:!0,legend_categorical_map:{},legend_continuous_map:{},choropleth_continuous_legend:{},choropleth_scale_per_column:!1,choropleth_missing_values:"pattern",missing_pattern_size:5,missing_pattern_opacity:1,missing_pattern_color_1:"#dddddd",missing_pattern_color_2:"#eeeeee",map_search:!0,choropleth_popup:{popup_pointer:!1,popup_header_type:"inline",popup_list_type:"ul",popup_width:15,panel_vertical_position:"center"},map_shadow:!1,map_shadow_offset_x:-5,map_shadow_offset_y:5,map_shadow_blur:10,map_shadow_color:"#605E5E",map_shadow_opacity:.7,search_box_size:2,search_box_width:12,search_box_radius:4,search_box_stroke:.1,search_bg_color:null,search_bg_opacity:.8,search_icon_color:null,search_text_color:null,search_dropdown:!1,search_expanded:!1,search_placeholder:"Search..",graticule_show:!1,graticule_color:"#aaaaaa",graticule_opacity:1,graticule_width:.5,graticule_separation_longitude:20,graticule_separation_latitude:20,globe_show:!1,globe_color:"#CDD6D6",zoom_on:!0,zoom_animation_duration:2,zoom_scaling_mode:"sqrt",zoom_message_key:"Hold down {{KEY}} + scroll to zoom",zoom_message_touch:"Use two fingers to zoom and pan",zoom_message_stroke:"#FFFFFF",zoom_message_fill:"#333333",layout:{},region_controls:{},localization:{},map_formatting:{},point_formatting:{},hovered_feature:null,sticky_hover:!1,filter:{},reloader:{},focus:{lon:null,lat:null,zoom:null},controls_style:{},button_style:{},dropdown_style:{}};var pu=Object.freeze({"stack-default":["header","controls","primary","footer"],"stack-2":["primary","header","controls","footer"],"stack-3":["header","primary","controls","footer"],"stack-4":["controls","primary","header","footer"]});function _u(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gu(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function vu(){}var yu=.7,mu=1/yu,bu="\\s*([+-]?\\d+)\\s*",wu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",xu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Du=/^#([0-9a-f]{3,8})$/,Eu=new RegExp("^rgb\\("+[bu,bu,bu]+"\\)$"),Au=new RegExp("^rgb\\("+[xu,xu,xu]+"\\)$"),Cu=new RegExp("^rgba\\("+[bu,bu,bu,wu]+"\\)$"),Mu=new RegExp("^rgba\\("+[xu,xu,xu,wu]+"\\)$"),ku=new RegExp("^hsl\\("+[wu,xu,xu]+"\\)$"),Fu=new RegExp("^hsla\\("+[wu,xu,xu,wu]+"\\)$"),Su={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Tu(){return this.rgb().formatHex()}function zu(){return this.rgb().formatRgb()}function Bu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Du.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Nu(e):3===n?new Iu(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Lu(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Lu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Eu.exec(t))?new Iu(e[1],e[2],e[3],1):(e=Au.exec(t))?new Iu(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Cu.exec(t))?Lu(e[1],e[2],e[3],e[4]):(e=Mu.exec(t))?Lu(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ku.exec(t))?qu(e[1],e[2]/100,e[3]/100,1):(e=Fu.exec(t))?qu(e[1],e[2]/100,e[3]/100,e[4]):Su.hasOwnProperty(t)?Nu(Su[t]):"transparent"===t?new Iu(NaN,NaN,NaN,0):null}function Nu(t){return new Iu(t>>16&255,t>>8&255,255&t,1)}function Lu(t,e,n,r){return r<=0&&(t=e=n=NaN),new Iu(t,e,n,r)}function Pu(t){return t instanceof vu||(t=Bu(t)),t?new Iu((t=t.rgb()).r,t.g,t.b,t.opacity):new Iu}function Ou(t,e,n,r){return 1===arguments.length?Pu(t):new Iu(t,e,n,null==r?1:r)}function Iu(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ju(){return"#"+Uu(this.r)+Uu(this.g)+Uu(this.b)}function Ru(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Uu(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function qu(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wu(t,e,n,r)}function Hu(t){if(t instanceof Wu)return new Wu(t.h,t.s,t.l,t.opacity);if(t instanceof vu||(t=Bu(t)),!t)return new Wu;if(t instanceof Wu)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,u=i-o,l=(i+o)/2;return u?(a=e===i?(n-r)/u+6*(n<r):n===i?(r-e)/u+2:(e-n)/u+4,u/=l<.5?i+o:2-i-o,a*=60):u=l>0&&l<1?0:a,new Wu(a,u,l,t.opacity)}function Yu(t,e,n,r){return 1===arguments.length?Hu(t):new Wu(t,e,n,null==r?1:r)}function Wu(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Gu(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}_u(vu,Bu,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Tu,formatHex:Tu,formatHsl:function(){return Hu(this).formatHsl()},formatRgb:zu,toString:zu}),_u(Iu,Ou,gu(vu,{brighter:function(t){return t=null==t?mu:Math.pow(mu,t),new Iu(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?yu:Math.pow(yu,t),new Iu(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ju,formatHex:ju,formatRgb:Ru,toString:Ru})),_u(Wu,Yu,gu(vu,{brighter:function(t){return t=null==t?mu:Math.pow(mu,t),new Wu(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?yu:Math.pow(yu,t),new Wu(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Iu(Gu(t>=240?t-240:t+120,o,r),Gu(t,o,r),Gu(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Vu=Math.PI/180,Xu=180/Math.PI,$u=.96422,Zu=.82521,Qu=4/29,Ju=6/29,Ku=3*Ju*Ju;function tl(t){if(t instanceof nl)return new nl(t.l,t.a,t.b,t.opacity);if(t instanceof cl)return sl(t);t instanceof Iu||(t=Pu(t));var e,n,r=al(t.r),o=al(t.g),i=al(t.b),a=rl((.2225045*r+.7168786*o+.0606169*i)/1);return r===o&&o===i?e=n=a:(e=rl((.4360747*r+.3850649*o+.1430804*i)/$u),n=rl((.0139322*r+.0971045*o+.7141733*i)/Zu)),new nl(116*a-16,500*(e-a),200*(a-n),t.opacity)}function el(t,e,n,r){return 1===arguments.length?tl(t):new nl(t,e,n,null==r?1:r)}function nl(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function rl(t){return t>.008856451679035631?Math.pow(t,1/3):t/Ku+Qu}function ol(t){return t>Ju?t*t*t:Ku*(t-Qu)}function il(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function al(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ul(t){if(t instanceof cl)return new cl(t.h,t.c,t.l,t.opacity);if(t instanceof nl||(t=tl(t)),0===t.a&&0===t.b)return new cl(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Xu;return new cl(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ll(t,e,n,r){return 1===arguments.length?ul(t):new cl(t,e,n,null==r?1:r)}function cl(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function sl(t){if(isNaN(t.h))return new nl(t.l,0,0,t.opacity);var e=t.h*Vu;return new nl(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}_u(nl,el,gu(vu,{brighter:function(t){return new nl(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new nl(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Iu(il(3.1338561*(e=$u*ol(e))-1.6168667*(t=1*ol(t))-.4906146*(n=Zu*ol(n))),il(-.9787684*e+1.9161415*t+.033454*n),il(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),_u(cl,ll,gu(vu,{brighter:function(t){return new cl(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new cl(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return sl(this).rgb()}}));var fl=-.14861,dl=1.78277,hl=-.29227,pl=-.90649,_l=1.97294,gl=_l*pl,vl=_l*dl,yl=dl*hl-pl*fl;function ml(t){if(t instanceof wl)return new wl(t.h,t.s,t.l,t.opacity);t instanceof Iu||(t=Pu(t));var e=t.r/255,n=t.g/255,r=t.b/255,o=(yl*r+gl*e-vl*n)/(yl+gl-vl),i=r-o,a=(_l*(n-o)-hl*i)/pl,u=Math.sqrt(a*a+i*i)/(_l*o*(1-o)),l=u?Math.atan2(a,i)*Xu-120:NaN;return new wl(l<0?l+360:l,u,o,t.opacity)}function bl(t,e,n,r){return 1===arguments.length?ml(t):new wl(t,e,n,null==r?1:r)}function wl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}_u(wl,bl,gu(vu,{brighter:function(t){return t=null==t?mu:Math.pow(mu,t),new wl(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?yu:Math.pow(yu,t),new wl(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Vu,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),o=Math.sin(t);return new Iu(255*(e+n*(fl*r+dl*o)),255*(e+n*(hl*r+pl*o)),255*(e+n*(_l*r)),this.opacity)}}));var xl,Dl,El,Al,Cl,Ml,kl,Fl,Sl,Tl;xl=document.createElement("canvas").getContext("2d");function zl(t){return"string"==typeof t&&null!=t.match(/^(https?:\/\/|data:)/i)}function Bl(t,e){var n=function(t,e){if("string"!=typeof t)return!1;var n=Bu(t);return n.opacity=void 0!==e?e:1,n}(t,e);return!!n&&n.toString()}var Nl=!1;function Ll(t){return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")?"http://"+t:t}function Pl(){var t;return(t=document.createElement("style")).type="text/css",t.innerHTML=".flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }",document.head.appendChild(t),(kl=document.createElement("footer")).className="flourish-footer",(Fl=document.createElement("div")).className="flourish-footer-text",(Tl=document.createElement("a")).target="_blank",(Sl=document.createElement("img")).className="flourish-footer-logo",Tl.appendChild(Sl),kl.appendChild(Fl),kl.appendChild(Tl),kl}function Ol(){return Yl.background_color_enabled&&!function(t){if(t){var e=Bu(t);return Math.round(299*e.r+587*e.g+114*e.b)/1e3>195}console.warn("No valid color",t)}(Yl.background_color)}function Il(){var t=zl(Yl.footer_logo_src)?Yl.footer_logo_src:"";return zl(Yl.footer_logo_src_light)&&Ol()&&(t=Yl.footer_logo_src_light),t}function jl(){return Yl.footer_logo_enabled&&Il()}function Rl(t){t||function(){var t="";["mobile_small","mobile_big","tablet","desktop","big_screen"].forEach((function(e,n){var r="@media(min-width: "+Yl["breakpoint_"+e]+"px) {\n",o="html { font-size:"+Yl["font_size_"+e]+"%; }";t+=(0==n?"":r)+o+(0==n?"":"\n}")+"\n\n"})),du.innerHTML=t;var e=[Yl.body_font,Yl.title_font,Yl.subtitle_font,Yl.footer_font];e.forEach((function(t){if(t){for(var e=!1,n=document.head.querySelectorAll("link.layout-font"),r=0;r<n.length;r++)n[r].href==t.url&&(e=!0);if(!e){var o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("href",t.url),o.className="layout-font",document.head.appendChild(o)}}}));for(var n=document.head.querySelectorAll("link.layout-font"),r=0;r<n.length;r++){var o=n[r],i=!1;e.forEach((function(t){t&&t.url==o.href&&(i=!0)})),i||o.parentElement.removeChild(o)}document.body.style.fontFamily=Yl.body_font.name}(),Dl.style.textAlign=Yl.header_align,Dl.style.margin=0,Dl.style.borderTop="top"==Yl.header_border?Yl.header_border_width+"px "+Yl.header_border_style+" "+Yl.header_border_color:null,Dl.style.borderBottom="bottom"==Yl.header_border?Yl.header_border_width+"px "+Yl.header_border_style+" "+Yl.header_border_color:null,Dl.style.paddingTop="top"==Yl.header_border?Yl.header_border_space+"rem":"",Dl.style.paddingBottom="bottom"==Yl.header_border?Yl.header_border_space+"rem":"",El.innerHTML=Yl.title?Yl.title:"",El.style.fontFamily=Yl.title_font?Yl.title_font.name:"inherit",El.style.fontSize=("custom"!=Yl.title_size?Yl.title_size:Yl.title_size_custom)+"rem",El.style.lineHeight=Yl.title_line_height,El.style.fontWeight=Yl.title_weight,El.style.color=Yl.title_color||Yl.font_color,El.style.margin=0,El.style.paddingTop=Yl.title?("custom"==Yl.title_space_above?Yl.title_space_above_custom:Yl.title_space_above)+"rem":0,Al.innerHTML=Yl.subtitle?Yl.subtitle:"",Al.style.fontFamily=Yl.subtitle_font?Yl.subtitle_font.name:"inherit",Al.style.fontSize=("custom"!=Yl.subtitle_size?Yl.subtitle_size:Yl.subtitle_size_custom)+"rem",Al.style.lineHeight=Yl.subtitle_line_height,Al.style.fontWeight=Yl.subtitle_weight,Al.style.color=Yl.subtitle_color||Yl.font_color,Al.style.margin=0,Al.style.paddingTop=Yl.subtitle?("custom"==Yl.subtitle_space_above?Yl.subtitle_space_above_custom:Yl.subtitle_space_above)+"rem":0,Cl.innerHTML=Yl.header_text?Yl.header_text:"",Cl.style.fontSize=("custom"!=Yl.header_text_size?Yl.header_text_size:Yl.header_text_size_custom)+"rem",Cl.style.lineHeight=Yl.header_text_line_height,Cl.style.fontWeight=Yl.header_text_weight,Cl.style.margin=0,Cl.style.color=Yl.header_text_color||Yl.font_color,Cl.style.paddingTop=Yl.header_text?("custom"==Yl.header_text_space_above?Yl.header_text_space_above_custom:Yl.header_text_space_above)+"rem":0,Ml.style.display=Yl.header_logo_enabled&&zl(Yl.header_logo_src)?"":"none",Ml.style.position="inside"==Yl.header_logo_align?"":"fixed",Ml.style.height=Yl.header_logo_height+"rem",Ml.style.top="outside"==Yl.header_logo_align?0:"",Ml.style.left="outside"==Yl.header_logo_align&&"left"==Yl.header_logo_position_outside?0:"",Ml.style.right="outside"==Yl.header_logo_align&&"right"==Yl.header_logo_position_outside?0:"",Ml.style.marginTop=Yl.header_logo_margin_top+"rem",Ml.style.marginBottom=Yl.header_logo_margin_bottom+"rem",Ml.style.marginLeft=Yl.header_logo_margin_left+"rem",Ml.style.marginRight=Yl.header_logo_margin_right+"rem",Ml.style.float="top"==Yl.header_logo_position_inside||"outside"==Yl.header_logo_align?"":Yl.header_logo_position_inside,Ml.style.width="auto",Ml.src=zl(Yl.header_logo_src)?Yl.header_logo_src:"",function(){var t=[{name:Yl.source_name,url:Yl.source_url},{name:Yl.multiple_sources?Yl.source_name_2:"",url:Yl.multiple_sources?Yl.source_url_2:""},{name:Yl.multiple_sources?Yl.source_name_3:"",url:Yl.multiple_sources?Yl.source_url_3:""}].filter((function(t){return t.name||t.url}));Nl=t.length>0||Yl.footer_note||Yl.footer_note_secondary||jl(),kl.style.display="flex",kl.style.height=Nl?null:0,kl.style.width="100%",kl.style.paddingTop="top"==Yl.footer_border?Yl.footer_border_space+"rem":"",kl.style.paddingBottom="bottom"==Yl.footer_border?Yl.footer_border_space+"rem":"",kl.style.borderTop="top"==Yl.footer_border?Yl.footer_border_width+"px "+Yl.footer_border_style+" "+Yl.footer_border_color:"",kl.style.borderBottom="bottom"==Yl.footer_border?Yl.footer_border_width+"px "+Yl.footer_border_style+" "+Yl.footer_border_color:"",kl.style.fontFamily=Yl.footer_font?Yl.footer_font.name:"inherit","justify"==Yl.footer_align?kl.style.justifyContent="space-between":"left"==Yl.footer_align?kl.style.justifyContent="flex-start":"right"==Yl.footer_align?kl.style.justifyContent="flex-end":"center"==Yl.footer_align&&(kl.style.justifyContent="center"),kl.style.fontSize=Yl.footer_text_size+"rem",kl.style.color=Yl.footer_text_color||Yl.font_color,kl.style.alignItems=Yl.footer_align_vertical;var e=document.createElement("span");t.forEach((function(t,n){var r=document.createElement("p");if(n>0&&(r.innerText=", "),t.url){var o=document.createElement("a");o.innerText=t.name||t.url,o.href=Ll(t.url),o.target="_blank",r.appendChild(o)}else r.innerText+=t.name||t.url;e.innerHTML+=r.innerHTML})),Fl.style.order="left"==Yl.footer_logo_order?2:"",Fl.style.textAlign="justify"==Yl.footer_align?"":Yl.footer_align;var n="<p>";n+=""!==e.innerHTML?Yl.source_label+" "+e.innerHTML:"",n+=Yl.footer_note?(""!==e.innerHTML?" • ":"")+Yl.footer_note:"",n+="</p>",n+=Yl.footer_note_secondary?"<br /><p>"+Yl.footer_note_secondary+"</p>":"",Fl.innerHTML=n,Sl.src=Il(),Sl.style.height=Yl.footer_logo_height+"rem",Sl.style.marginLeft="right"==Yl.footer_logo_order?Yl.footer_logo_margin+"rem":"",Sl.style.marginRight="left"==Yl.footer_logo_order?Yl.footer_logo_margin+"rem":"",Sl.style.verticalAlign=Yl.footer_align_vertical,Sl.style.display=jl()?"":"none",Tl.href=""==Yl.footer_logo_link_url?"":Ll(Yl.footer_logo_link_url),Tl.style.cursor=""==Yl.footer_logo_link_url?"default":"pointer"}(),document.body.style.backgroundColor=Yl.background_color_enabled?Yl.background_color:"transparent",document.body.style.backgroundImage=Yl.background_image_enabled?"url("+Yl.background_image_src+")":"",document.body.style.backgroundSize=Yl.background_image_size,document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition=Yl.background_image_position;var e=Xl.wrapper.style;e.height="100vh",e.color=Yl.font_color,e.maxWidth="wrapper"==Yl.max_width_target?Yl.max_width+"px":"",e.marginLeft="wrapper"==Yl.max_width_target&&"left"!=Yl.max_width_align?"auto":"",e.marginRight="wrapper"==Yl.max_width_target&&"right"!=Yl.max_width_align?"auto":"",e.padding=Yl.margin_top+"rem "+Yl.margin_right+"rem "+Yl.margin_bottom+"rem "+Yl.margin_left+"rem",e.borderTop=Yl.border.enabled?Yl.border.top.width+"px "+Yl.border.top.style+" "+Yl.border.top.color:"",e.borderRight=Yl.border.enabled?Yl.border.right.width+"px "+Yl.border.right.style+" "+Yl.border.right.color:"",e.borderBottom=Yl.border.enabled?Yl.border.bottom.width+"px "+Yl.border.bottom.style+" "+Yl.border.bottom.color:"",e.borderLeft=Yl.border.enabled?Yl.border.left.width+"px "+Yl.border.left.style+" "+Yl.border.left.color:"";var n=Xl.primary.outer.style,r=Xl.legend.outer.style,o=parseFloat(n.order)>parseFloat(r.order)?"above":"below";pu[Yl.layout_order].forEach((function(t,e){Xl[t].outer.style.order=10*e})),n.flex="1 1 auto",n.height=null,dc(o),r.textAlign=Yl.header_align,Xl.controls.outer.style.textAlign=Yl.header_align,Xl.primary.outer.style.maxWidth="primary"==Yl.max_width_target?Yl.max_width+"px":"",Xl.primary.outer.style.marginLeft="primary"==Yl.max_width_target&&"left"!=Yl.max_width_align?"auto":"",Xl.primary.outer.style.marginRight="primary"==Yl.max_width_target&&"right"!=Yl.max_width_align?"auto":"";var i=Yl.screenreader_hide_primary&&""!=Yl.screenreader_text_primary;document.getElementById("fl-layout-primary-description").innerText=Yl.screenreader_hide_primary?Yl.screenreader_text_primary:"",i?Xl.primary.outer.setAttribute("aria-describedBy","fl-layout-primary-description"):Xl.primary.outer.removeAttribute("aria-describedBy"),Yl.screenreader_hide_primary?Xl.primary.inner.setAttribute("aria-hidden",!0):Xl.primary.inner.removeAttribute("aria-hidden");var a=("custom"==Yl.space_between_sections?Yl.space_between_sections_custom:Yl.space_between_sections)/2+"rem";Vl.map((function(t){var e=Xl[t],n=e.outer.style;return{name:t,height:Zl(e.inner),order:parseFloat(n.order),style:n}})).sort((function(t,e){return t.order-e.order})).filter((function(t){if(t.height)return!0;t.style.paddingBottom="",t.style.paddingTop=""})).forEach((function(t,e,n){t.style.paddingTop=e?a:"",t.style.paddingBottom=e<n.length-1?a:""}))}var Ul=Object.freeze({body_font:{name:"Source Sans Pro",url:"https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700"},title_font:null,subtitle_font:null,footer_font:null,border:{enabled:!1,top:{width:1,color:"#dddddd",style:"solid"},right:{width:1,color:"#dddddd",style:"solid"},bottom:{width:1,color:"#dddddd",style:"solid"},left:{width:1,color:"#dddddd",style:"solid"}},layout_order:"stack-default",margin_top:.75,margin_right:.75,margin_bottom:.75,margin_left:.75,space_between_sections:1,space_between_sections_custom:1,background_color_enabled:!0,background_color:"#ffffff",background_image_enabled:!1,background_image_src:"",background_image_size:"cover",background_image_position:"center center",max_width:600,max_width_target:"none",max_width_align:"center",breakpoint_mobile_small:0,breakpoint_mobile_big:380,breakpoint_tablet:580,breakpoint_desktop:1080,breakpoint_big_screen:1280,font_color:"#333333",font_size_mobile_small:62.5,font_size_mobile_big:75,font_size_tablet:87.5,font_size_desktop:100,font_size_big_screen:120,header_align:"left",header_border:"none",header_border_width:1,header_border_color:"#dddddd",header_border_style:"solid",header_border_space:.5,header_logo_enabled:!1,header_logo_align:"inside",header_logo_src:"",header_logo_height:3,header_logo_position_inside:"left",header_logo_position_outside:"left",header_logo_margin_top:.25,header_logo_margin_right:.5,header_logo_margin_bottom:0,header_logo_margin_left:0,title:"",title_size:1.6,title_size_custom:1.6,title_line_height:1.2,title_color:null,title_weight:"bold",title_space_above:0,title_space_above_custom:1.5,title_styling:!1,subtitle:"",subtitle_size:1.6,subtitle_size_custom:1.6,subtitle_line_height:1.2,subtitle_color:null,subtitle_weight:"normal",subtitle_space_above:0,subtitle_space_above_custom:1.5,subtitle_styling:!1,header_text:"",header_text_size:1.2,header_text_size_custom:1.2,header_text_line_height:1.2,header_text_color:null,header_text_weight:"normal",header_text_space_above:.5,header_text_space_above_custom:1.5,source_label:"Source: ",source_name:"",source_url:"",source_name_2:"",source_url_2:"",source_name_3:"",source_url_3:"",footer_note:"",footer_note_secondary:"",footer_text_size:1,footer_text_color:null,footer_styling:!1,footer_align:"justify",footer_align_vertical:"center",footer_border:"none",footer_border_width:1,footer_border_color:"#dddddd",footer_border_style:"solid",footer_border_space:.5,footer_logo_enabled:!1,footer_logo_src:"",footer_logo_src_light:"",footer_logo_link_url:"",footer_logo_height:1.5,footer_logo_margin:.25,footer_logo_order:"right",screenreader_hide_primary:!0,screenreader_text_primary:""});var ql,Hl,Yl;function Wl(t){return window.innerWidth!==ql&&(ql=window.innerWidth,Hl=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*Hl}var Gl,Vl=["header","controls","legend","primary","footer"],Xl={};function $l(t){return t.getBoundingClientRect().width}function Zl(t){return t.getBoundingClientRect().height}function Ql(t,e){var n="fl-layout-"+t,r=document.createElement("section");r.className="fl-layout-container",r.id=n+"-container",r.style.width="100%",r.style.position="relative",r.style.order=e;var o=document.createElement("div");return o.className="fl-layout-inner",o.id=n,o.style.width="100%",o.style.position="relative","primary"==t&&(r.style.display="flex",function(t){var e=document.createElement("p");e.id="fl-layout-primary-description";var n=e.style;n.border="0",n.height="1px",n.width="1px",n.margin="-1px",n.overflow="hidden",n.padding="0",n.position="absolute",n.clip="rect(0 0 0 0)",t.appendChild(e)}(r)),"controls"!=t&&"legend"!=t||o.setAttribute("aria-hidden",!0),r.appendChild(o),Xl.wrapper.appendChild(r),{outer:r,inner:o}}function Jl(){return Xl.wrapper}function Kl(){return Xl.sidebar}function tc(t){return-1!==Vl.indexOf(t)?Xl[t].inner:null}function ec(t){return Xl[t]||void 0===t?$l("wrapper"==t||void 0===t?Xl.wrapper:Xl[t].outer):null}function nc(t){return Xl[t]||void 0===t?"wrapper"==t||void 0===t?$l(Xl.wrapper)-cc("horizontal")-sc("horizontal"):$l(Xl[t].inner):null}function rc(t){return Xl[t]||void 0===t?Zl("wrapper"==t||void 0===t?Xl.wrapper:Xl[t].outer):null}function oc(t){return Xl[t]||void 0===t?"wrapper"==t||void 0===t?Zl(Xl.wrapper)-cc("vertical")-sc("vertical"):Zl(Xl[t].inner):null}function ic(){return Zl(Xl.primary.outer)-uc(Xl.primary.outer)}function ac(){return $l(Xl.primary.inner)}function uc(t){return(parseFloat(getComputedStyle(t).paddingTop)||0)+(parseFloat(getComputedStyle(t).paddingBottom)||0)}function lc(){return function(){if(Flourish.fixed_height)return window.innerHeight;var t=window.innerWidth;return t>999?650:t>599?575:400}()-cc("vertical")-sc("vertical")-["header","controls","legend","footer"].reduce((function(t,e){return t+rc(e)}),0)-uc(Xl.primary.outer)}function cc(t){var e;return"left"==t?e=Yl.margin_left:"right"==t?e=Yl.margin_right:"top"==t?e=Yl.margin_top:"bottom"==t?e=Yl.margin_bottom:"horizontal"==t?e=Yl.margin_left+Yl.margin_right:"vertical"==t&&(e=Yl.margin_top+Yl.margin_bottom),Wl(e)}function sc(t){return Yl.border.enabled?"vertical"==t?Yl.border.top.width+Yl.border.bottom.width:"horizontal"==t?Yl.border.left.width+Yl.border.right.width:null:0}function fc(t){var e=Xl.primary;if(Flourish.fixed_height||void 0===Flourish.fixed_height)e.inner.style.height="";else{var n=null===t,r=n?lc():t;r+uc(Xl.primary.outer)!==parseFloat(e.outer.style.height)&&(Xl.wrapper.style.height="",e.outer.style.flex="",e.inner.style.height=r+"px",Flourish.setHeight(n?null:rc()))}}function dc(t){var e=parseFloat(Xl.primary.outer.style.order);Xl.legend.outer.style.order=e+1*("below"===t.trim().toLowerCase()?1:-1)}function hc(t){var e=Gl.querySelector(".fl-layout-overlay-message");if(t){Gl.style.display="block";var n="string"==typeof t?t:"Your web browser does not support the features used by this content. Consider updating to a modern browser.";e.innerHTML=n}else e.textContent="",Gl.style.display="none"}function pc(){return Gl}function _c(){return new gc}function gc(){this.reset()}gc.prototype={constructor:gc,reset:function(){this.s=this.t=0},add:function(t){yc(vc,t,this.t),yc(this,vc.s,this.s),this.s?this.t+=vc.t:this.s=vc.t},valueOf:function(){return this.s}};var vc=new gc;function yc(t,e,n){var r=t.s=e+n,o=r-e,i=r-o;t.t=e-i+(n-o)}var mc=1e-6,bc=1e-12,wc=Math.PI,xc=wc/2,Dc=wc/4,Ec=2*wc,Ac=180/wc,Cc=wc/180,Mc=Math.abs,kc=Math.atan,Fc=Math.atan2,Sc=Math.cos,Tc=Math.ceil,zc=Math.sin,Bc=Math.sign||function(t){return t>0?1:t<0?-1:0},Nc=Math.sqrt;function Lc(t){return t>1?0:t<-1?wc:Math.acos(t)}function Pc(t){return t>1?xc:t<-1?-xc:Math.asin(t)}function Oc(){}function Ic(t,e){t&&Rc.hasOwnProperty(t.type)&&Rc[t.type](t,e)}var jc={Feature:function(t,e){Ic(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)Ic(n[r].geometry,e)}},Rc={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Uc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)Uc(n[r],e,0)},Polygon:function(t,e){qc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)qc(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)Ic(n[r],e)}};function Uc(t,e,n){var r,o=-1,i=t.length-n;for(e.lineStart();++o<i;)r=t[o],e.point(r[0],r[1],r[2]);e.lineEnd()}function qc(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Uc(t[n],e,1);e.polygonEnd()}function Hc(t,e){t&&jc.hasOwnProperty(t.type)?jc[t.type](t,e):Ic(t,e)}var Yc,Wc,Gc,Vc,Xc,$c,Zc,Qc,Jc,Kc,ts,es,ns,rs,os,is,as,us,ls,cs,ss,fs=_c(),ds=_c(),hs={point:Oc,lineStart:Oc,lineEnd:Oc,polygonStart:function(){fs.reset(),hs.lineStart=ps,hs.lineEnd=_s},polygonEnd:function(){var t=+fs;ds.add(t<0?Ec+t:t),this.lineStart=this.lineEnd=this.point=Oc},sphere:function(){ds.add(Ec)}};function ps(){hs.point=gs}function _s(){vs(Yc,Wc)}function gs(t,e){hs.point=vs,Yc=t,Wc=e,Gc=t*=Cc,Vc=Sc(e=(e*=Cc)/2+Dc),Xc=zc(e)}function vs(t,e){var n=(t*=Cc)-Gc,r=n>=0?1:-1,o=r*n,i=Sc(e=(e*=Cc)/2+Dc),a=zc(e),u=Xc*a,l=Vc*i+u*Sc(o),c=u*r*zc(o);fs.add(Fc(c,l)),Gc=t,Vc=i,Xc=a}function ys(t){return[Fc(t[1],t[0]),Pc(t[2])]}function ms(t){var e=t[0],n=t[1],r=Sc(n);return[r*Sc(e),r*zc(e),zc(n)]}function bs(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ws(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function xs(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ds(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Es(t){var e=Nc(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var As={sphere:Oc,point:Cs,lineStart:ks,lineEnd:Ts,polygonStart:function(){As.lineStart=zs,As.lineEnd=Bs},polygonEnd:function(){As.lineStart=ks,As.lineEnd=Ts}};function Cs(t,e){t*=Cc;var n=Sc(e*=Cc);Ms(n*Sc(t),n*zc(t),zc(e))}function Ms(t,e,n){++$c,Qc+=(t-Qc)/$c,Jc+=(e-Jc)/$c,Kc+=(n-Kc)/$c}function ks(){As.point=Fs}function Fs(t,e){t*=Cc;var n=Sc(e*=Cc);ls=n*Sc(t),cs=n*zc(t),ss=zc(e),As.point=Ss,Ms(ls,cs,ss)}function Ss(t,e){t*=Cc;var n=Sc(e*=Cc),r=n*Sc(t),o=n*zc(t),i=zc(e),a=Fc(Nc((a=cs*i-ss*o)*a+(a=ss*r-ls*i)*a+(a=ls*o-cs*r)*a),ls*r+cs*o+ss*i);Zc+=a,ts+=a*(ls+(ls=r)),es+=a*(cs+(cs=o)),ns+=a*(ss+(ss=i)),Ms(ls,cs,ss)}function Ts(){As.point=Cs}function zs(){As.point=Ns}function Bs(){Ls(as,us),As.point=Cs}function Ns(t,e){as=t,us=e,t*=Cc,e*=Cc,As.point=Ls;var n=Sc(e);ls=n*Sc(t),cs=n*zc(t),ss=zc(e),Ms(ls,cs,ss)}function Ls(t,e){t*=Cc;var n=Sc(e*=Cc),r=n*Sc(t),o=n*zc(t),i=zc(e),a=cs*i-ss*o,u=ss*r-ls*i,l=ls*o-cs*r,c=Nc(a*a+u*u+l*l),s=Pc(c),f=c&&-s/c;rs+=f*a,os+=f*u,is+=f*l,Zc+=s,ts+=s*(ls+(ls=r)),es+=s*(cs+(cs=o)),ns+=s*(ss+(ss=i)),Ms(ls,cs,ss)}function Ps(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Os(t,e){return[Mc(t)>wc?t+Math.round(-t/Ec)*Ec:t,e]}function Is(t){return function(e,n){return[(e+=t)>wc?e-Ec:e<-wc?e+Ec:e,n]}}function js(t){var e=Is(t);return e.invert=Is(-t),e}function Rs(t,e){var n=Sc(t),r=zc(t),o=Sc(e),i=zc(e);function a(t,e){var a=Sc(e),u=Sc(t)*a,l=zc(t)*a,c=zc(e),s=c*n+u*r;return[Fc(l*o-s*i,u*n-c*r),Pc(s*o+l*i)]}return a.invert=function(t,e){var a=Sc(e),u=Sc(t)*a,l=zc(t)*a,c=zc(e),s=c*o-l*i;return[Fc(l*o+c*i,u*n+s*r),Pc(s*n-u*r)]},a}function Us(t,e){(e=ms(e))[0]-=t,Es(e);var n=Lc(-e[1]);return((-e[2]<0?-n:n)+Ec-mc)%Ec}function qs(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:Oc,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Hs(t,e){return Mc(t[0]-e[0])<mc&&Mc(t[1]-e[1])<mc}function Ys(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ws(t,e,n,r,o){var i,a,u=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Hs(r,a)){if(!r[2]&&!a[2]){for(o.lineStart(),i=0;i<e;++i)o.point((r=t[i])[0],r[1]);return void o.lineEnd()}a[0]+=2e-6}u.push(n=new Ys(r,t,null,!0)),l.push(n.o=new Ys(r,null,n,!1)),u.push(n=new Ys(a,t,null,!1)),l.push(n.o=new Ys(a,null,n,!0))}})),u.length){for(l.sort(e),Gs(u),Gs(l),i=0,a=l.length;i<a;++i)l[i].e=n=!n;for(var c,s,f=u[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;c=d.z,o.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(i=0,a=c.length;i<a;++i)o.point((s=c[i])[0],s[1]);else r(d.x,d.n.x,1,o);d=d.n}else{if(h)for(c=d.p.z,i=c.length-1;i>=0;--i)o.point((s=c[i])[0],s[1]);else r(d.x,d.p.x,-1,o);d=d.p}c=(d=d.o).z,h=!h}while(!d.v);o.lineEnd()}}}function Gs(t){if(e=t.length){for(var e,n,r=0,o=t[0];++r<e;)o.n=n=t[r],n.p=o,o=n;o.n=n=t[0],n.p=o}}Os.invert=Os;var Vs=_c();function Xs(t){return Mc(t[0])<=wc?t[0]:Bc(t[0])*((Mc(t[0])+wc)%Ec-wc)}function $s(t,e){var n=Xs(e),r=e[1],o=zc(r),i=[zc(n),-Sc(n),0],a=0,u=0;Vs.reset(),1===o?r=xc+mc:-1===o&&(r=-xc-mc);for(var l=0,c=t.length;l<c;++l)if(f=(s=t[l]).length)for(var s,f,d=s[f-1],h=Xs(d),p=d[1]/2+Dc,_=zc(p),g=Sc(p),v=0;v<f;++v,h=m,_=w,g=x,d=y){var y=s[v],m=Xs(y),b=y[1]/2+Dc,w=zc(b),x=Sc(b),D=m-h,E=D>=0?1:-1,A=E*D,C=A>wc,M=_*w;if(Vs.add(Fc(M*E*zc(A),g*x+M*Sc(A))),a+=C?D+E*Ec:D,C^h>=n^m>=n){var k=ws(ms(d),ms(y));Es(k);var F=ws(i,k);Es(F);var S=(C^D>=0?-1:1)*Pc(F[2]);(r>S||r===S&&(k[0]||k[1]))&&(u+=C^D>=0?1:-1)}}return(a<-mc||a<mc&&Vs<-mc)^1&u}function Zs(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Qs,Js=(1===(Qs=Zs).length&&(Qs=function(t){return function(e,n){return Zs(t(e),n)}}(Qs)),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var o=n+r>>>1;Qs(t[o],e)<0?n=o+1:r=o}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var o=n+r>>>1;Qs(t[o],e)>0?r=o:n=o+1}return n}}).right;function Ks(t){return null===t?NaN:+t}function tf(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(o);++r<o;)i[r]=t+r*n;return i}var ef=Math.sqrt(50),nf=Math.sqrt(10),rf=Math.sqrt(2);function of(t,e,n){var r,o,i,a,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=af(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),i=new Array(o=Math.ceil(e-t+1));++u<o;)i[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),i=new Array(o=Math.ceil(t-e+1));++u<o;)i[u]=(t-u)/a;return r&&i.reverse(),i}function af(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=ef?10:i>=nf?5:i>=rf?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=ef?10:i>=nf?5:i>=rf?2:1)}function uf(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=ef?o*=10:i>=nf?o*=5:i>=rf&&(o*=2),e<t?-o:o}function lf(t,e,n){if(null==n&&(n=Ks),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,o=(r-1)*e,i=Math.floor(o),a=+n(t[i],i,t);return a+(+n(t[i+1],i+1,t)-a)*(o-i)}}function cf(t){for(var e,n,r,o=t.length,i=-1,a=0;++i<o;)a+=t[i].length;for(n=new Array(a);--o>=0;)for(e=(r=t[o]).length;--e>=0;)n[--a]=r[e];return n}function sf(t,e,n,r){return function(o){var i,a,u,l=e(o),c=qs(),s=e(c),f=!1,d={point:h,lineStart:_,lineEnd:g,polygonStart:function(){d.point=v,d.lineStart=y,d.lineEnd=m,a=[],i=[]},polygonEnd:function(){d.point=h,d.lineStart=_,d.lineEnd=g,a=cf(a);var t=$s(i,r);a.length?(f||(o.polygonStart(),f=!0),Ws(a,df,t,n,o)):t&&(f||(o.polygonStart(),f=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),f&&(o.polygonEnd(),f=!1),a=i=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function h(e,n){t(e,n)&&o.point(e,n)}function p(t,e){l.point(t,e)}function _(){d.point=p,l.lineStart()}function g(){d.point=h,l.lineEnd()}function v(t,e){u.push([t,e]),s.point(t,e)}function y(){s.lineStart(),u=[]}function m(){v(u[0][0],u[0][1]),s.lineEnd();var t,e,n,r,l=s.clean(),d=c.result(),h=d.length;if(u.pop(),i.push(u),u=null,h)if(1&l){if((e=(n=d[0]).length-1)>0){for(f||(o.polygonStart(),f=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else h>1&&2&l&&d.push(d.pop().concat(d.shift())),a.push(d.filter(ff))}return d}}function ff(t){return t.length>1}function df(t,e){return((t=t.x)[0]<0?t[1]-xc-mc:xc-t[1])-((e=e.x)[0]<0?e[1]-xc-mc:xc-e[1])}var hf=sf((function(){return!0}),(function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,a){var u=i>0?wc:-wc,l=Mc(i-n);Mc(l-wc)<mc?(t.point(n,r=(r+a)/2>0?xc:-xc),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(i,r),e=0):o!==u&&l>=wc&&(Mc(n-o)<mc&&(n-=o*mc),Mc(i-u)<mc&&(i-=u*mc),r=function(t,e,n,r){var o,i,a=zc(t-n);return Mc(a)>mc?kc((zc(e)*(i=Sc(r))*zc(n)-zc(r)*(o=Sc(e))*zc(t))/(o*i*a)):(e+r)/2}(n,r,i,a),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=i,r=a),o=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var o;if(null==t)o=n*xc,r.point(-wc,o),r.point(0,o),r.point(wc,o),r.point(wc,0),r.point(wc,-o),r.point(0,-o),r.point(-wc,-o),r.point(-wc,0),r.point(-wc,o);else if(Mc(t[0]-e[0])>mc){var i=t[0]<e[0]?wc:-wc;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])}),[-wc,-xc]);function pf(t){var e=Sc(t),n=6*Cc,r=e>0,o=Mc(e)>mc;function i(t,n){return Sc(t)*Sc(n)>e}function a(t,n,r){var o=[1,0,0],i=ws(ms(t),ms(n)),a=bs(i,i),u=i[0],l=a-u*u;if(!l)return!r&&t;var c=e*a/l,s=-e*u/l,f=ws(o,i),d=Ds(o,c);xs(d,Ds(i,s));var h=f,p=bs(d,h),_=bs(h,h),g=p*p-_*(bs(d,d)-1);if(!(g<0)){var v=Nc(g),y=Ds(h,(-p-v)/_);if(xs(y,d),y=ys(y),!r)return y;var m,b=t[0],w=n[0],x=t[1],D=n[1];w<b&&(m=b,b=w,w=m);var E=w-b,A=Mc(E-wc)<mc;if(!A&&D<x&&(m=x,x=D,D=m),A||E<mc?A?x+D>0^y[1]<(Mc(y[0]-b)<mc?x:D):x<=y[1]&&y[1]<=D:E>wc^(b<=y[0]&&y[0]<=w)){var C=Ds(h,(-p+v)/_);return xs(C,d),[y,ys(C)]}}}function u(e,n){var o=r?t:wc-t,i=0;return e<-o?i|=1:e>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}return sf(i,(function(t){var e,n,l,c,s;return{lineStart:function(){c=l=!1,s=1},point:function(f,d){var h,p=[f,d],_=i(f,d),g=r?_?0:u(f,d):_?u(f+(f<0?wc:-wc),d):0;if(!e&&(c=l=_)&&t.lineStart(),_!==l&&(!(h=a(e,p))||Hs(e,h)||Hs(p,h))&&(p[2]=1),_!==l)s=0,_?(t.lineStart(),h=a(p,e),t.point(h[0],h[1])):(h=a(e,p),t.point(h[0],h[1],2),t.lineEnd()),e=h;else if(o&&e&&r^_){var v;g&n||!(v=a(p,e,!0))||(s=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1],3)))}!_||e&&Hs(e,p)||t.point(p[0],p[1]),e=p,l=_,n=g},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return s|(c&&l)<<1}}}),(function(e,r,o,i){!function(t,e,n,r,o,i){if(n){var a=Sc(e),u=zc(e),l=r*n;null==o?(o=e+r*Ec,i=e-l/2):(o=Us(a,o),i=Us(a,i),(r>0?o<i:o>i)&&(o+=r*Ec));for(var c,s=o;r>0?s>i:s<i;s-=l)c=ys([a,-u*Sc(s),-u*zc(s)]),t.point(c[0],c[1])}}(i,t,n,o,e,r)}),r?[0,-t]:[-wc,t-wc])}var _f=1e9,gf=-_f;function vf(t,e,n,r){function o(o,i){return t<=o&&o<=n&&e<=i&&i<=r}function i(o,i,u,c){var s=0,f=0;if(null==o||(s=a(o,u))!==(f=a(i,u))||l(o,i)<0^u>0)do{c.point(0===s||3===s?t:n,s>1?r:e)}while((s=(s+u+4)%4)!==f);else c.point(i[0],i[1])}function a(r,o){return Mc(r[0]-t)<mc?o>0?0:3:Mc(r[0]-n)<mc?o>0?2:1:Mc(r[1]-e)<mc?o>0?1:0:o>0?3:2}function u(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,c,s,f,d,h,p,_,g,v,y,m=a,b=qs(),w={point:x,lineStart:function(){w.point=D,c&&c.push(s=[]);v=!0,g=!1,p=_=NaN},lineEnd:function(){l&&(D(f,d),h&&g&&b.rejoin(),l.push(b.result()));w.point=x,g&&m.lineEnd()},polygonStart:function(){m=b,l=[],c=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,o=c.length;n<o;++n)for(var i,a,u=c[n],l=1,s=u.length,f=u[0],d=f[0],h=f[1];l<s;++l)i=d,a=h,d=(f=u[l])[0],h=f[1],a<=r?h>r&&(d-i)*(r-a)>(h-a)*(t-i)&&++e:h<=r&&(d-i)*(r-a)<(h-a)*(t-i)&&--e;return e}(),n=y&&e,o=(l=cf(l)).length;(n||o)&&(a.polygonStart(),n&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&Ws(l,u,e,i,a),a.polygonEnd());m=a,l=c=s=null}};function x(t,e){o(t,e)&&m.point(t,e)}function D(i,a){var u=o(i,a);if(c&&s.push([i,a]),v)f=i,d=a,h=u,v=!1,u&&(m.lineStart(),m.point(i,a));else if(u&&g)m.point(i,a);else{var l=[p=Math.max(gf,Math.min(_f,p)),_=Math.max(gf,Math.min(_f,_))],b=[i=Math.max(gf,Math.min(_f,i)),a=Math.max(gf,Math.min(_f,a))];!function(t,e,n,r,o,i){var a,u=t[0],l=t[1],c=0,s=1,f=e[0]-u,d=e[1]-l;if(a=n-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<s&&(s=a)}else if(f>0){if(a>s)return;a>c&&(c=a)}if(a=o-u,f||!(a<0)){if(a/=f,f<0){if(a>s)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<s&&(s=a)}if(a=r-l,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<s&&(s=a)}else if(d>0){if(a>s)return;a>c&&(c=a)}if(a=i-l,d||!(a<0)){if(a/=d,d<0){if(a>s)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<s&&(s=a)}return c>0&&(t[0]=u+c*f,t[1]=l+c*d),s<1&&(e[0]=u+s*f,e[1]=l+s*d),!0}}}}}(l,b,t,e,n,r)?u&&(m.lineStart(),m.point(i,a),y=!1):(g||(m.lineStart(),m.point(l[0],l[1])),m.point(b[0],b[1]),u||m.lineEnd(),y=!1)}p=i,_=a,g=u}return w}}var yf,mf,bf,wf=_c(),xf={sphere:Oc,point:Oc,lineStart:function(){xf.point=Ef,xf.lineEnd=Df},lineEnd:Oc,polygonStart:Oc,polygonEnd:Oc};function Df(){xf.point=xf.lineEnd=Oc}function Ef(t,e){yf=t*=Cc,mf=zc(e*=Cc),bf=Sc(e),xf.point=Af}function Af(t,e){t*=Cc;var n=zc(e*=Cc),r=Sc(e),o=Mc(t-yf),i=Sc(o),a=r*zc(o),u=bf*n-mf*r*i,l=mf*n+bf*r*i;wf.add(Fc(Nc(a*a+u*u),l)),yf=t,mf=n,bf=r}var Cf=[null,null],Mf={type:"LineString",coordinates:Cf};function kf(t,e){return Cf[0]=t,Cf[1]=e,function(t){return wf.reset(),Hc(t,xf),+wf}(Mf)}var Ff={Feature:function(t,e){return Tf(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)if(Tf(n[r].geometry,e))return!0;return!1}},Sf={Sphere:function(){return!0},Point:function(t,e){return zf(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(zf(n[r],e))return!0;return!1},LineString:function(t,e){return Bf(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(Bf(n[r],e))return!0;return!1},Polygon:function(t,e){return Nf(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)if(Nf(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)if(Tf(n[r],e))return!0;return!1}};function Tf(t,e){return!(!t||!Sf.hasOwnProperty(t.type))&&Sf[t.type](t,e)}function zf(t,e){return 0===kf(t,e)}function Bf(t,e){for(var n,r,o,i=0,a=t.length;i<a;i++){if(0===(r=kf(t[i],e)))return!0;if(i>0&&(o=kf(t[i],t[i-1]))>0&&n<=o&&r<=o&&(n+r-o)*(1-Math.pow((n-r)/o,2))<bc*o)return!0;n=r}return!1}function Nf(t,e){return!!$s(t.map(Lf),Pf(e))}function Lf(t){return(t=t.map(Pf)).pop(),t}function Pf(t){return[t[0]*Cc,t[1]*Cc]}function Of(t,e){return(t&&Ff.hasOwnProperty(t.type)?Ff[t.type]:Tf)(t,e)}function If(t,e,n){var r=tf(t,e-mc,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function jf(t,e,n){var r=tf(t,e-mc,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Rf(){var t,e,n,r,o,i,a,u,l,c,s,f,d=10,h=d,p=90,_=360,g=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return tf(Tc(r/p)*p,n,p).map(s).concat(tf(Tc(u/_)*_,a,_).map(f)).concat(tf(Tc(e/d)*d,t,d).filter((function(t){return Mc(t%p)>mc})).map(l)).concat(tf(Tc(i/h)*h,o,h).filter((function(t){return Mc(t%_)>mc})).map(c))}return v.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},v.outline=function(){return{type:"Polygon",coordinates:[s(r).concat(f(a).slice(1),s(n).reverse().slice(1),f(u).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.extentMajor(t).extentMinor(t):v.extentMinor()},v.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),u>a&&(t=u,u=a,a=t),v.precision(g)):[[r,u],[n,a]]},v.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],i=+n[0][1],o=+n[1][1],e>t&&(n=e,e=t,t=n),i>o&&(n=i,i=o,o=n),v.precision(g)):[[e,i],[t,o]]},v.step=function(t){return arguments.length?v.stepMajor(t).stepMinor(t):v.stepMinor()},v.stepMajor=function(t){return arguments.length?(p=+t[0],_=+t[1],v):[p,_]},v.stepMinor=function(t){return arguments.length?(d=+t[0],h=+t[1],v):[d,h]},v.precision=function(d){return arguments.length?(g=+d,l=If(i,o,90),c=jf(e,t,g),s=If(u,a,90),f=jf(r,n,g),v):g},v.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Uf(t){return t}var qf,Hf,Yf,Wf,Gf=_c(),Vf=_c(),Xf={point:Oc,lineStart:Oc,lineEnd:Oc,polygonStart:function(){Xf.lineStart=$f,Xf.lineEnd=Jf},polygonEnd:function(){Xf.lineStart=Xf.lineEnd=Xf.point=Oc,Gf.add(Mc(Vf)),Vf.reset()},result:function(){var t=Gf/2;return Gf.reset(),t}};function $f(){Xf.point=Zf}function Zf(t,e){Xf.point=Qf,qf=Yf=t,Hf=Wf=e}function Qf(t,e){Vf.add(Wf*t-Yf*e),Yf=t,Wf=e}function Jf(){Qf(qf,Hf)}var Kf=1/0,td=Kf,ed=-Kf,nd=ed,rd={point:function(t,e){t<Kf&&(Kf=t);t>ed&&(ed=t);e<td&&(td=e);e>nd&&(nd=e)},lineStart:Oc,lineEnd:Oc,polygonStart:Oc,polygonEnd:Oc,result:function(){var t=[[Kf,td],[ed,nd]];return ed=nd=-(td=Kf=1/0),t}};var od,id,ad,ud,ld=0,cd=0,sd=0,fd=0,dd=0,hd=0,pd=0,_d=0,gd=0,vd={point:yd,lineStart:md,lineEnd:xd,polygonStart:function(){vd.lineStart=Dd,vd.lineEnd=Ed},polygonEnd:function(){vd.point=yd,vd.lineStart=md,vd.lineEnd=xd},result:function(){var t=gd?[pd/gd,_d/gd]:hd?[fd/hd,dd/hd]:sd?[ld/sd,cd/sd]:[NaN,NaN];return ld=cd=sd=fd=dd=hd=pd=_d=gd=0,t}};function yd(t,e){ld+=t,cd+=e,++sd}function md(){vd.point=bd}function bd(t,e){vd.point=wd,yd(ad=t,ud=e)}function wd(t,e){var n=t-ad,r=e-ud,o=Nc(n*n+r*r);fd+=o*(ad+t)/2,dd+=o*(ud+e)/2,hd+=o,yd(ad=t,ud=e)}function xd(){vd.point=yd}function Dd(){vd.point=Ad}function Ed(){Cd(od,id)}function Ad(t,e){vd.point=Cd,yd(od=ad=t,id=ud=e)}function Cd(t,e){var n=t-ad,r=e-ud,o=Nc(n*n+r*r);fd+=o*(ad+t)/2,dd+=o*(ud+e)/2,hd+=o,pd+=(o=ud*t-ad*e)*(ad+t),_d+=o*(ud+e),gd+=3*o,yd(ad=t,ud=e)}function Md(t){this._context=t}Md.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ec)}},result:Oc};var kd,Fd,Sd,Td,zd,Bd=_c(),Nd={point:Oc,lineStart:function(){Nd.point=Ld},lineEnd:function(){kd&&Pd(Fd,Sd),Nd.point=Oc},polygonStart:function(){kd=!0},polygonEnd:function(){kd=null},result:function(){var t=+Bd;return Bd.reset(),t}};function Ld(t,e){Nd.point=Pd,Fd=Td=t,Sd=zd=e}function Pd(t,e){Td-=t,zd-=e,Bd.add(Nc(Td*Td+zd*zd)),Td=t,zd=e}function Od(){this._string=[]}function Id(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function jd(t,e){var n,r,o=4.5;function i(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Hc(t,n(r))),r.result()}return i.area=function(t){return Hc(t,n(Xf)),Xf.result()},i.measure=function(t){return Hc(t,n(Nd)),Nd.result()},i.bounds=function(t){return Hc(t,n(rd)),rd.result()},i.centroid=function(t){return Hc(t,n(vd)),vd.result()},i.projection=function(e){return arguments.length?(n=null==e?(t=null,Uf):(t=e).stream,i):t},i.context=function(t){return arguments.length?(r=null==t?(e=null,new Od):new Md(e=t),"function"!=typeof o&&r.pointRadius(o),i):e},i.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),i):o},i.projection(t).context(e)}function Rd(t){return function(e){var n=new Ud;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Ud(){}function qd(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Hc(n,t.stream(rd)),e(rd.result()),null!=r&&t.clipExtent(r),t}function Hd(t,e,n){return qd(t,(function(n){var r=e[1][0]-e[0][0],o=e[1][1]-e[0][1],i=Math.min(r/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),a=+e[0][0]+(r-i*(n[1][0]+n[0][0]))/2,u=+e[0][1]+(o-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([a,u])}),n)}function Yd(t,e,n){return Hd(t,[[0,0],e],n)}function Wd(t,e,n){return qd(t,(function(n){var r=+e,o=r/(n[1][0]-n[0][0]),i=(r-o*(n[1][0]+n[0][0]))/2,a=-o*n[0][1];t.scale(150*o).translate([i,a])}),n)}function Gd(t,e,n){return qd(t,(function(n){var r=+e,o=r/(n[1][1]-n[0][1]),i=-o*n[0][0],a=(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([i,a])}),n)}Od.prototype={_radius:4.5,_circle:Id(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Id(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Ud.prototype={constructor:Ud,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Vd=Sc(30*Cc);function Xd(t,e){return+e?function(t,e){function n(r,o,i,a,u,l,c,s,f,d,h,p,_,g){var v=c-r,y=s-o,m=v*v+y*y;if(m>4*e&&_--){var b=a+d,w=u+h,x=l+p,D=Nc(b*b+w*w+x*x),E=Pc(x/=D),A=Mc(Mc(x)-1)<mc||Mc(i-f)<mc?(i+f)/2:Fc(w,b),C=t(A,E),M=C[0],k=C[1],F=M-r,S=k-o,T=y*F-v*S;(T*T/m>e||Mc((v*F+y*S)/m-.5)>.3||a*d+u*h+l*p<Vd)&&(n(r,o,i,a,u,l,M,k,A,b/=D,w/=D,x,_,g),g.point(M,k),n(M,k,A,b,w,x,c,s,f,d,h,p,_,g))}}return function(e){var r,o,i,a,u,l,c,s,f,d,h,p,_={point:g,lineStart:v,lineEnd:m,polygonStart:function(){e.polygonStart(),_.lineStart=b},polygonEnd:function(){e.polygonEnd(),_.lineStart=v}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function v(){s=NaN,_.point=y,e.lineStart()}function y(r,o){var i=ms([r,o]),a=t(r,o);n(s,f,c,d,h,p,s=a[0],f=a[1],c=r,d=i[0],h=i[1],p=i[2],16,e),e.point(s,f)}function m(){_.point=g,e.lineEnd()}function b(){v(),_.point=w,_.lineEnd=x}function w(t,e){y(r=t,e),o=s,i=f,a=d,u=h,l=p,_.point=y}function x(){n(s,f,c,d,h,p,o,i,r,a,u,l,16,e),_.lineEnd=m,m()}return _}}(t,e):function(t){return Rd({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var $d=Rd({point:function(t,e){this.stream.point(t*Cc,e*Cc)}});function Zd(t,e,n,r,o){function i(i,a){return[e+t*(i*=r),n-t*(a*=o)]}return i.invert=function(i,a){return[(i-e)/t*r,(n-a)/t*o]},i}function Qd(t,e,n,r,o,i){var a=Sc(i),u=zc(i),l=a*t,c=u*t,s=a/t,f=u/t,d=(u*n-a*e)/t,h=(u*e+a*n)/t;function p(t,i){return[l*(t*=r)-c*(i*=o)+e,n-c*t-l*i]}return p.invert=function(t,e){return[r*(s*t-f*e+d),o*(h-f*t-s*e)]},p}function Jd(t){return Kd((function(){return t}))()}function Kd(t){var e,n,r,o,i,a,u,l,c,s,f=150,d=480,h=250,p=0,_=0,g=0,v=0,y=0,m=0,b=1,w=1,x=null,D=hf,E=null,A=Uf,C=.5;function M(t){return l(t[0]*Cc,t[1]*Cc)}function k(t){return(t=l.invert(t[0],t[1]))&&[t[0]*Ac,t[1]*Ac]}function F(){var t=Qd(f,0,0,b,w,m).apply(null,e(p,_)),r=(m?Qd:Zd)(f,d-t[0],h-t[1],b,w,m);return n=function(t,e,n){return(t%=Ec)?e||n?Ps(js(t),Rs(e,n)):js(t):e||n?Rs(e,n):Os}(g,v,y),u=Ps(e,r),l=Ps(n,u),a=Xd(u,C),S()}function S(){return c=s=null,M}return M.stream=function(t){return c&&s===t?c:c=$d(function(t){return Rd({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(D(a(A(s=t)))))},M.preclip=function(t){return arguments.length?(D=t,x=void 0,S()):D},M.postclip=function(t){return arguments.length?(A=t,E=r=o=i=null,S()):A},M.clipAngle=function(t){return arguments.length?(D=+t?pf(x=t*Cc):(x=null,hf),S()):x*Ac},M.clipExtent=function(t){return arguments.length?(A=null==t?(E=r=o=i=null,Uf):vf(E=+t[0][0],r=+t[0][1],o=+t[1][0],i=+t[1][1]),S()):null==E?null:[[E,r],[o,i]]},M.scale=function(t){return arguments.length?(f=+t,F()):f},M.translate=function(t){return arguments.length?(d=+t[0],h=+t[1],F()):[d,h]},M.center=function(t){return arguments.length?(p=t[0]%360*Cc,_=t[1]%360*Cc,F()):[p*Ac,_*Ac]},M.rotate=function(t){return arguments.length?(g=t[0]%360*Cc,v=t[1]%360*Cc,y=t.length>2?t[2]%360*Cc:0,F()):[g*Ac,v*Ac,y*Ac]},M.angle=function(t){return arguments.length?(m=t%360*Cc,F()):m*Ac},M.reflectX=function(t){return arguments.length?(b=t?-1:1,F()):b<0},M.reflectY=function(t){return arguments.length?(w=t?-1:1,F()):w<0},M.precision=function(t){return arguments.length?(a=Xd(u,C=t*t),S()):Nc(C)},M.fitExtent=function(t,e){return Hd(M,t,e)},M.fitSize=function(t,e){return Yd(M,t,e)},M.fitWidth=function(t,e){return Wd(M,t,e)},M.fitHeight=function(t,e){return Gd(M,t,e)},function(){return e=t.apply(this,arguments),M.invert=e.invert&&k,F()}}function th(t,e){var n=zc(t),r=(n+zc(e))/2;if(Mc(r)<mc)return function(t){var e=Sc(t);function n(t,n){return[t*e,zc(n)/e]}return n.invert=function(t,n){return[t/e,Pc(n*e)]},n}(t);var o=1+n*(2*r-n),i=Nc(o)/r;function a(t,e){var n=Nc(o-2*r*zc(e))/r;return[n*zc(t*=r),i-n*Sc(t)]}return a.invert=function(t,e){var n=i-e,a=Fc(t,Mc(n))*Bc(n);return n*r<0&&(a-=wc*Bc(t)*Bc(n)),[a/r,Pc((o-(t*t+n*n)*r*r)/(2*r))]},a}function eh(){return function(t){var e=0,n=wc/3,r=Kd(t),o=r(e,n);return o.parallels=function(t){return arguments.length?r(e=t[0]*Cc,n=t[1]*Cc):[e*Ac,n*Ac]},o}(th).scale(155.424).center([0,33.6442])}function nh(){return eh().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function rh(t){return function(e,n){var r=Sc(e),o=Sc(n),i=t(r*o);return[i*o*zc(e),i*zc(n)]}}function oh(t){return function(e,n){var r=Nc(e*e+n*n),o=t(r),i=zc(o),a=Sc(o);return[Fc(e*i,r*a),Pc(r&&n*i/r)]}}var ih=rh((function(t){return Nc(2/(1+t))}));ih.invert=oh((function(t){return 2*Pc(t/2)}));var ah=rh((function(t){return(t=Lc(t))&&t/zc(t)}));function uh(t,e){return[t,e]}function lh(t,e){var n=Sc(e),r=Sc(t)*n;return[n*zc(t)/r,zc(e)/r]}function ch(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function sh(t,e){return[Sc(e)*zc(t),zc(e)]}function fh(t,e){var n=Sc(e),r=1+Sc(t)*n;return[n*zc(t)/r,zc(e)/r]}ah.invert=oh((function(t){return t})),uh.invert=uh,lh.invert=oh(kc),ch.invert=function(t,e){var n,r=e,o=25;do{var i=r*r,a=i*i;r-=n=(r*(1.007226+i*(.015085+a*(.028874*i-.044475-.005916*a)))-e)/(1.007226+i*(.045255+a*(.259866*i-.311325-.005916*11*a)))}while(Mc(n)>mc&&--o>0);return[t/(.8707+(i=r*r)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),r]},sh.invert=oh(Pc),fh.invert=oh((function(t){return 2*kc(t)}));var dh=Math.abs,hh=Math.atan,ph=Math.atan2,_h=Math.cos,gh=Math.exp,vh=Math.floor,yh=Math.log,mh=Math.max,bh=Math.min,wh=Math.sign||function(t){return t>0?1:t<0?-1:0},xh=Math.sin,Dh=Math.tan,Eh=1e-6,Ah=1e-12,Ch=Math.PI,Mh=Ch/2,kh=Ch/4,Fh=Math.SQRT1_2,Sh=Oh(2),Th=Oh(Ch),zh=2*Ch,Bh=180/Ch,Nh=Ch/180;function Lh(t){return t>1?Mh:t<-1?-Mh:Math.asin(t)}function Ph(t){return t>1?0:t<-1?Ch:Math.acos(t)}function Oh(t){return t>0?Math.sqrt(t):0}function Ih(t){return(gh(t)-gh(-t))/2}function jh(t,e){var n=_h(e),r=function(t){return t?t/Math.sin(t):1}(Ph(n*_h(t/=2)));return[2*n*xh(t)*r,xh(e)*r]}function Rh(t,e){var n=Dh(e/2),r=Oh(1-n*n),o=1+r*_h(t/=2),i=xh(t)*r/o,a=n/o,u=i*i,l=a*a;return[4/3*i*(3+u-3*l),4/3*a*(3+3*u-l)]}jh.invert=function(t,e){if(!(t*t+4*e*e>Ch*Ch+Eh)){var n=t,r=e,o=25;do{var i,a=xh(n),u=xh(n/2),l=_h(n/2),c=xh(r),s=_h(r),f=xh(2*r),d=c*c,h=s*s,p=u*u,_=1-h*l*l,g=_?Ph(s*l)*Oh(i=1/_):i=0,v=2*g*s*u-t,y=g*c-e,m=i*(h*p+g*s*l*d),b=i*(.5*a*f-2*g*c*u),w=.25*i*(f*u-g*c*h*a),x=i*(d*l+g*p*s),D=b*w-x*m;if(!D)break;var E=(y*b-v*x)/D,A=(v*w-y*m)/D;n-=E,r-=A}while((dh(E)>Eh||dh(A)>Eh)&&--o>0);return[n,r]}},Rh.invert=function(t,e){if(e*=3/8,!(t*=3/8)&&dh(e)>1)return null;var n=1+t*t+e*e,r=Oh((n-Oh(n*n-4*e*e))/2),o=Lh(r)/3,i=r?function(t){return yh(t+Oh(t*t-1))}(dh(e/r))/3:function(t){return yh(t+Oh(t*t+1))}(dh(t))/3,a=_h(o),u=function(t){return(gh(t)+gh(-t))/2}(i),l=u*u-a*a;return[2*wh(t)*ph(Ih(i)*a,.25-l),2*wh(e)*ph(u*xh(o),.25+l)]};var Uh=Oh(8),qh=yh(1+Sh);function Hh(t,e){var n=dh(e);return n<kh?[t,yh(Dh(kh+e/2))]:[t*_h(n)*(2*Sh-1/xh(n)),wh(e)*(2*Sh*(n-kh)-yh(Dh(n/2)))]}function Yh(t,e){if(arguments.length<2&&(e=t),1===e)return ih;if(e===1/0)return Wh;function n(n,r){var o=ih(n/e,r);return o[0]*=t,o}return n.invert=function(n,r){var o=ih.invert(n/t,r);return o[0]*=e,o},n}function Wh(t,e){return[t*_h(e)/_h(e/=2),2*xh(e)]}function Gh(t,e){var n,r=t*xh(e),o=30;do{e-=n=(e+xh(e)-r)/(1+_h(e))}while(dh(n)>Eh&&--o>0);return e/2}function Vh(t,e,n){function r(r,o){return[t*r*_h(o=Gh(n,o)),e*xh(o)]}return r.invert=function(r,o){return o=Lh(o/e),[r/(t*_h(o)),Lh((2*o+xh(2*o))/n)]},r}Hh.invert=function(t,e){if((r=dh(e))<qh)return[t,2*hh(gh(e))-Mh];var n,r,o=kh,i=25;do{var a=_h(o/2),u=Dh(o/2);o-=n=(Uh*(o-kh)-yh(u)-r)/(Uh-a*a/(2*u))}while(dh(n)>Ah&&--i>0);return[t/(_h(o)*(Uh-1/xh(o))),wh(e)*o]},Wh.invert=function(t,e){var n=2*Lh(e/2);return[t*_h(n/2)/_h(n),n]};var Xh=Vh(Sh/Mh,Sh,Ch);var $h=2.00276,Zh=1.11072;function Qh(t,e){var n=Gh(Ch,e);return[$h*t/(1/_h(e)+Zh/_h(n)),(e+Sh*xh(n))/$h]}function Jh(t,e){return[t*_h(e),e]}Qh.invert=function(t,e){var n,r,o=$h*e,i=e<0?-kh:kh,a=25;do{r=o-Sh*xh(i),i-=n=(xh(2*i)+2*i-Ch*xh(r))/(2*_h(2*i)+2+Ch*_h(r)*Sh*_h(i))}while(dh(n)>Eh&&--a>0);return r=o-Sh*xh(i),[t*(1/_h(r)+Zh/_h(i))/$h,r]},Jh.invert=function(t,e){return[t/_h(e),e]};var Kh=Vh(1,4/Ch,Ch);var tp=Oh(3);function ep(t,e){return[tp*t*(2*_h(2*e/3)-1)/Th,tp*Th*xh(e/3)]}function np(t){var e=_h(t);function n(t,n){return[t*e,(1+e)*Dh(n/2)]}return n.invert=function(t,n){return[t/e,2*hh(n/(1+e))]},n}function rp(t,e){var n=Oh(8/(3*Ch));return[n*t*(1-dh(e)/Ch),n*e]}function op(t,e){var n=Oh(4-3*xh(dh(e)));return[2/Oh(6*Ch)*t*n,wh(e)*Oh(2*Ch/3)*(2-n)]}function ip(t,e){var n=Oh(Ch*(4+Ch));return[2/n*t*(1+Oh(1-4*e*e/(Ch*Ch))),4/n*e]}function ap(t,e){var n=(2+Mh)*xh(e);e/=2;for(var r=0,o=1/0;r<10&&dh(o)>Eh;r++){var i=_h(e);e-=o=(e+xh(e)*(i+2)-n)/(2*i*(1+i))}return[2/Oh(Ch*(4+Ch))*t*(1+_h(e)),2*Oh(Ch/(4+Ch))*xh(e)]}function up(t,e){return[t*(1+_h(e))/Oh(2+Ch),2*e/Oh(2+Ch)]}function lp(t,e){for(var n=(1+Mh)*xh(e),r=0,o=1/0;r<10&&dh(o)>Eh;r++)e-=o=(e+xh(e)-n)/(1+_h(e));return n=Oh(2+Ch),[t*(1+_h(e))/n,2*e/n]}ep.invert=function(t,e){var n=3*Lh(e/(tp*Th));return[Th*t/(tp*(2*_h(2*n/3)-1)),n]},rp.invert=function(t,e){var n=Oh(8/(3*Ch)),r=e/n;return[t/(n*(1-dh(r)/Ch)),r]},op.invert=function(t,e){var n=2-dh(e)/Oh(2*Ch/3);return[t*Oh(6*Ch)/(2*n),wh(e)*Lh((4-n*n)/3)]},ip.invert=function(t,e){var n=Oh(Ch*(4+Ch))/2;return[t*n/(1+Oh(1-e*e*(4+Ch)/(4*Ch))),e*n/2]},ap.invert=function(t,e){var n=e*Oh((4+Ch)/Ch)/2,r=Lh(n),o=_h(r);return[t/(2/Oh(Ch*(4+Ch))*(1+o)),Lh((r+n*(o+2))/(2+Mh))]},up.invert=function(t,e){var n=Oh(2+Ch),r=e*n/2;return[n*t/(1+_h(r)),r]},lp.invert=function(t,e){var n=1+Mh,r=Oh(n/2);return[2*t*r/(1+_h(e*=r)),Lh((e+xh(e))/n)]};var cp=3+2*Sh;function sp(t,e){var n=xh(t/=2),r=_h(t),o=Oh(_h(e)),i=_h(e/=2),a=xh(e)/(i+Sh*r*o),u=Oh(2/(1+a*a)),l=Oh((Sh*i+(r+n)*o)/(Sh*i+(r-n)*o));return[cp*(u*(l-1/l)-2*yh(l)),cp*(u*a*(l+1/l)-2*hh(a))]}sp.invert=function(t,e){if(!(n=Rh.invert(t/1.2,1.065*e)))return null;var n,r=n[0],o=n[1],i=20;t/=cp,e/=cp;do{var a=r/2,u=o/2,l=xh(a),c=_h(a),s=xh(u),f=_h(u),d=_h(o),h=Oh(d),p=s/(f+Sh*c*h),_=p*p,g=Oh(2/(1+_)),v=(Sh*f+(c+l)*h)/(Sh*f+(c-l)*h),y=Oh(v),m=y-1/y,b=y+1/y,w=g*m-2*yh(y)-t,x=g*p*b-2*hh(p)-e,D=s&&Fh*h*l*_/s,E=(Sh*c*f+h)/(2*(f+Sh*c*h)*(f+Sh*c*h)*h),A=-.5*p*g*g*g,C=A*D,M=A*E,k=(k=2*f+Sh*h*(c-l))*k*y,F=(Sh*c*f*h+d)/k,S=-Sh*l*s/(h*k),T=m*C-2*F/y+g*(F+F/v),z=m*M-2*S/y+g*(S+S/v),B=p*b*C-2*D/(1+_)+g*b*D+g*p*(F-F/v),N=p*b*M-2*E/(1+_)+g*b*E+g*p*(S-S/v),L=z*B-N*T;if(!L)break;var P=(x*z-w*N)/L,O=(w*B-x*T)/L;r-=P,o=mh(-Mh,bh(Mh,o-O))}while((dh(P)>Eh||dh(O)>Eh)&&--i>0);return dh(dh(o)-Mh)<Eh?[0,o]:i&&[r,o]};var fp=_h(35*Nh);function dp(t,e){var n=Dh(e/2);return[t*fp*Oh(1-n*n),(1+fp)*n]}function hp(t,e){var n=e/2,r=_h(n);return[2*t/Th*_h(e)*r*r,Th*Dh(n)]}function pp(t,e,n,r,o,i,a,u){function l(l,c){if(!c)return[t*l/Ch,0];var s=c*c,f=t+s*(e+s*(n+s*r)),d=c*(o-1+s*(i-u+s*a)),h=(f*f+d*d)/(2*d),p=l*Lh(f/h)/Ch;return[h*xh(p),c*(1+s*u)+h*(1-_h(p))]}return arguments.length<8&&(u=0),l.invert=function(l,c){var s,f,d=Ch*l/t,h=c,p=50;do{var _=h*h,g=t+_*(e+_*(n+_*r)),v=h*(o-1+_*(i-u+_*a)),y=g*g+v*v,m=2*v,b=y/m,w=b*b,x=Lh(g/b)/Ch,D=d*x,E=g*g,A=(2*e+_*(4*n+6*_*r))*h,C=o+_*(3*i+5*_*a),M=(2*(g*A+v*(C-1))*m-y*(2*(C-1)))/(m*m),k=_h(D),F=xh(D),S=b*k,T=b*F,z=d/Ch*(1/Oh(1-E/w))*(A*b-g*M)/w,B=T-l,N=h*(1+_*u)+b-S-c,L=M*F+S*z,P=S*x,O=1+M-(M*k-T*z),I=T*x,j=L*I-O*P;if(!j)break;d-=s=(N*L-B*O)/j,h-=f=(B*I-N*P)/j}while((dh(s)>Eh||dh(f)>Eh)&&--p>0);return[d,h]},l}dp.invert=function(t,e){var n=e/(1+fp);return[t&&t/(fp*Oh(1-n*n)),2*hh(n)]},hp.invert=function(t,e){var n=hh(e/Th),r=_h(n),o=2*n;return[t*Th/2/(_h(o)*r*r),o]};var _p=pp(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);var gp=pp(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);var vp=pp(5/6*Ch,-.62636,-.0344,0,1.3493,-.05524,0,.045);function yp(t,e){var n=t*t,r=e*e;return[t*(1-.162388*r)*(.87-952426e-9*n*n),e*(1+r/12)]}yp.invert=function(t,e){var n,r=t,o=e,i=50;do{var a=o*o;o-=n=(o*(1+a/12)-e)/(1+a/4)}while(dh(n)>Eh&&--i>0);i=50,t/=1-.162388*a;do{var u=(u=r*r)*u;r-=n=(r*(.87-952426e-9*u)-t)/(.87-.00476213*u)}while(dh(n)>Eh&&--i>0);return[r,o]};var mp=pp(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function bp(t,e){return[3/zh*t*Oh(Ch*Ch/3-e*e),e]}function wp(t,e){return[t,1.25*yh(Dh(kh+.4*e))]}bp.invert=function(t,e){return[zh/3*t/Oh(Ch*Ch/3-e*e),e]},wp.invert=function(t,e){return[t,2.5*hh(gh(.8*e))-.625*Ch]};var xp=Oh(6),Dp=Oh(7);function Ep(t,e){var n=Lh(7*xh(e)/(3*xp));return[xp*t*(2*_h(2*n/3)-1)/Dp,9*xh(n/3)/Dp]}function Ap(t,e){for(var n,r=(1+Fh)*xh(e),o=e,i=0;i<25&&(o-=n=(xh(o/2)+xh(o)-r)/(.5*_h(o/2)+_h(o)),!(dh(n)<Eh));i++);return[t*(1+2*_h(o)/_h(o/2))/(3*Sh),2*Oh(3)*xh(o/2)/Oh(2+Sh)]}function Cp(t,e){for(var n,r=Oh(6/(4+Ch)),o=(1+Ch/4)*xh(e),i=e/2,a=0;a<25&&(i-=n=(i/2+xh(i)-o)/(.5+_h(i)),!(dh(n)<Eh));a++);return[r*(.5+_h(i))*t/1.5,r*i]}function Mp(t,e){var n=e*e,r=n*n,o=n*r;return[t*(.84719-.13063*n+o*o*(.05494*n-.04515-.02326*r+.00331*o)),e*(1.01183+r*r*(.01926*n-.02625-.00396*r))]}function kp(){}function Fp(t,e){var n,r=e.stream;if(!r)throw new Error("invalid projection");switch(t&&t.type){case"Feature":n=Tp;break;case"FeatureCollection":n=Sp;break;default:n=zp}return n(t,r)}function Sp(t,e){return{type:"FeatureCollection",features:t.features.map((function(t){return Tp(t,e)}))}}function Tp(t,e){return{type:"Feature",id:t.id,properties:t.properties,geometry:zp(t.geometry,e)}}function zp(t,e){if(!t)return null;if("GeometryCollection"===t.type)return function(t,e){return{type:"GeometryCollection",geometries:t.geometries.map((function(t){return zp(t,e)}))}}(t,e);var n;switch(t.type){case"Point":case"MultiPoint":n=Lp;break;case"LineString":case"MultiLineString":n=Pp;break;case"Polygon":case"MultiPolygon":case"Sphere":n=Op;break;default:return null}return Hc(t,e(n)),n.result()}Ep.invert=function(t,e){var n=3*Lh(e*Dp/9);return[t*Dp/(xp*(2*_h(2*n/3)-1)),Lh(3*xh(n)*xp/7)]},Ap.invert=function(t,e){var n=e*Oh(2+Sh)/(2*Oh(3)),r=2*Lh(n);return[3*Sh*t/(1+2*_h(r)/_h(r/2)),Lh((n+xh(r))/(1+Fh))]},Cp.invert=function(t,e){var n=Oh(6/(4+Ch)),r=e/n;return dh(dh(r)-Mh)<Eh&&(r=r<0?-Mh:Mh),[1.5*t/(n*(.5+_h(r))),Lh((r/2+xh(r))/(1+Ch/4))]},Mp.invert=function(t,e){var n,r,o,i,a=e,u=25;do{a-=n=(a*(1.01183+(o=(r=a*a)*r)*o*(.01926*r-.02625-.00396*o))-e)/(1.01183+o*o*(.21186*r-.23625+-.05148*o))}while(dh(n)>Ah&&--u>0);return[t/(.84719-.13063*(r=a*a)+(i=r*(o=r*r))*i*(.05494*r-.04515-.02326*o+.00331*i)),a]};var Bp=[],Np=[],Lp={point:function(t,e){Bp.push([t,e])},result:function(){var t=Bp.length?Bp.length<2?{type:"Point",coordinates:Bp[0]}:{type:"MultiPoint",coordinates:Bp}:null;return Bp=[],t}},Pp={lineStart:kp,point:function(t,e){Bp.push([t,e])},lineEnd:function(){Bp.length&&(Np.push(Bp),Bp=[])},result:function(){var t=Np.length?Np.length<2?{type:"LineString",coordinates:Np[0]}:{type:"MultiLineString",coordinates:Np}:null;return Np=[],t}},Op={polygonStart:kp,lineStart:kp,point:function(t,e){Bp.push([t,e])},lineEnd:function(){var t=Bp.length;if(t){do{Bp.push(Bp[0].slice())}while(++t<4);Np.push(Bp),Bp=[]}},polygonEnd:kp,result:function(){if(!Np.length)return null;var t=[],e=[];return Np.forEach((function(n){!function(t){if((e=t.length)<4)return!1;for(var e,n=0,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r<=0}(n)?e.push(n):t.push([n])})),e.forEach((function(e){var n=e[0];t.some((function(t){if(function(t,e){for(var n=e[0],r=e[1],o=!1,i=0,a=t.length,u=a-1;i<a;u=i++){var l=t[i],c=l[0],s=l[1],f=t[u],d=f[0],h=f[1];s>r^h>r&&n<(d-c)*(r-s)/(h-s)+c&&(o=!o)}return o}(t[0],n))return t.push(e),!0}))||t.push([e])})),Np=[],t.length?t.length>1?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t[0]}:null}},Ip=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function jp(t,e){var n,r=bh(18,36*dh(e)/Ch),o=vh(r),i=r-o,a=(n=Ip[o])[0],u=n[1],l=(n=Ip[++o])[0],c=n[1],s=(n=Ip[bh(19,++o)])[0],f=n[1];return[t*(l+i*(s-a)/2+i*i*(s-2*l+a)/2),(e>0?Mh:-Mh)*(c+i*(f-u)/2+i*i*(f-2*c+u)/2)]}Ip.forEach((function(t){t[1]*=1.0144})),jp.invert=function(t,e){var n=e/Mh,r=90*n,o=bh(18,dh(r/5)),i=mh(0,vh(o));do{var a=Ip[i][1],u=Ip[i+1][1],l=Ip[bh(19,i+2)][1],c=l-a,s=l-2*u+a,f=2*(dh(n)-u)/c,d=s/c,h=f*(1-d*f*(1-2*d*f));if(h>=0||1===i){r=(e>=0?5:-5)*(h+o);var p,_=50;do{h=(o=bh(18,dh(r)/5))-(i=vh(o)),a=Ip[i][1],u=Ip[i+1][1],l=Ip[bh(19,i+2)][1],r-=(p=(e>=0?Mh:-Mh)*(u+h*(l-a)/2+h*h*(l-2*u+a)/2)-e)*Bh}while(dh(p)>Ah&&--_>0);break}}while(--i>=0);var g=Ip[i][0],v=Ip[i+1][0],y=Ip[bh(19,i+2)][0];return[t/(v+h*(y-g)/2+h*h*(y-2*v+g)/2),r*Nh]};var Rp=-180,Up=-179.9999,qp=179.9999,Hp=-89.9999,Yp=89.9999;function Wp(t){return t.length>0}function Gp(t){return-90===t||90===t?[0,t]:[Rp,(e=t,Math.floor(1e4*e)/1e4)];var e}function Vp(t){var e=t[0],n=t[1],r=!1;return e<=Up?(e=Rp,r=!0):e>=qp&&(e=180,r=!0),n<=Hp?(n=-90,r=!0):n>=Yp&&(n=90,r=!0),r?[e,n]:t}function Xp(t){return t.map(Vp)}function $p(t,e,n){for(var r=0,o=t.length;r<o;++r){var i=t[r].slice();n.push({index:-1,polygon:e,ring:i});for(var a=0,u=i.length;a<u;++a){var l=i[a],c=l[0],s=l[1];if(c<=Up||c>=qp||s<=Hp||s>=Yp){i[a]=Vp(l);for(var f=a+1;f<u;++f){var d=i[f],h=d[0],p=d[1];if(h>Up&&h<qp&&p>Hp&&p<Yp)break}if(f===a+1)continue;if(a){var _={index:-1,polygon:e,ring:i.slice(0,a+1)};_.ring[_.ring.length-1]=Gp(s),n[n.length-1]=_}else n.pop();if(f>=u)break;n.push({index:-1,polygon:e,ring:i=i.slice(f-1)}),i[0]=Gp(i[0][1]),a=-1,u=i.length}}}}function Zp(t){var e,n,r,o,i,a,u=t.length,l={},c={};for(e=0;e<u;++e)r=(n=t[e]).ring[0],i=n.ring[n.ring.length-1],r[0]!==i[0]||r[1]!==i[1]?(n.index=e,l[r]=c[i]=n):(n.polygon.push(n.ring),t[e]=null);for(e=0;e<u;++e)if(n=t[e]){if(r=n.ring[0],i=n.ring[n.ring.length-1],o=c[r],a=l[i],delete l[r],delete c[i],r[0]===i[0]&&r[1]===i[1]){n.polygon.push(n.ring);continue}o?(delete c[r],delete l[o.ring[0]],o.ring.pop(),t[o.index]=null,n={index:-1,polygon:o.polygon,ring:o.ring.concat(n.ring)},o===a?n.polygon.push(n.ring):(n.index=u++,t.push(l[n.ring[0]]=c[n.ring[n.ring.length-1]]=n))):a?(delete l[i],delete c[a.ring[a.ring.length-1]],n.ring.pop(),n={index:u++,polygon:a.polygon,ring:n.ring.concat(a.ring)},t[a.index]=null,t.push(l[n.ring[0]]=c[n.ring[n.ring.length-1]]=n)):(n.ring.push(n.ring[0]),n.polygon.push(n.ring))}}function Qp(t){var e={type:"Feature",geometry:Jp(t.geometry)};return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}function Jp(t){if(null==t)return t;var e,n,r,o;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(Jp)};break;case"Point":e={type:"Point",coordinates:Vp(t.coordinates)};break;case"MultiPoint":case"LineString":e={type:t.type,coordinates:Xp(t.coordinates)};break;case"MultiLineString":e={type:"MultiLineString",coordinates:t.coordinates.map(Xp)};break;case"Polygon":var i=[];$p(t.coordinates,i,n=[]),Zp(n),e={type:"Polygon",coordinates:i};break;case"MultiPolygon":n=[],r=-1,o=t.coordinates.length;for(var a=new Array(o);++r<o;)$p(t.coordinates[r],a[r]=[],n);Zp(n),e={type:"MultiPolygon",coordinates:a.filter(Wp)};break;default:return t}return null!=t.bbox&&(e.bbox=t.bbox),e}function Kp(t){if(null==t)return t;switch(t.type){case"Feature":return Qp(t);case"FeatureCollection":var e={type:"FeatureCollection",features:t.features.map(Qp)};return null!=t.bbox&&(e.bbox=t.bbox),e;default:return Jp(t)}}var t_=4*Ch+3*Oh(3),e_=2*Oh(2*Ch*Oh(3)/t_),n_=Vh(e_*Oh(3)/Ch,e_,t_/6);function r_(t,e){return[t*Oh(1-3*e*e/(Ch*Ch)),e]}function o_(t,e){var n=jh(t,e);return[(n[0]+t/Mh)/2,(n[1]+e)/2]}r_.invert=function(t,e){return[t/Oh(1-3*e*e/(Ch*Ch)),e]},o_.invert=function(t,e){var n=t,r=e,o=25;do{var i,a=_h(r),u=xh(r),l=xh(2*r),c=u*u,s=a*a,f=xh(n),d=_h(n/2),h=xh(n/2),p=h*h,_=1-s*d*d,g=_?Ph(a*d)*Oh(i=1/_):i=0,v=.5*(2*g*a*h+n/Mh)-t,y=.5*(g*u+r)-e,m=.5*i*(s*p+g*a*d*c)+.5/Mh,b=i*(f*l/4-g*u*h),w=.125*i*(l*h-g*u*s*f),x=.5*i*(c*d+g*p*a)+.5,D=b*w-x*m,E=(y*b-v*x)/D,A=(v*w-y*m)/D;n-=E,r-=A}while((dh(E)>Eh||dh(A)>Eh)&&--o>0);return[n,r]};var i_,a_,u_=25,l_=10,c_=10,s_={};function f_(t,e,n,r,o,i,a){var u=n-t/2-c_,l=n+t/2+c_,c=t/2+Math.min(0,u-o.left)+Math.max(0,l-o.right);return{pos:[c,a],shape:c-l_<5?[-c,-15*i,Math.max(l_,5-c),-10*i]:c+l_>t-5?[Math.min(-10,t-c-5),-10*i,Math.min(l_,t-c),-15*i]:[-10,-10*i,l_,-10*i]}}function d_(t,e,n,r,o,i,a){var u=r-e/2-c_,l=r+e/2+c_,c=e/2+Math.min(0,u-o.top)+Math.max(0,l-o.bottom);return{pos:[a,c],shape:c-l_<5?[-15*i,-c,-10*i,Math.max(l_,5-c)]:c+l_>e-5?[-10*i,Math.min(-10,e-c-5),-15*i,Math.min(l_,e-c)]:[-10*i,-10,-10*i,l_]}}function h_(t,e,n,r,o,i){var a=s_[t](e,n,r,o,i),u=r-u_-a.pos[0],l=o-u_-a.pos[1];return{left:u,top:l,right:u+e+50,bottom:l+n+50}}function p_(t,e,n){var r,o=document.createElementNS("http://www.w3.org/2000/svg",t);if(e)for(r in e)o.setAttribute(r,e[r]);var i=o.style;if(n)for(r in n)i[r]=n[r];return o}function __(){return i_||((i_=document.createElement("div")).id="flourish-popup-constrainer",(a_=i_.style).overflow="hidden",a_.pointerEvents="none",a_.position="absolute",a_.left="0",a_.top="0",a_.margin="0",a_.padding="0",document.body.appendChild(i_),this._resizeConstrainer(),i_)}s_.bottom=function(t,e){return{shape:[-10,-10,l_,-10],pos:[t/2,e+c_]}},s_.top=function(t,e){return{shape:[-10,c_,l_,c_],pos:[t/2,-10]}},s_.left=function(t,e){return{shape:[c_,l_,c_,-10],pos:[-10,e/2]}},s_.right=function(t,e){return{shape:[-10,l_,-10,-10],pos:[t+c_,e/2]}},s_.topLeft=function(t,e){return{shape:[15,c_,c_,15],pos:[-10,-10]}},s_.bottomLeft=function(t,e){return{shape:[15,-10,c_,-15],pos:[-10,e+c_]}},s_.topRight=function(t,e){return{shape:[-15,c_,-10,15],pos:[t+c_,-10]}},s_.bottomRight=function(t,e){return{shape:[-15,-10,-10,-15],pos:[t+c_,e+c_]}},s_.bottomFlexible=function(t,e,n,r,o){return f_(t,0,n,0,o,1,e+c_)},s_.topFlexible=function(t,e,n,r,o){return f_(t,0,n,0,o,-1,-10)},s_.rightFlexible=function(t,e,n,r,o){return d_(0,e,0,r,o,1,t+c_)},s_.leftFlexible=function(t,e,n,r,o){return d_(0,e,0,r,o,-1,-10)};var g_=1,v_={container:document.body,maxWidth:"70%",point:null,html:null,directions:["bottom","top","left","right","topLeft","bottomLeft","topRight","bottomRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"],fallbackFit:"horizontal"};function y_(){for(var t in this.unique_id=g_++,this.is_visible=!0,v_)this["_"+t]=v_[t];this.handlers={click:[]}}function m_(t){y_.prototype[t]=function(e){return void 0===e?this["_"+t]:(this["_"+t]=e,this)}}for(var b_ in v_)m_(b_);function w_(){return new y_}y_.prototype.point=function(t,e){if(void 0===t)return this._point;if(Array.isArray(t))this._point=[t[0],t[1]];else if(void 0!==e)this._point=[t,e];else if(t instanceof HTMLElement||t instanceof SVGElement){var n=t.getBoundingClientRect();this._point=[Math.floor(n.left+n.width/2),Math.floor(n.top+n.height/2)]}else console.error("Popup: could not understand argument");return this},y_.prototype.directions=function(t){return void 0===t?this._directions:("string"==typeof t&&(t=[t]),this._directions=t.slice(),this)},y_.prototype.text=function(t){return this._html=t.replace(/[&<>]/g,(function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[t]})),this},y_.prototype.on=function(t,e){if(!(t in this.handlers))throw new Error("Popup.on: No such event: "+t);return this.handlers[t].push(e),this},y_.prototype.fire=function(t,e){if(!(t in this.handlers))throw new Error("Popup.fire: No such event: "+t);for(var n=this.handlers[t],r=0;r<n.length;r++)n[r].call(this,e);return this},y_.prototype._getElement=function(){var t=this,e="flourish-popup-"+t.unique_id,n=document.getElementById(e);if(!n){(n=document.createElement("div")).className="flourish-popup",n.id=e;var r=n.style;r.display="none",r.margin=r.padding=0,r.position="absolute",r.width="80px",r.height="40px",r.boxSizing="border-box",n.addEventListener("click",(function(e){t.fire("click",e)}),!1);var o=p_("svg",{class:"flourish-popup-svg"},{position:"absolute",top:0,left:0,bottom:0,right:0}),i=p_("filter",{id:"dropshadow-"+t.unique_id,height:"130%"});i.appendChild(p_("feGaussianBlur",{in:"SourceAlpha",stdDeviation:5})),i.appendChild(p_("feOffset",{dx:0,dy:2,result:"offsetblur"}));var a=p_("feComponentTransfer");a.appendChild(p_("feFuncA",{type:"linear",slope:.2})),i.appendChild(a);var u=p_("feMerge");i.appendChild(u),u.appendChild(p_("feMergeNode")),u.appendChild(p_("feMergeNode",{in:"SourceGraphic"})),o.appendChild(i);var l=p_("g",{filter:"url(#dropshadow-"+t.unique_id+")",fill:"white",stroke:"none"});l.appendChild(p_("rect",{x:u_,y:u_,rx:5})),l.appendChild(p_("path")),o.appendChild(l),n.appendChild(o);var c=document.createElement("div");c.className="flourish-popup-content",(r=c.style).position="absolute",r.top=r.left="25px",r.padding="10px",n.appendChild(c),t._getConstrainer().appendChild(n)}return t._resizeConstrainer(),n},y_.prototype._getConstrainer=__,y_.prototype._resizeConstrainer=function(){i_||__.call(this);var t=a_.display;a_.display="none",a_.width=document.documentElement.scrollWidth+"px",a_.height=document.documentElement.scrollHeight+"px",a_.display=t},y_.prototype.draw=function(){var t=this;if(t.is_visible=!0,t._point){var e=document.documentElement.getBoundingClientRect(),n=t._point[0],r=t._point[1],o=t._container.getBoundingClientRect();n<o.left?n=o.left:n>o.right&&(n=o.right),r<o.top?r=o.top:r>o.bottom&&(r=o.bottom);var i=n-e.left,a=r-e.top,u=t._getElement(),l=u.style,c=u.querySelector(".flourish-popup-svg"),s=c.querySelector("g"),f=s.querySelector("rect"),d=s.querySelector("path"),h=u.querySelector(".flourish-popup-content");l.display="block",h.style.maxWidth=function(e){return t._maxWidth.match(/^\d+(?:\.\d+)?%$/)?e.width*parseFloat(t._maxWidth)/100:t._maxWidth.match(/^\d+(?:\.\d+)?(?:px)?$/)?parseFloat(t._maxWidth):(null!=t._maxWidth&&console.error("Popup: Unknown value for maxWidth: "+t._maxWidth),e.width)}(o)+"px",t._inner_html!=t._html&&(h.innerHTML=t._inner_html=t._html);var p,_,g=h.getBoundingClientRect();do{p=Math.ceil(g.width),_=Math.ceil(g.height),l.width=p+50+"px",l.height=_+50+"px",g=h.getBoundingClientRect()}while(p!=Math.ceil(g.width)||_!=Math.ceil(g.height));f.setAttribute("width",p),f.setAttribute("height",_),c.setAttribute("width",p+50),c.setAttribute("height",_+50);for(var v,y,m=null,b=null,w=null,x=1/0,D=1/0,E=0;E<t._directions.length;E++){var A=t._directions[E],C=h_(A,p,_,n,r,o),M=Math.max(0,Math.floor(o.left)-C.left-15)+Math.max(0,C.right-Math.ceil(o.right)-15),k=Math.max(0,Math.floor(o.top)-C.top-15)+Math.max(0,C.bottom-Math.ceil(o.bottom)-15);if(0==M&&0==k){m=A;break}(M<x||M==x&&k<v)&&(x=M,v=k,b=A),(k<D||k==D&&M<y)&&(D=k,y=M,w=A)}return m?A=m:"horizontal"==t._fallbackFit?A=b:"vertical"==t._fallbackFit?A=w:(console.warn("Popup: failed to point box of size ("+p+", "+_+") at ("+n+", "+r+") within ("+o.left+", "+o.top+", "+o.right+", "+o.bottom+")"),A=t._directions[0]),function(t,e,n,r,o,i,a,u,l,c){var s=s_[t](r,o,u,l,c);e.left=i-u_-s.pos[0]+"px",e.top=a-u_-s.pos[1]+"px",n.setAttribute("d","M0,0L"+s.shape.join(",")+"Z"),n.setAttribute("transform","translate("+(s.pos[0]+u_)+","+(s.pos[1]+u_)+")")}(A,l,d,p,_,i,a,n,r,o),t}console.error("Popup: cannot draw popup till point() has been specified")},y_.prototype.hide=function(){return this.is_visible?(this.is_visible=!1,this._getElement().style.display="none",this):this},w_.version="2.1.5";var x_="http://www.w3.org/1999/xhtml",D_={svg:"http://www.w3.org/2000/svg",xhtml:x_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function E_(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),D_.hasOwnProperty(e)?{space:D_[e],local:t}:t}function A_(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===x_&&e.documentElement.namespaceURI===x_?e.createElement(t):e.createElementNS(n,t)}}function C_(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function M_(t){var e=E_(t);return(e.local?C_:A_)(e)}function k_(){}function F_(t){return null==t?k_:function(){return this.querySelector(t)}}function S_(){return[]}function T_(t){return null==t?S_:function(){return this.querySelectorAll(t)}}function z_(t){return function(){return this.matches(t)}}function B_(t){return new Array(t.length)}function N_(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}N_.prototype={constructor:N_,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function L_(t,e,n,r,o,i){for(var a,u=0,l=e.length,c=i.length;u<c;++u)(a=e[u])?(a.__data__=i[u],r[u]=a):n[u]=new N_(t,i[u]);for(;u<l;++u)(a=e[u])&&(o[u]=a)}function P_(t,e,n,r,o,i,a){var u,l,c,s={},f=e.length,d=i.length,h=new Array(f);for(u=0;u<f;++u)(l=e[u])&&(h[u]=c="$"+a.call(l,l.__data__,u,e),c in s?o[u]=l:s[c]=l);for(u=0;u<d;++u)(l=s[c="$"+a.call(t,i[u],u,i)])?(r[u]=l,l.__data__=i[u],s[c]=null):n[u]=new N_(t,i[u]);for(u=0;u<f;++u)(l=e[u])&&s[h[u]]===l&&(o[u]=l)}function O_(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function I_(t){return function(){this.removeAttribute(t)}}function j_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function R_(t,e){return function(){this.setAttribute(t,e)}}function U_(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function q_(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function H_(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Y_(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function W_(t){return function(){this.style.removeProperty(t)}}function G_(t,e,n){return function(){this.style.setProperty(t,e,n)}}function V_(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function X_(t,e){return t.style.getPropertyValue(e)||Y_(t).getComputedStyle(t,null).getPropertyValue(e)}function $_(t){return function(){delete this[t]}}function Z_(t,e){return function(){this[t]=e}}function Q_(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function J_(t){return t.trim().split(/^|\s+/)}function K_(t){return t.classList||new tg(t)}function tg(t){this._node=t,this._names=J_(t.getAttribute("class")||"")}function eg(t,e){for(var n=K_(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function ng(t,e){for(var n=K_(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function rg(t){return function(){eg(this,t)}}function og(t){return function(){ng(this,t)}}function ig(t,e){return function(){(e.apply(this,arguments)?eg:ng)(this,t)}}function ag(){this.textContent=""}function ug(t){return function(){this.textContent=t}}function lg(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function cg(){this.innerHTML=""}function sg(t){return function(){this.innerHTML=t}}function fg(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function dg(){this.nextSibling&&this.parentNode.appendChild(this)}function hg(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pg(){return null}function _g(){var t=this.parentNode;t&&t.removeChild(this)}function gg(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function vg(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}tg.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var yg={},mg=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(yg={mouseenter:"mouseover",mouseleave:"mouseout"}));function bg(t,e,n){return t=wg(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function wg(t,e,n){return function(r){var o=mg;mg=r;try{t.call(this,this.__data__,e,n)}finally{mg=o}}}function xg(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Dg(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function Eg(t,e,n){var r=yg.hasOwnProperty(t.type)?bg:wg;return function(o,i,a){var u,l=this.__on,c=r(e,i,a);if(l)for(var s=0,f=l.length;s<f;++s)if((u=l[s]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=n),void(u.value=e);this.addEventListener(t.type,c,n),u={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(u):this.__on=[u]}}function Ag(t,e,n){var r=Y_(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Cg(t,e){return function(){return Ag(this,t,e)}}function Mg(t,e){return function(){return Ag(this,t,e.apply(this,arguments))}}var kg=[null];function Fg(t,e){this._groups=t,this._parents=e}function Sg(){return new Fg([[document.documentElement]],kg)}function Tg(t){return"string"==typeof t?new Fg([[document.querySelector(t)]],[document.documentElement]):new Fg([[t]],kg)}function zg(){for(var t,e=mg;t=e.sourceEvent;)e=t;return e}function Bg(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function Ng(t){var e=zg();return e.changedTouches&&(e=e.changedTouches[0]),Bg(t,e)}function Lg(t,e,n){arguments.length<3&&(n=e,e=zg().changedTouches);for(var r,o=0,i=e?e.length:0;o<i;++o)if((r=e[o]).identifier===n)return Bg(t,r);return null}Fg.prototype=Sg.prototype={constructor:Fg,select:function(t){"function"!=typeof t&&(t=F_(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,u=e[o],l=u.length,c=r[o]=new Array(l),s=0;s<l;++s)(i=u[s])&&(a=t.call(i,i.__data__,s,u))&&("__data__"in i&&(a.__data__=i.__data__),c[s]=a);return new Fg(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=T_(t));for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a,u=e[i],l=u.length,c=0;c<l;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),o.push(a));return new Fg(r,o)},filter:function(t){"function"!=typeof t&&(t=z_(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],u=a.length,l=r[o]=[],c=0;c<u;++c)(i=a[c])&&t.call(i,i.__data__,c,a)&&l.push(i);return new Fg(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),s=-1,this.each((function(t){p[++s]=t})),p;var n,r=e?P_:L_,o=this._parents,i=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=i.length,u=new Array(a),l=new Array(a),c=new Array(a),s=0;s<a;++s){var f=o[s],d=i[s],h=d.length,p=t.call(f,f&&f.__data__,s,o),_=p.length,g=l[s]=new Array(_),v=u[s]=new Array(_);r(f,d,g,v,c[s]=new Array(h),p,e);for(var y,m,b=0,w=0;b<_;++b)if(y=g[b]){for(b>=w&&(w=b+1);!(m=v[w])&&++w<_;);y._next=m||null}}return(u=new Fg(u,o))._enter=l,u._exit=c,u},enter:function(){return new Fg(this._enter||this._groups.map(B_),this._parents)},exit:function(){return new Fg(this._exit||this._groups.map(B_),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(o=e(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var l,c=e[u],s=n[u],f=c.length,d=a[u]=new Array(f),h=0;h<f;++h)(l=c[h]||s[h])&&(d[h]=l);for(;u<r;++u)a[u]=e[u];return new Fg(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=O_);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,u=n[i],l=u.length,c=o[i]=new Array(l),s=0;s<l;++s)(a=u[s])&&(c[s]=a);c.sort(e)}return new Fg(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,u=i.length;a<u;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=E_(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?j_:I_:"function"==typeof e?n.local?H_:q_:n.local?U_:R_)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?W_:"function"==typeof e?V_:G_)(t,e,null==n?"":n)):X_(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?$_:"function"==typeof e?Q_:Z_)(t,e)):this.node()[t]},classed:function(t,e){var n=J_(t+"");if(arguments.length<2){for(var r=K_(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?ig:e?rg:og)(n,e))},text:function(t){return arguments.length?this.each(null==t?ag:("function"==typeof t?lg:ug)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?cg:("function"==typeof t?fg:sg)(t)):this.node().innerHTML},raise:function(){return this.each(dg)},lower:function(){return this.each(hg)},append:function(t){var e="function"==typeof t?t:M_(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:M_(t),r=null==e?pg:"function"==typeof e?e:F_(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(_g)},clone:function(t){return this.select(t?vg:gg)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=xg(t+""),a=i.length;if(!(arguments.length<2)){for(u=e?Eg:Dg,null==n&&(n=!1),r=0;r<a;++r)this.each(u(i[r],e,n));return this}var u=this.node().__on;if(u)for(var l,c=0,s=u.length;c<s;++c)for(r=0,l=u[c];r<a;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Mg:Cg)(t,e))}};var Pg={value:function(){}};function Og(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Ig(r)}function Ig(t){this._=t}function jg(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Rg(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function Ug(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=Pg,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Ig.prototype=Og.prototype={constructor:Ig,on:function(t,e){var n,r=this._,o=jg(t+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<a;)if(n=(t=o[i]).type)r[n]=Ug(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Ug(r[n],t.name,null);return this}for(;++i<a;)if((n=(t=o[i]).type)&&(n=Rg(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ig(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var qg,Hg,Yg=0,Wg=0,Gg=0,Vg=0,Xg=0,$g=0,Zg="object"===("undefined"==typeof performance?"undefined":o(performance))&&performance.now?performance:Date,Qg="object"===("undefined"==typeof window?"undefined":o(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Jg(){return Xg||(Qg(Kg),Xg=Zg.now()+$g)}function Kg(){Xg=0}function tv(){this._call=this._time=this._next=null}function ev(t,e,n){var r=new tv;return r.restart(t,e,n),r}function nv(){Xg=(Vg=Zg.now())+$g,Yg=Wg=0;try{!function(){Jg(),++Yg;for(var t,e=qg;e;)(t=Xg-e._time)>=0&&e._call.call(null,t),e=e._next;--Yg}()}finally{Yg=0,function(){var t,e,n=qg,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:qg=e);Hg=t,ov(r)}(),Xg=0}}function rv(){var t=Zg.now(),e=t-Vg;e>1e3&&($g-=e,Vg=t)}function ov(t){Yg||(Wg&&(Wg=clearTimeout(Wg)),t-Xg>24?(t<1/0&&(Wg=setTimeout(nv,t-Zg.now()-$g)),Gg&&(Gg=clearInterval(Gg))):(Gg||(Vg=Zg.now(),Gg=setInterval(rv,1e3)),Yg=1,Qg(nv)))}function iv(t,e,n){var r=new tv;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}tv.prototype=ev.prototype={constructor:tv,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Jg():+n)+(null==e?0:+e),this._next||Hg===this||(Hg?Hg._next=this:qg=this,Hg=this),this._call=t,this._time=n,ov()},stop:function(){this._call&&(this._call=null,this._time=1/0,ov())}};var av=Og("start","end","cancel","interrupt"),uv=[];function lv(t,e,n,r,o,i){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function i(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(i){var c,s,f,d;if(1!==n.state)return l();for(c in o)if((d=o[c]).name===n.name){if(3===d.state)return iv(a);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete o[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete o[c])}if(iv((function(){3===n.state&&(n.state=4,n.timer.restart(u,n.delay,n.time),u(i))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),c=0,s=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++s]=d);r.length=s+1}}function u(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(t,o);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=ev(i,0,n.time)}(t,n,{name:e,index:r,group:o,on:av,tween:uv,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function cv(t,e){var n=fv(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function sv(t,e){var n=fv(t,e);if(n.state>3)throw new Error("too late; already running");return n}function fv(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function dv(t,e){var n,r,o,i=t.__transition,a=!0;if(i){for(o in e=null==e?null:e+"",i)(n=i[o]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete t.__transition}}function hv(t){return function(){return t}}function pv(t,e){return function(n){return t+n*e}}function _v(t,e){var n=e-t;return n?pv(t,n>180||n<-180?n-360*Math.round(n/360):n):hv(isNaN(t)?e:t)}function gv(t){return 1==(t=+t)?vv:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):hv(isNaN(e)?n:e)}}function vv(t,e){var n=e-t;return n?pv(t,n):hv(isNaN(t)?e:t)}var yv=function t(e){var n=gv(e);function r(t,e){var r=n((t=Ou(t)).r,(e=Ou(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=vv(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);var mv,bv=(mv=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,u=r<e-1?t[r+2]:2*i-o;return function(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}((n-r/e)*e,a,o,i,u)}},function(t){var e,n,r=t.length,o=new Array(r),i=new Array(r),a=new Array(r);for(e=0;e<r;++e)n=Ou(t[e]),o[e]=n.r||0,i[e]=n.g||0,a[e]=n.b||0;return o=mv(o),i=mv(i),a=mv(a),n.opacity=1,function(t){return n.r=o(t),n.g=i(t),n.b=a(t),n+""}});function wv(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=kv(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=i[n](t);return a}}function xv(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}function Dv(t,e){return e-=t=+t,function(n){return t+e*n}}function Ev(t,e){var n,r={},i={};for(n in null!==t&&"object"===o(t)||(t={}),null!==e&&"object"===o(e)||(e={}),e)n in t?r[n]=kv(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Av=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cv=new RegExp(Av.source,"g");function Mv(t,e){var n,r,o,i=Av.lastIndex=Cv.lastIndex=0,a=-1,u=[],l=[];for(t+="",e+="";(n=Av.exec(t))&&(r=Cv.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),u[a]?u[a]+=o:u[++a]=o),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,l.push({i:a,x:Dv(n,r)})),i=Cv.lastIndex;return i<e.length&&(o=e.slice(i),u[a]?u[a]+=o:u[++a]=o),u.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)u[(n=l[r]).i]=n.x(t);return u.join("")})}function kv(t,e){var n,r=o(e);return null==e||"boolean"===r?hv(e):("number"===r?Dv:"string"===r?(n=Bu(e))?(e=n,yv):Mv:e instanceof Bu?yv:e instanceof Date?xv:Array.isArray(e)?wv:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ev:Dv)(t,e)}function Fv(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}var Sv,Tv,zv,Bv,Nv=180/Math.PI,Lv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Pv(t,e,n,r,o,i){var a,u,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*Nv,skewX:Math.atan(l)*Nv,scaleX:a,scaleY:u}}function Ov(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var u=[],l=[];return i=t(i),a=t(a),function(t,r,o,i,a,u){if(t!==o||r!==i){var l=a.push("translate(",null,e,null,n);u.push({i:l-4,x:Dv(t,o)},{i:l-2,x:Dv(r,i)})}else(o||i)&&a.push("translate("+o+e+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,u,l),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Dv(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(i.rotate,a.rotate,u,l),function(t,e,n,i){t!==e?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Dv(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(i.skewX,a.skewX,u,l),function(t,e,n,r,i,a){if(t!==n||e!==r){var u=i.push(o(i)+"scale(",null,",",null,")");a.push({i:u-4,x:Dv(t,n)},{i:u-2,x:Dv(e,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,u,l),i=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)u[(e=l[n]).i]=e.x(t);return u.join("")}}}var Iv=Ov((function(t){return"none"===t?Lv:(Sv||(Sv=document.createElement("DIV"),Tv=document.documentElement,zv=document.defaultView),Sv.style.transform=t,t=zv.getComputedStyle(Tv.appendChild(Sv),null).getPropertyValue("transform"),Tv.removeChild(Sv),Pv(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),jv=Ov((function(t){return null==t?Lv:(Bv||(Bv=document.createElementNS("http://www.w3.org/2000/svg","g")),Bv.setAttribute("transform",t),(t=Bv.transform.baseVal.consolidate())?Pv((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Lv)}),", ",")",")"),Rv=Math.SQRT2;function Uv(t){return((t=Math.exp(t))+1/t)/2}function qv(t,e){var n,r,o=t[0],i=t[1],a=t[2],u=e[0],l=e[1],c=e[2],s=u-o,f=l-i,d=s*s+f*f;if(d<1e-12)r=Math.log(c/a)/Rv,n=function(t){return[o+t*s,i+t*f,a*Math.exp(Rv*t*r)]};else{var h=Math.sqrt(d),p=(c*c-a*a+4*d)/(2*a*2*h),_=(c*c-a*a-4*d)/(2*c*2*h),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(_*_+1)-_);r=(v-g)/Rv,n=function(t){var e,n=t*r,u=Uv(g),l=a/(2*h)*(u*(e=Rv*n+g,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[o+l*s,i+l*f,a*u/Uv(Rv*n+g)]}}return n.duration=1e3*r,n}var Hv=function(t){return function(e,n){var r=t((e=Yu(e)).h,(n=Yu(n)).h),o=vv(e.s,n.s),i=vv(e.l,n.l),a=vv(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=i(t),e.opacity=a(t),e+""}}}(_v);function Yv(t,e){var n=vv((t=el(t)).l,(e=el(e)).l),r=vv(t.a,e.a),o=vv(t.b,e.b),i=vv(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=o(e),t.opacity=i(e),t+""}}var Wv=function(t){return function(e,n){var r=t((e=ll(e)).h,(n=ll(n)).h),o=vv(e.c,n.c),i=vv(e.l,n.l),a=vv(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=o(t),e.l=i(t),e.opacity=a(t),e+""}}}(_v);function Gv(t){return function e(n){function r(e,r){var o=t((e=bl(e)).h,(r=bl(r)).h),i=vv(e.s,r.s),a=vv(e.l,r.l),u=vv(e.opacity,r.opacity);return function(t){return e.h=o(t),e.s=i(t),e.l=a(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,r.gamma=e,r}(1)}Gv(_v);var Vv=Gv(vv);function Xv(t,e){var n,r;return function(){var o=sv(this,t),i=o.tween;if(i!==n)for(var a=0,u=(r=n=i).length;a<u;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}o.tween=r}}function $v(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=sv(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var u={name:e,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===e){o[l]=u;break}l===c&&o.push(u)}i.tween=o}}function Zv(t,e,n){var r=t._id;return t.each((function(){var t=sv(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return fv(t,r).value[e]}}function Qv(t,e){var n;return("number"==typeof e?Dv:e instanceof Bu?yv:(n=Bu(e))?(e=n,yv):Mv)(t,e)}function Jv(t){return function(){this.removeAttribute(t)}}function Kv(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ty(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function ey(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function ny(t,e,n){var r,o,i;return function(){var a,u,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(u=l+"")?null:a===r&&u===o?i:(o=u,i=e(r=a,l));this.removeAttribute(t)}}function ry(t,e,n){var r,o,i;return function(){var a,u,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(u=l+"")?null:a===r&&u===o?i:(o=u,i=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function oy(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function iy(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ay(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&iy(t,o)),n}return o._value=e,o}function uy(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&oy(t,o)),n}return o._value=e,o}function ly(t,e){return function(){cv(this,t).delay=+e.apply(this,arguments)}}function cy(t,e){return e=+e,function(){cv(this,t).delay=e}}function sy(t,e){return function(){sv(this,t).duration=+e.apply(this,arguments)}}function fy(t,e){return e=+e,function(){sv(this,t).duration=e}}function dy(t,e){if("function"!=typeof e)throw new Error;return function(){sv(this,t).ease=e}}function hy(t,e,n){var r,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?cv:sv;return function(){var a=i(this,t),u=a.on;u!==r&&(o=(r=u).copy()).on(e,n),a.on=o}}var py=Sg.prototype.constructor;function _y(t){return function(){this.style.removeProperty(t)}}function gy(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function vy(t,e,n){var r,o;function i(){var i=e.apply(this,arguments);return i!==o&&(r=(o=i)&&gy(t,i,n)),r}return i._value=e,i}function yy(t){return function(e){this.textContent=t.call(this,e)}}function my(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&yy(r)),e}return r._value=t,r}var by=0;function wy(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function xy(){return++by}var Dy=Sg.prototype;wy.prototype=function(t){return Sg().transition(t)}.prototype={constructor:wy,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=F_(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var u,l,c=r[a],s=c.length,f=i[a]=new Array(s),d=0;d<s;++d)(u=c[d])&&(l=t.call(u,u.__data__,d,c))&&("__data__"in u&&(l.__data__=u.__data__),f[d]=l,lv(f[d],e,n,d,f,fv(u,n)));return new wy(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=T_(t));for(var r=this._groups,o=r.length,i=[],a=[],u=0;u<o;++u)for(var l,c=r[u],s=c.length,f=0;f<s;++f)if(l=c[f]){for(var d,h=t.call(l,l.__data__,f,c),p=fv(l,n),_=0,g=h.length;_<g;++_)(d=h[_])&&lv(d,e,n,_,h,p);i.push(h),a.push(l)}return new wy(i,a,e,n)},filter:function(t){"function"!=typeof t&&(t=z_(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],u=a.length,l=r[o]=[],c=0;c<u;++c)(i=a[c])&&t.call(i,i.__data__,c,a)&&l.push(i);return new wy(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var l,c=e[u],s=n[u],f=c.length,d=a[u]=new Array(f),h=0;h<f;++h)(l=c[h]||s[h])&&(d[h]=l);for(;u<r;++u)a[u]=e[u];return new wy(a,this._parents,this._name,this._id)},selection:function(){return new py(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=xy(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,u=r[i],l=u.length,c=0;c<l;++c)if(a=u[c]){var s=fv(a,e);lv(a,t,n,c,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new wy(r,this._parents,t,n)},call:Dy.call,nodes:Dy.nodes,node:Dy.node,size:Dy.size,empty:Dy.empty,each:Dy.each,on:function(t,e){var n=this._id;return arguments.length<2?fv(this.node(),n).on.on(t):this.each(hy(n,t,e))},attr:function(t,e){var n=E_(t),r="transform"===n?jv:Qv;return this.attrTween(t,"function"==typeof e?(n.local?ry:ny)(n,r,Zv(this,"attr."+t,e)):null==e?(n.local?Kv:Jv)(n):(n.local?ey:ty)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=E_(t);return this.tween(n,(r.local?ay:uy)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Iv:Qv;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var i=X_(this,t),a=(this.style.removeProperty(t),X_(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}(t,r)).on("end.style."+t,_y(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,o,i;return function(){var a=X_(this,t),u=n(this),l=u+"";return null==u&&(this.style.removeProperty(t),l=u=X_(this,t)),a===l?null:a===r&&l===o?i:(o=l,i=e(r=a,u))}}(t,r,Zv(this,"style."+t,e))).each(function(t,e){var n,r,o,i,a="style."+e,u="end."+a;return function(){var l=sv(this,t),c=l.on,s=null==l.value[a]?i||(i=_y(e)):void 0;c===n&&o===s||(r=(n=c).copy()).on(u,o=s),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,o,i=n+"";return function(){var a=X_(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,vy(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Zv(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,my(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,o=fv(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==e?Xv:$v)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?ly:cy)(e,t)):fv(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?sy:fy)(e,t)):fv(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(dy(e,t)):fv(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var u={value:a},l={value:function(){0==--o&&i()}};n.each((function(){var n=sv(this,r),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(u),e._.interrupt.push(u),e._.end.push(l)),n.on=e}))}))}};var Ey={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Ay(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Ey.time=Jg(),Ey;return n}Sg.prototype.interrupt=function(t){return this.each((function(){dv(this,t)}))},Sg.prototype.transition=function(t){var e,n;t instanceof wy?(e=t._id,t=t._name):(e=xy(),(n=Ey).time=Jg(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,u=r[i],l=u.length,c=0;c<l;++c)(a=u[c])&&lv(a,t,e,c,u,n||Ay(a,e));return new wy(r,this._parents,t,e)};var Cy=1,My={container:document.body,point:[window.innerWidth/2,window.innerHeight/2],html:"",open_duration:250,close_duration:250,popup_custom_template:"",position:"overlay",shadow:!0,underlay_color:"rgba(255, 255, 255, 0.75)",width_side:35,height_side:35,width_overlay:80,height_overlay:80,vertical_position:"click",max_width:null,max_height:null,closeable:!0};function ky(){var t=this;for(var e in t.unique_id=Cy++,t._is_open=!1,t._onclose=null,My)t["_"+e]=My[e]}function Fy(t){ky.prototype[t]=function(e){return void 0===e?this["_"+t]:(this["_"+t]=e,this)}}for(var Sy in My)Fy(Sy);ky.prototype.point=function(t,e){if(void 0===t)return this._point;if(Array.isArray(t))this._point=[t[0],t[1]];else if(void 0!==e)this._point=[t,e];else if(t instanceof HTMLElement||t instanceof SVGElement){var n=t.getBoundingClientRect();this._point=[Math.floor(n.left+n.width/2),Math.floor(n.top+n.height/2)]}else console.error("Panel: could not understand argument");return this},ky.prototype.container=function(t){return t&&(this._container=t),this},ky.prototype.hide=function(){if(this._is_open)return function(t){t._getElement().style.pointerEvents="none",t._is_open=!1;var e=t._close_duration;Tg(t._getElement()).transition().duration(e).style("background","rgba(255, 255, 255, 0)").on("interrupt",(function(){Tg(this).style("display",t._is_open?"block":"none")})).on("end",(function(){Tg(this).style("display","none")})).select(".flourish-panel-close").style("opacity","0"),Tg(t._inner).transition().duration(e).style("opacity",0),Tg(t._content).transition().duration(e/2).style("opacity",0)}(this),this},ky.prototype.close=ky.prototype.hide,ky.prototype.draw=function(){var t=this;return t._content.innerHTML=t._html,function(t){var e=t._is_open||t._html==t._default?0:t._open_duration,n=window.innerWidth,r=window.innerHeight,o="overlay"==t._position,i="top"==t._position||"bottom"==t._position,a="left"==t._position||"right"==t._position,u=100*(t._max_width||1/0)/n,l=100*(t._max_height||1/0)/r,c=100*t._point[1]/r,s="click"==t._vertical_position&&!Flourish.fixed_height,f=o?Math.min(t._width_overlay,u):i?100:Math.min(t._width_side,u),d=o?Math.min(t._height_overlay,l):a?100:Math.min(t._height_side,l),h=o?(100-f)/2:"right"==t._position?100-f:0,p=s?Math.max(1,Math.min(c-d/2,99-d)):(100-d)/2,_=o?p:"bottom"==t._position?100-d:0,g=o?0:f,v=o?0:d,y=o?100*t._point[0]/n:"right"==t._position?100:"left"==t._position?-f:0,m=o?c:"bottom"==t._position?100:"top"==t._position?-d:0;Tg(t._getElement()).style("display","block").transition().duration(e).delay(.25*e).style("background",o?t._underlay_color:"rgba(255, 255, 255, 0)").style("pointer-events",o?null:"none"),Tg(t._inner).style("opacity",1).style("display","block").style("pointer-events","none").style("width",g+"%").style("height",v+"%").style("left",y+"%").style("top",m+"%").transition().duration(e).style("width",f+"%").style("height",d+"%").style("left",h+"%").style("top",_+"%").on("end",(function(){Tg(t._inner).style("pointer-events","all").style("width",f+"%").style("height",d+"%").style("left",h+"%").style("top",_+"%")})).on("interrupt",(function(){Tg(t._inner).style("pointer-events","all").style("width",f+"%").style("height",d+"%").style("left",h+"%").style("top",_+"%")}));var b=a&&s;Tg(t._content).transition().duration(e/4).delay(e).style("opacity",1).on("interrupt",(function(){Tg(this).style("opacity",1)})),Tg(t._content).select(".flourish-panel-content-inner").style("position",b?"absolute":null).style("top",b?c+"%":null).style("transform",b?"translateY(-50%)":null),Tg(t._inner).select(".flourish-panel-close").style("opacity",0).transition().duration(e/4).delay(e).style("opacity",t._closeable?1:0),t._is_open=!0}(t),this},ky.prototype.on=function(t,e){return"close"==t?e&&(this._onclose=e):console.error("Panel .on() method only supports 'close' events"),this},ky.prototype.margins=function(){var t={top:0,right:0,bottom:0,left:0};if(this._is_open&&"overlay"!=this._position){var e=this._getElement().getBoundingClientRect();"top"==this._position&&(t.top=e.top+e.height),"right"==this._position&&(t.right=e.left),"bottom"==this._position&&(t.bottom=e.top),"left"==this._position&&(t.left=e.left+e.width)}return t.css=t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px",t},ky.prototype._getElement=function(){var t=this,e="flourish-panel-"+t.unique_id,n=document.getElementById(e);if(!n){(n=document.createElement("div")).className="flourish-panel",n.id=e,n.addEventListener("click",(function(e){e.stopPropagation(),t.hide(),t._onclose&&t._onclose()}));var r=n.style;r.position="absolute",r.zIndex="999999",r.pointerEvents="none",r.width="100%",r.height="100%",r.top="0",r.left="0",r.background="rgba(255, 255, 255, 0)";var o=document.createElement("div");o.className="flourish-panel-inner",n.appendChild(o),t._inner=o,(r=o.style).width="0",r.height="0",r.position="absolute",r.boxSizing="border-box";var i=document.createElement("div");i.className="flourish-panel-shadow",o.appendChild(i);var a=document.createElement("div");a.className="flourish-panel-content",o.appendChild(a),t._content=a,(r=a.style).opacity="0",r.overflowY="auto",r.height="100%",function(t){Tg(t._inner).append("svg").attr("class","flourish-panel-close").attr("viewBox","0 0 40 40").style("width","1.25rem").style("height","1.25rem").style("position","absolute").style("right","1rem").style("top","1rem").style("cursor","pointer").style("opacity",0).on("mouseover",(function(){this.style.opacity=.66})).on("mouseout",(function(){this.style.opacity=1})).on("click",(function(){mg.stopPropagation(),t.hide(),t._onclose&&t._onclose()})).on("touch",(function(){mg.stopPropagation(),t.hide(),t._onclose&&t._onclose()})).append("path").attr("stroke","#333333").attr("stroke-width","0.5rem").attr("stroke-linecap","round").attr("d","M 10,10 L 30,30 M 30,10 L 10,30")}(t),t._container.appendChild(n)}return n};var Ty={mode:"popup",locked_id:null,popup_is_custom:!1,popup_custom_header:"Popup header",popup_custom_main:"Popup main content. Write your column names in between double curly brackets to display dynamic content.",popup_teaser_default:"Click to see more",popup_text_color:"#333333",popup_align:"left",popup_font_size:1,popup_width:12,popup_background:"#ffffff",popup_background_opacity:1,popup_padding:.5,popup_radius:.2,popup_shadow:!0,popup_pointer:!0,popup_header_background:"#333333",popup_header_text_color:"#ffffff",popup_header_type:"block",popup_list_type:"table",popup_list_label_weight:"normal",popup_list_separator:": ",panel_is_custom:!1,panel_custom_header:"Custom panel header",panel_custom_main:"Custom panel main content",panel_side_default_content:"<h1>Tap or click to explore</h1>",panel_side_fixed:!1,panel_position:"overlay",panel_width_overlay:80,panel_height_overlay:80,panel_vertical_position:"center",panel_width_side:35,panel_height_side:35,panel_max_width:null,panel_max_height:null,panel_text_color:"#333333",panel_align:"left",panel_font_size:1.25,panel_background:"#ffffff",panel_background_opacity:.9,panel_padding:1.2,panel_radius:.2,panel_shadow:!0,panel_open_duration:250,panel_close_duration:250,panel_list_type:"table",panel_list_label_weight:"normal",panel_list_separator:": "};function zy(t,e,n){var r="<div class='flourish-panel-content-inner'>",o=t["_"+n+"_default_template"],i=t._state[n+"_list_type"],a=t._state[n+"_list_separator"];if(o)r+=o.replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,(function(n,r){var o;if(Array.isArray(t._column_names[r])){var i=t._column_names[r];if(0==i.length)return"";o="<ul>",i.forEach((function(t,n){o+="<li>"+t+a+e[r][n]+"</li>"})),o+="</ul>"}else o=e[r];return void 0!==o?o:""}));else{var u,l={};for(var c in(e[t._title_key]||e[t._subtitle_key])&&(r+="<header>",e[t._title_key]&&(r+="<h1>"+e[t._title_key]+"</h1>",l[u=t._column_names[t._title_key]]=!0),e[t._subtitle_key]&&(r+="<h2>"+e[t._subtitle_key]+"</h2>",l[u=t._column_names[t._subtitle_key]]=!0),r+="</header>"),r+="<div class='main-content'><"+i+">",t._column_names)if(c!=t._title_key&&c!=t._subtitle_key)if(Array.isArray(e[c]))for(var s=0;s<e[c].length;s++)l[u=t._column_names[c][s]]||(l[u]=!0,"table"==i?r+="<tr><td class='table-col-label'><span class='data-heading'>"+u+"</span></td><td class='table-col-value'>"+e[c][s]+"</td></tr>":"ul"==i&&(r+="<li><span class='data-heading'>"+u+a+"</span>"+e[c][s]+"</li>"));else{if(l[u=t._column_names[c]])continue;l[u]=!0,"table"==i?r+="<tr><td class='table-col-label'><span class='data-heading'>"+u+"</span></td><td class='table-col-value'>"+e[c]+"</td></tr>":"ul"==i&&(r+="<li><span class='data-heading'>"+u+a+"</span>"+e[c]+"</li>")}r+="</"+i+"></div></div>"}return r}function By(t,e,n){var r;return Object.keys(t._column_names).some((function(o){if(Array.isArray(t._column_names[o])){var i=t._column_names[o].indexOf(e);if(i>=0)return r=n[o][i],!0}else if(t._column_names[o]==e)return r=n[o],!0})),void 0!==r?r:""}function Ny(t,e,n,r){var o="",i=Ly(e,t,r),a=Ly(n,t,r);return i&&(o+="<header>"+i+"</header>"),a&&(o+="<div class='main-content'>"+a+"</div>"),o}function Ly(t,e,n){return t.replace(/\{\{#if ((?:[^}]|\}[^}])*)\}\}([\s\S]*?)\{\{\/if\}\}/g,(function(t,r,o){return""==By(e,r,n)?"":o})).replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,(function(t,r){return By(e,r,n)}))}function Py(t,e,n){var r="";return n&&!t._state.popup_is_custom?r+="<div class='main-content'>"+t._state.popup_teaser_default+"</div>":n||t._state.popup_is_custom?r+=Ny(t,t._state.popup_custom_header,t._state.popup_custom_main,e):r+=zy(t,e,"popup"),r}function Oy(t,e){var n="";return t._state.panel_is_custom?n+=Ny(t,t._state.panel_custom_header,t._state.panel_custom_main,e):n+=zy(t,e,"panel"),n}function Iy(){return this.declarations=[],this}function jy(t){return this.selector=t,this.styles=[],this}function Ry(t){var e=t.popup._getElement(),n=e.querySelector(".flourish-popup-content");n.style.padding="0",n.style.textAlign=t._state.popup_align,n.style.color=t._state.popup_text_color,n.style.fontSize=t._state.popup_font_size+"rem",n.style.borderRadius=t._state.popup_radius+"rem",n.addEventListener("click",(function(){event.stopPropagation()}));var r=t.panel._getElement(),o=r.querySelector(".flourish-panel-inner"),i=r.querySelector(".flourish-panel-content"),a=Bu(t._state.panel_background);o.style.background="rgba("+a.r+","+a.g+","+a.b+","+t._state.panel_background_opacity+")",o.style.borderRadius=t._state.popup_radius+"rem",o.style.boxShadow="overlay"==t._state.panel_position&&t._state.panel_shadow?"0 0 1.5rem rgba(0,0,0,0.2)":"",o.addEventListener("click",(function(){event.stopPropagation()})),i.style.padding=t._state.panel_padding+"rem",i.style.textAlign=t._state.panel_align,i.style.color=t._state.panel_text_color,i.style.fontSize=t._state.panel_font_size+"rem",i.style.boxSizing="border-box";var u=e.querySelector(".flourish-popup-svg g");u.style.fill=t._state.popup_background,u.style.opacity=t._state.popup_background_opacity;var l=r.querySelector(".flourish-panel-close path");l&&(l.style.stroke=t._state.panel_text_color),0==t._state.popup_shadow?u.removeAttribute("filter"):u.setAttribute("filter","url(#dropshadow-"+t.popup.unique_id+")"),u.querySelector("rect").setAttribute("rx",t._state.popup_radius+"rem"),u.querySelector("path").style.display=t._state.popup_pointer?"block":"none",function(t){if(!document.querySelector("#popup-styles")){var e=document.createElement("style");e.id="popup-styles",document.head.appendChild(e)}var n=new Iy,r="block"==t._state.popup_header_type,o=Bu(t._state.popup_header_background||"transparent");o.opacity=t._state.popup_header_background?t._state.popup_background_opacity:0;var i=t._state.panel_position;n.select(".flourish-panel .flourish-panel-shadow").style("pointer-events","none").style("position","absolute").style("display","overlay"!=i&&t._state.panel_shadow?"block":"none").style("top","bottom"==i?"-3rem":"top"==i?"auto":0).style("right","left"==i?"-3rem":"right"==i?"auto":0).style("bottom","top"==i?"-3rem":"bottom"==i?"auto":0).style("left","right"==i?"-3rem":"left"==i?"auto":0).style("width","left"==i||"right"==i?"3rem":"100%").style("height","top"==i||"bottom"==i?"3rem":"100%").style("z-index","-1").style("overflow","hidden"),n.select(".flourish-panel .flourish-panel-shadow:before").style("content","''").style("display","block").style("position","absolute").style("width","left"==i||"right"==i?"1.5rem":"100%").style("height","top"==i||"bottom"==i?"1.5rem":"100%").style("border-radius","50%").style("background","rgba(0,0,0,0.3)").style("bottom","bottom"==i?"-50%":"top"==i?"auto":0).style("left","left"==i?"-50%":"right"==i?"auto":0).style("top","top"==i?"-50%":"bottom"==i?"auto":0).style("right","right"==i?"-50%":"left"==i?"auto":0).style("filter","blur(15px)"),n.select(".flourish-popup").style("pointer-events","none").select(".flourish-popup-content").style("pointer-events","auto").style("max-width",null==t._state.popup_width?null:t._state.popup_width+"rem !important"),n.select(".flourish-popup header, .flourish-panel header").style("margin","0"),n.select(".flourish-popup header").style("font-weight","bold").style("color",r?t._state.popup_header_text_color:null).style("background",r?o.rgb():null).style("padding",t._state.popup_padding+"rem").style("padding-bottom",r?null:"0").style("border-radius",t._state.popup_radius+"rem "+t._state.popup_radius+"rem 0 0"),n.select(".flourish-panel .flourish-panel-content-inner").style("overflow","auto"),n.select(".flourish-panel header").style("font-weight","bold").style("margin-bottom","0.5em").style("padding-right","1rem"),n.select(".flourish-popup .main-content").style("padding",t._state.popup_padding+"rem"),n.select(".flourish-popup header + .main-content").style("padding",t._state.popup_padding+"rem").style("padding-top",r?null:"0"),n.select(".flourish-popup h1, .flourish-panel h1").style("font-size","1em").style("margin","0"),n.select(".flourish-popup h2, .flourish-panel h2").style("font-size","1em").style("margin",r?"0":"0 0 0.25em").style("opacity","0.6").style("font-weight","normal"),n.select(".flourish-popup h2:empty, .flourish-panel h2:empty, .flourish-popup h1:empty, .flourish-panel h1:empty, .flourish-popup p:empty, .flourish-panel p:empty").style("display","none"),n.select(".flourish-popup p, .flourish-panel p").style("margin","0").style("font-size","inherit").style("font-weight","normal"),n.select(".flourish-popup table, .flourish-panel table").style("margin","0").style("width","100%").style("border-collapse","collapse").style("table-layout","auto"),n.select(".flourish-popup table tr, .flourish-panel table tr").style("border-top","1px solid #eee"),n.select(".flourish-popup table tr:first-child, .flourish-panel table tr:first-child").style("border-top","none"),n.select(".flourish-popup table tr td, .flourish-panel table tr td").style("padding","0.25em 0.5em 0.25em 0").style("vertical-align","top").style("font-size","inherit").style("text-align","left").style("font-weight","normal").style("overflow","hidden").style("word-break","break-word").style("text-overflow","ellipsis"),n.select(".flourish-popup table tr:last-child td, .flourish-panel table tr:last-child td").style("padding-bottom","0"),n.select(".flourish-popup .data-heading").style("font-weight",t._state.popup_list_label_weight),n.select(".flourish-panel .data-heading").style("font-weight",t._state.panel_list_label_weight),n.select(".flourish-popup table tr td.table-col-value, .flourish-panel table tr td.table-col-value").style("text-align","right").style("padding","0.25em 0 0.25em 0.5em"),n.select(".flourish-popup table tr:last-child td.table-col-value, .flourish-panel table tr:last-child td.table-col-value").style("padding-bottom","0"),n.select(".flourish-popup ul, .flourish-panel ul").style("padding","0").style("margin","0"),n.select(".flourish-popup ul li, .flourish-panel ul li").style("font-size","inherit").style("list-style","none"),document.head.querySelector("#popup-styles").innerHTML=n.print()}(t)}function Uy(t,e,n){var r=this;for(var o in this._state=t,this._popup_default_template=null,this._panel_default_template=null,this._title_key="name",this._subtitle_key=null,this._first_load=!0,this._on_panel_close=null,this._show_default_content_timer=null,this._panel_container=e||document.body,this._popup_container=n||document.body,this._popup_directions=["top","bottom","left","right"],this._getLockedPosition=function(){return null},Ty)null==t[o]&&(t[o]=Ty[o]);this.panel=(new ky).container(this._panel_container).on("close",(function(){r._state.locked_id=null,r.popup.hide(),"function"==typeof r._on_panel_close&&r._on_panel_close()})),this.popup=w_().container(this._popup_container).point(0,0).draw().hide()}function qy(t){t.popup._getElement().querySelector(".flourish-popup-content").style.pointerEvents="none"}function Hy(t){t.popup._getElement().querySelector(".flourish-popup-content").style.pointerEvents="auto"}function Yy(t,e,n){return new Uy(t,e,n)}function Wy(){var t={},e=0;return function n(r,o){if(void 0===r){var i=e;return e=0,i}return void 0===o?t[r]:o!==t[r]&&(void 0===t[r]&&Object.defineProperty(n,r,{get:function(){return t[r]}}),t[r]=o,e++,!0)}}Iy.prototype.select=function(t){if(!t)return this;var e=new jy(t,this);return e.parent=this,this.addDeclaration(e),e},Iy.prototype.addDeclaration=function(t){return this.declarations.push(t),this},Iy.prototype.print=function(){var t="";return this.declarations.forEach((function(e){t+=e.selector+" {\n",e.styles.forEach((function(e){t+="\t"+e[0]+": "+e[1]+";\n"})),t+="}\n\n"})),t},Iy.prototype.clear=function(){return this.declarations=[],this},jy.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this},jy.prototype.select=function(t){return this.parent.select(this.selector+" "+t)},Uy.prototype.getLockedPosition=function(t){return"function"!=typeof t?console.error("Invalid function passed to @flourish/info-popup getLockedPosition"):this._getLockedPosition=t,this},Uy.prototype.update=function(t){if(null!==this._state.locked_id){var e=this._getLockedPosition(this._state.locked_id);e?this.click(e[0],e[1],this._state.locked_id,t):console.warn("@flourish/info-popup: failed to return value from getLockedPosition function")}else this.clickout()},Uy.prototype.click=function(t,e,n,r){var o="popup"==this._state.mode?"popup":"panel";this._checkIfPopupIsEmpty(e,o)?"panel"===o?this.hidePanel():this.hidePopup():(this._point(t),null!=n?(this._state.locked_id=n,Hy(this)):this._state.locked_id=null,"panel"==o?(clearTimeout(this._show_default_content_timer),this.popup.hide(),this._drawPanel(e,r)):"popup"==o&&(this.panel.hide(),this._drawPopup(e,r)))},Uy.prototype.clickout=function(){this._state.locked_id=null,"both"!=this._state.mode&&"panel"!=this._state.mode||(this.popup.draw(),this.popup.hide(),"overlay"!=this._state.panel_position&&this._state.panel_side_fixed?this._showDefaultPanelContent():this.panel.hide()),"popup"==this._state.mode&&(this.panel.hide(),this.popup.draw(),this.popup.hide())},Uy.prototype.touch=function(t,e,n,r){this.mouseover(t,e,r,!0,n)},Uy.prototype.mouseover=function(t,e,n,r,o){var i="panel"==this._state.mode?"panel":"popup";if(this._checkIfPopupIsEmpty(e,i,"both"==this._state.mode))"panel"===i?this.hidePanel():this.hidePopup();else{var a=this;if("both"==this._state.mode)if(this._point(t),this._drawPopup(e,n,!0),r?Hy(this):qy(this),r)a.popup._getElement().querySelector(".flourish-popup-content").onclick=function(){a.click(t,e,o,n)};if("popup"==this._state.mode){if(null!==this._state.locked_id)return;qy(this),this._point(t),this._drawPopup(e,n)}if("panel"==this._state.mode){if(null!==this._state.locked_id||"overlay"==this._state.panel_position)return;if(!this._state.panel_side_fixed)return;clearTimeout(this._show_default_content_timer),this._point(t),this._drawPanel(e,n)}}},Uy.prototype.mouseout=function(){if("both"==this._state.mode&&this.popup.hide(),"popup"==this._state.mode){if(null!==this._state.locked_id)return;this.popup.hide()}if("panel"==this._state.mode){if(null!==this._state.locked_id)return;if("overlay"==this._state.panel_position||!this._state.panel_side_fixed)return;this._showDefaultPanelContent()}},Uy.prototype.locked=function(){return this._state.locked_id},Uy.prototype.mode=function(){return this._state.mode},Uy.prototype.setColumnNames=function(t){return this._column_names=t,this},Uy.prototype._showDefaultPanelContent=function(){var t=this;clearTimeout(this._show_default_content_timer),this._show_default_content_timer=setTimeout((function(){t.panel.html(t._state.panel_side_default_content),t._drawPanel()}),100)},Uy.prototype._checkIfPopupIsEmpty=function(t,e,n){return""==("panel"==e?Oy(this,t):Py(this,t,n)).trim()},Uy.prototype.onPanelClose=function(t){return this._on_panel_close=t,this},Uy.prototype._drawPopup=function(t,e,n){return t&&this.popup.html(Py(this,t,n)),Ry(this),this.popup.draw(),e&&e(this.popup._getElement(),t),this},Uy.prototype._drawPanel=function(t,e){return Ry(this),this.panel.open_duration(this._state.panel_open_duration).close_duration(this._state.panel_close_duration).width_overlay(this._state.panel_width_overlay).height_overlay(this._state.panel_height_overlay).vertical_position(this._state.panel_vertical_position).width_side(this._state.panel_width_side).height_side(this._state.panel_height_side).position(this._state.panel_position).max_width(this._state.panel_max_width).max_height(this._state.panel_max_height).closeable("overlay"==this._state.panel_position||!this._state.panel_side_fixed),void 0===t?this.panel.draw():this.panel.html(Oy(this,t)).draw(),e&&e(this.panel._getElement(),t),this},Uy.prototype.hidePanel=function(){return this.panel.hide(),this},Uy.prototype.hidePopup=function(){return this.popup.hide(),this},Uy.prototype.popupDirections=function(t){return this._popup_directions=t,this},Uy.prototype.margins=function(){return this.panel.margins()},Uy.prototype._getBiggestGap=function(t){var e,n,r=this._popup_container.getBoundingClientRect(),o=0,i={right:(r.width+r.left-(t.width+t.left))/r.width,bottom:(r.height+r.top-(t.height+t.top))/r.height,left:(t.left-r.left)/r.width,top:(t.top-r.top)/r.height},a={right:["left","leftFlexible","topLeft","bottomLeft","bottomFlexible","bottom","topFlexible","top","bottomRight","topRight","rightFlexible","right"],left:["right","rightFlexible","topRight","bottomRight","top","topFlexible","bottom","bottomFlexible","bottomLeft","topLeft","leftFlexible","left"],top:["bottom","bottomFlexible","bottomRight","bottomLeft","rightFlexible","leftFlexible","right","left","topRight","topLeft","topFlexible","top"],bottom:["top","topFlexible","topLeft","topRight","left","right","leftFlexible","rightFlexible","bottomLeft","bottomRight","bottomFlexible","bottom"]};for(var u in i)this._popup_directions.indexOf(u)<0||i[u]>o&&(o=i[u],e=u,n=a[u]);var l=t.left,c=t.top;return"left"==e||"right"==e?c+=.5*t.height:"bottom"==e&&(c+=t.height),"top"==e||"bottom"==e?l+=.5*t.width:"right"==e&&(l+=t.width),{side:e,arrow_directions:n,x:l,y:c}},Uy.prototype._point=function(t){var e,n,r=this._popup_directions;if(Array.isArray(t))e=t[0],n=t[1];else{if(!t||!t.getBoundingClientRect)return console.warn("@flourish/info-popup: Invalid positional value passed in point function, should be a coordinates array, or a node. Current value is",t),this;var o=t.getBoundingClientRect(),i=this._getBiggestGap(o);e=i.x,n=i.y,r=i.arrow_directions}return this.panel.point(t),this.popup.directions(r).point(e,n),this},Uy.prototype.popupDefaultTemplate=function(t){return null!=t?(this._popup_default_template=t,this):this._popup_default_template},Uy.prototype.panelDefaultTemplate=function(t){return null!=t?(this._panel_default_template=t,this):this._panel_default_template},Uy.prototype.titleKey=function(t){return null!=t?(this._title_key=t,this):this._title_key},Uy.prototype.subtitleKey=function(t){return null!=t?(this._subtitle_key=t,this):this._subtitle_key};var Gy={},Vy="$";function Xy(){}function $y(t,e){var n=new Xy;if(t instanceof Xy)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,o=-1,i=t.length;if(null==e)for(;++o<i;)n.set(o,t[o]);else for(;++o<i;)n.set(e(r=t[o],o,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function Zy(){}Xy.prototype=$y.prototype={constructor:Xy,has:function(t){return Vy+t in this},get:function(t){return this[Vy+t]},set:function(t,e){return this[Vy+t]=e,this},remove:function(t){var e=Vy+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Vy&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Vy&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Vy&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Vy&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Vy&&++t;return t},empty:function(){for(var t in this)if(t[0]===Vy)return!1;return!0},each:function(t){for(var e in this)e[0]===Vy&&t(this[e],e.slice(1),this)}};var Qy=$y.prototype;function Jy(t,e){var n=new Zy;if(t instanceof Zy)t.each((function(t){n.add(t)}));else if(t){var r=-1,o=t.length;if(null==e)for(;++r<o;)n.add(t[r]);else for(;++r<o;)n.add(e(t[r],r,t))}return n}Zy.prototype=Jy.prototype={constructor:Zy,has:Qy.has,add:function(t){return this[Vy+(t+="")]=t,this},remove:Qy.remove,clear:Qy.clear,values:Qy.keys,size:Qy.size,empty:Qy.empty,each:Qy.each};var Ky="points";function tm(t){var e=Gy.points.column_names[t];return void 0!==e&&(!Array.isArray(e)||!!e.length)}function em(){var t=function(){var t=[];if(!tm("lon")||!tm("lat"))return{type:"FeatureCollection",features:[],properties:{name:null,have_color:null,have_value:null,max_value:null}};var e=TS.getParser(),n=tm("name"),r=tm("color"),o=tm("value"),i=tm("metadata"),a=0,u=o?0:null;Gy.points.forEach((function(l,c){var s=e(l.lon),f=e(l.lat),d=r?l.color:null;if(isNaN(s)||isNaN(f)||""===d)a++;else{var h=null;if(o){var p=e(l.value);if(!Number.isFinite(p)||p<0)return void a++;(h=p)>u&&(u=h)}var _=n?l.name:null,g=i?l.metadata:null;t.push({type:"Feature",geometry:{type:"Point",coordinates:null},properties:{unprojected_feature:{type:"Feature",geometry:{type:"Point",coordinates:[s,f]}},name:_,color_group:d,value:h,metadata:g,source:Ky,index:c}})}}));var l={type:"FeatureCollection",features:t,properties:{have_name:n,have_color:r,have_value:o,max_value:u,source:Ky}};return a&&(1===a?console.warn("1 points ignored because of invalid entry"):console.warn(a+" points ignored because of invalid entry")),l}();return{collection:t,map:function(t){var e=$y();return t.features.forEach((function(t){e.set(t.properties.index,t)})),e}(t)}}var nm=r((function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),a=new F(r||[]);return i._invoke=function(t,e,n){var r=d;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===_){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=C(a,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=_,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=f(t,e,n);if("normal"===l.type){if(r=n.done?_:h,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=_,n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",_="completed",g={};function v(){}function y(){}function m(){}var b={};b[a]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(S([])));x&&x!==n&&r.call(x,a)&&(b=x);var D=m.prototype=v.prototype=Object.create(b);function E(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function n(i,a,u,l){var c=f(t[i],t,a);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"===o(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,u,l)}),(function(t){n("throw",t,u,l)})):e.resolve(d).then((function(t){s.value=t,u(s)}),(function(t){return n("throw",t,u,l)}))}l(c.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}}function C(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=f(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function S(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}return{next:T}}function T(){return{value:e,done:!0}}return y.prototype=D.constructor=m,m.constructor=y,y.displayName=c(m,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,l,"GeneratorFunction")),t.prototype=Object.create(D),t},t.awrap=function(t){return{__await:t}},E(A.prototype),A.prototype[u]=function(){return this},t.AsyncIterator=A,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new A(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(D),c(D,l,"Generator"),D[a]=function(){return this},D.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return u.type="throw",u.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:S(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}})),rm=r((function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.default=t.exports,t.exports.__esModule=!0}));n(rm);var om=r((function(t){t.exports=function(t,e){if(t){if("string"==typeof t)return rm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rm(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0}));n(om);var im=n(r((function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0}))),am=n(r((function(t){function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t},t.exports.default=t.exports,t.exports.__esModule=!0}))),um=r((function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0}));n(um);var lm=r((function(t){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}},t.exports.default=t.exports,t.exports.__esModule=!0}));n(lm);var cm=r((function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0}));n(cm),n(r((function(t){t.exports=function(t,e){return um(t)||lm(t,e)||om(t,e)||cm()},t.exports.default=t.exports,t.exports.__esModule=!0})));var sm=function t(e,n){var r,o=e&&e.type;if("FeatureCollection"===o)for(r=0;r<e.features.length;r++)t(e.features[r],n);else if("GeometryCollection"===o)for(r=0;r<e.geometries.length;r++)t(e.geometries[r],n);else if("Feature"===o)t(e.geometry,n);else if("Polygon"===o)fm(e.coordinates,n);else if("MultiPolygon"===o)for(r=0;r<e.coordinates.length;r++)fm(e.coordinates[r],n);return e};function fm(t,e){if(0!==t.length){dm(t[0],e);for(var n=1;n<t.length;n++)dm(t[n],!e)}}function dm(t,e){for(var n=0,r=0,o=t.length,i=o-1;r<o;i=r++)n+=(t[r][0]-t[i][0])*(t[i][1]+t[r][1]);n>=0!=!!e&&t.reverse()}function hm(t){if(!(e=t)||"object"!==o(e))throw new TypeError("feature must be an object");var e;return sm(t,!0)}var pm="regions";function _m(t){var e=Gy.choropleth.column_names[t];return void 0!==e&&(!Array.isArray(e)||!!e.length)}var gm=function(t){return t&&t[0].length>4?t:null},vm=function(t){return t.reduce((function(t,e){return gm(e)&&t.push(e),t}),[])};function ym(t){if(t&&t.geometry){var e,n;try{n=(e=JSON.parse(t.geometry)).type}catch(e){return void console.warn("Feature skipped because JSON.parse failed.",t,e)}if(("Polygon"===n||"MultiPolygon"===n)&&Array.isArray(e.coordinates)){var r=("Polygon"===n?gm:vm)(e.coordinates);if(r&&r.length)return e.coordinates=r,hm({type:"Feature",geometry:e,properties:{}})}}}function mm(){var t=function(){var t=[],e=TS.getParser(),n=_m("name"),r=_m("value"),o=_m("metadata"),i=_m("group");Gy.choropleth.forEach((function(e){var a=ym(e);if(a){var u=a.properties;n&&(u.name=e.name),r&&(u.value=e.value),o&&(u.metadata=e.metadata),i&&e.group&&(u.group=e.group),t.push(a)}}));var a=Gy.choropleth.length-t.length;a&&(1===a?console.warn("1 region ignored because of invalid entry"):console.warn(a+" regions ignored because of invalid entry"));var u={unprojected_feature_collection:Kp({type:"FeatureCollection",features:t}),have_geometry:_m("geometry"),have_name:n,have_value:r,have_metadata:o,source:pm};return{type:"FeatureCollection",features:u.unprojected_feature_collection.features.map((function(t,n){var o=t.properties.name,i=r?t.properties.value.slice():[],a=t.properties.metadata,u=t.properties.group;return delete t.properties,{type:"Feature",geometry:null,properties:{unprojected_feature:t,name:o,value:i,group:u,metadata:a,numeric_value:i.map(e),source:pm,index:n}}})),properties:u}}();return{collection:t,map:function(t){var e=$y();return t.features.forEach((function(t){e.set(t.properties.index,t)})),e}(t)}}var bm=["LineString","MultiLineString","Polygon","MultiPolygon"];var wm=function(t){return t&&t[0].length>4?t:null},xm=function(t){return t.reduce((function(t,e){return wm(e)&&t.push(e),t}),[])};function Dm(t){if(t&&t.geometry){var e,n;try{n=(e=JSON.parse(t.geometry)).type}catch(e){return void console.warn("Feature skipped because JSON.parse failed.",t,e)}if(bm.includes(n)&&Array.isArray(e.coordinates)){if("LineString"===n||"MultiLineString"===n)return{type:"Feature",geometry:e,properties:{}};var r=("Polygon"===n?wm:xm)(e.coordinates);if(r&&r.length)return e.coordinates=r,hm({type:"Feature",geometry:e,properties:{}})}}}function Em(){var t=function(){if(Gy.lines)return Gy.lines;var t=[];return t.column_names={},t}(),e=[],n=void 0!==t.column_names.series;t.forEach((function(t){var r=Dm(t);if(r){var o=r.properties;n&&(o.series=t.series),e.push(r)}}));var r=t.length-e.length;r&&(1===r?console.warn("1 line ignored because of invalid entry"):console.warn(r+" lines ignored because of invalid entry"));var o={unprojected_feature_collection:Kp({type:"FeatureCollection",features:e}),have_series:n};return{type:"FeatureCollection",features:o.unprojected_feature_collection.features.map((function(t){var e=t.properties.series;return delete t.properties,{type:"Feature",geometry:null,properties:{unprojected_feature:t,series:e}}})),properties:o}}function Am(t){return t}function Cm(t,e){var n=function(t){if(null==t)return Am;var e,n,r=t.scale[0],o=t.scale[1],i=t.translate[0],a=t.translate[1];return function(t,u){u||(e=n=0);var l=2,c=t.length,s=new Array(c);for(s[0]=(e+=t[0])*r+i,s[1]=(n+=t[1])*o+a;l<c;)s[l]=t[l],++l;return s}}(t.transform),r=t.arcs;function o(t,e){e.length&&e.pop();for(var o=r[t<0?~t:t],i=0,a=o.length;i<a;++i)e.push(n(o[i],i));t<0&&function(t,e){for(var n,r=t.length,o=r-e;o<--r;)n=t[o],t[o++]=t[r],t[r]=n}(e,a)}function i(t){return n(t)}function a(t){for(var e=[],n=0,r=t.length;n<r;++n)o(t[n],e);return e.length<2&&e.push(e[0]),e}function u(t){for(var e=a(t);e.length<4;)e.push(e[0]);return e}function l(t){return t.map(u)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=i(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(i);break;case"LineString":n=a(e.arcs);break;case"MultiLineString":n=e.arcs.map(a);break;case"Polygon":n=l(e.arcs);break;case"MultiPolygon":n=e.arcs.map(l);break;default:return null}return{type:r,coordinates:n}}(e)}function Mm(t,e){var n={},r={},o={},i=[],a=-1;function u(t,e){for(var r in t){var o=t[r];delete e[o.start],delete o.start,delete o.end,o.forEach((function(t){n[t<0?~t:t]=1})),i.push(o)}}return e.forEach((function(n,r){var o,i=t.arcs[n<0?~n:n];i.length<3&&!i[1][0]&&!i[1][1]&&(o=e[++a],e[a]=n,e[r]=o)})),e.forEach((function(e){var n,i,a=function(e){var n,r=t.arcs[e<0?~e:e],o=r[0];t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1];return e<0?[n,o]:[o,n]}(e),u=a[0],l=a[1];if(n=o[u])if(delete o[n.end],n.push(e),n.end=l,i=r[l]){delete r[i.start];var c=i===n?n:n.concat(i);r[c.start=n.start]=o[c.end=i.end]=c}else r[n.start]=o[n.end]=n;else if(n=r[l])if(delete r[n.start],n.unshift(e),n.start=u,i=o[u]){delete o[i.end];var s=i===n?n:i.concat(n);r[s.start=i.start]=o[s.end=n.end]=s}else r[n.start]=o[n.end]=n;else r[(n=[e]).start=u]=o[n.end=l]=n})),u(o,r),u(r,o),e.forEach((function(t){n[t<0?~t:t]||i.push([t])})),i}function km(t,e){var n={},r=[],o=[];function i(t){t.forEach((function(e){e.forEach((function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)}))})),r.push(t)}function a(e){return function(t){for(var e,n=-1,r=t.length,o=t[r-1],i=0;++n<r;)e=o,o=t[n],i+=e[0]*o[1]-e[1]*o[0];return Math.abs(i)}(Cm(t,{type:"Polygon",arcs:[e]}).coordinates[0])}return e.forEach((function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":i(e.arcs);break;case"MultiPolygon":e.arcs.forEach(i)}})),r.forEach((function(t){if(!t._){var e=[],r=[t];for(t._=1,o.push(e);t=r.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].forEach((function(t){t._||(t._=1,r.push(t))}))}))}))}})),r.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:o.map((function(e){var r,o=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].length<2&&o.push(t)}))}))})),(r=(o=Mm(t,o)).length)>1)for(var i,u,l=1,c=a(o[0]);l<r;++l)(i=a(o[l]))>c&&(u=o[0],o[0]=o[l],o[l]=u,c=i);return o}))}}function Fm(t,e,n,r,o,i){3===arguments.length&&(r=i=Array,o=null);for(var a=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),u=new i(t),l=t-1,c=0;c<t;++c)a[c]=o;function s(r,i){for(var c=e(r)&l,s=a[c],f=0;s!=o;){if(n(s,r))return u[c]=i;if(++f>=t)throw new Error("full hashmap");s=a[c=c+1&l]}return a[c]=r,u[c]=i,i}function f(r,i){for(var c=e(r)&l,s=a[c],f=0;s!=o;){if(n(s,r))return u[c];if(++f>=t)throw new Error("full hashmap");s=a[c=c+1&l]}return a[c]=r,u[c]=i,i}function d(r,i){for(var c=e(r)&l,s=a[c],f=0;s!=o;){if(n(s,r))return u[c];if(++f>=t)break;s=a[c=c+1&l]}return i}function h(){for(var t=[],e=0,n=a.length;e<n;++e){var r=a[e];r!=o&&t.push(r)}return t}return{set:s,maybeSet:f,get:d,keys:h}}function Sm(t,e){return t[0]===e[0]&&t[1]===e[1]}var Tm=new ArrayBuffer(16),zm=new Float64Array(Tm),Bm=new Uint32Array(Tm);function Nm(t){zm[0]=t[0],zm[1]=t[1];var e=Bm[0]^Bm[1];return 2147483647&(e=e<<5^e>>7^Bm[2]^Bm[3])}function Lm(t){var e,n,r,o,i=t.coordinates,a=t.lines,u=t.rings,l=function(){for(var t=Fm(1.4*i.length,w,x,Int32Array,-1,Int32Array),e=new Int32Array(i.length),n=0,r=i.length;n<r;++n)e[n]=t.maybeSet(n,n);return e}(),c=new Int32Array(i.length),s=new Int32Array(i.length),f=new Int32Array(i.length),d=new Int8Array(i.length),h=0;for(e=0,n=i.length;e<n;++e)c[e]=s[e]=f[e]=-1;for(e=0,n=a.length;e<n;++e){var p=a[e],_=p[0],g=p[1];for(r=l[_],o=l[++_],++h,d[r]=1;++_<=g;)b(e,r,r=o,o=l[_]);++h,d[o]=1}for(e=0,n=i.length;e<n;++e)c[e]=-1;for(e=0,n=u.length;e<n;++e){var v=u[e],y=v[0]+1,m=v[1];for(b(e,l[m-1],r=l[y-1],o=l[y]);++y<=m;)b(e,r,r=o,o=l[y])}function b(t,e,n,r){if(c[n]!==t){c[n]=t;var o=s[n];if(o>=0){var i=f[n];o===e&&i===r||o===r&&i===e||(++h,d[n]=1)}else s[n]=e,f[n]=r}}function w(t){return Nm(i[t])}function x(t,e){return Sm(i[t],i[e])}c=s=f=null;var D,E=function(t,e,n,r,o){3===arguments.length&&(r=Array,o=null);for(var i=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=t-1,u=0;u<t;++u)i[u]=o;function l(r){for(var u=e(r)&a,l=i[u],c=0;l!=o;){if(n(l,r))return!0;if(++c>=t)throw new Error("full hashset");l=i[u=u+1&a]}return i[u]=r,!0}function c(r){for(var u=e(r)&a,l=i[u],c=0;l!=o;){if(n(l,r))return!0;if(++c>=t)break;l=i[u=u+1&a]}return!1}function s(){for(var t=[],e=0,n=i.length;e<n;++e){var r=i[e];r!=o&&t.push(r)}return t}return{add:l,has:c,values:s}}(1.4*h,Nm,Sm);for(e=0,n=i.length;e<n;++e)d[D=l[e]]&&E.add(i[D]);return E}function Pm(t,e,n,r){Om(t,e,n),Om(t,e,e+r),Om(t,e+r,n)}function Om(t,e,n){for(var r,o=e+(n---e>>1);e<o;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function Im(t){var e,n,r={};for(e in t)r[e]=null==(n=t[e])?{type:null}:("FeatureCollection"===n.type?jm:"Feature"===n.type?Rm:Um)(n);return r}function jm(t){var e={type:"GeometryCollection",geometries:t.features.map(Rm)};return null!=t.bbox&&(e.bbox=t.bbox),e}function Rm(t){var e,n=Um(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function Um(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(Um)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function qm(t,e){var n=function(t){var e=1/0,n=1/0,r=-1/0,o=-1/0;function i(t){null!=t&&a.hasOwnProperty(t.type)&&a[t.type](t)}var a={GeometryCollection:function(t){t.geometries.forEach(i)},Point:function(t){u(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(u)},LineString:function(t){l(t.arcs)},MultiLineString:function(t){t.arcs.forEach(l)},Polygon:function(t){t.arcs.forEach(l)},MultiPolygon:function(t){t.arcs.forEach(c)}};function u(t){var i=t[0],a=t[1];i<e&&(e=i),i>r&&(r=i),a<n&&(n=a),a>o&&(o=a)}function l(t){t.forEach(u)}function c(t){t.forEach(l)}for(var s in t)i(t[s]);return r>=e&&o>=n?[e,n,r,o]:void 0}(t=Im(t)),r=e>0&&n&&function(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=i-r?(n-1)/(i-r):1,l=a-o?(n-1)/(a-o):1;function c(t){return[Math.round((t[0]-r)*u),Math.round((t[1]-o)*l)]}function s(t,e){for(var n,i,a,c,s,f=-1,d=0,h=t.length,p=new Array(h);++f<h;)n=t[f],c=Math.round((n[0]-r)*u),s=Math.round((n[1]-o)*l),c===i&&s===a||(p[d++]=[i=c,a=s]);for(p.length=d;d<e;)d=p.push([p[0][0],p[0][1]]);return p}function f(t){return s(t,2)}function d(t){return s(t,4)}function h(t){return t.map(d)}function p(t){null!=t&&_.hasOwnProperty(t.type)&&_[t.type](t)}var _={GeometryCollection:function(t){t.geometries.forEach(p)},Point:function(t){t.coordinates=c(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(c)},LineString:function(t){t.arcs=f(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(f)},Polygon:function(t){t.arcs=h(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(h)}};for(var g in t)p(t[g]);return{scale:[1/u,1/l],translate:[r,o]}}(t,n,e),o=function(t){var e,n,r,o,i=t.coordinates,a=t.lines,u=t.rings,l=a.length+u.length;for(delete t.lines,delete t.rings,r=0,o=a.length;r<o;++r)for(e=a[r];e=e.next;)++l;for(r=0,o=u.length;r<o;++r)for(n=u[r];n=n.next;)++l;var c=Fm(2*l*1.4,Nm,Sm),s=t.arcs=[];for(r=0,o=a.length;r<o;++r){e=a[r];do{f(e)}while(e=e.next)}for(r=0,o=u.length;r<o;++r)if((n=u[r]).next)do{f(n)}while(n=n.next);else d(n);function f(t){var e,n,r,o,a,u,l,f;if(r=c.get(e=i[t[0]]))for(l=0,f=r.length;l<f;++l)if(h(o=r[l],t))return t[0]=o[0],void(t[1]=o[1]);if(a=c.get(n=i[t[1]]))for(l=0,f=a.length;l<f;++l)if(p(u=a[l],t))return t[1]=u[0],void(t[0]=u[1]);r?r.push(t):c.set(e,[t]),a?a.push(t):c.set(n,[t]),s.push(t)}function d(t){var e,n,r,o,a;if(n=c.get(i[t[0]]))for(o=0,a=n.length;o<a;++o){if(_(r=n[o],t))return t[0]=r[0],void(t[1]=r[1]);if(g(r,t))return t[0]=r[1],void(t[1]=r[0])}if(n=c.get(e=i[t[0]+v(t)]))for(o=0,a=n.length;o<a;++o){if(_(r=n[o],t))return t[0]=r[0],void(t[1]=r[1]);if(g(r,t))return t[0]=r[1],void(t[1]=r[0])}n?n.push(t):c.set(e,[t]),s.push(t)}function h(t,e){var n=t[0],r=e[0],o=t[1];if(n-o!=r-e[1])return!1;for(;n<=o;++n,++r)if(!Sm(i[n],i[r]))return!1;return!0}function p(t,e){var n=t[0],r=e[0],o=t[1],a=e[1];if(n-o!=r-a)return!1;for(;n<=o;++n,--a)if(!Sm(i[n],i[a]))return!1;return!0}function _(t,e){var n=t[0],r=e[0],o=t[1]-n;if(o!==e[1]-r)return!1;for(var a=v(t),u=v(e),l=0;l<o;++l)if(!Sm(i[n+(l+a)%o],i[r+(l+u)%o]))return!1;return!0}function g(t,e){var n=t[0],r=e[0],o=t[1],a=e[1],u=o-n;if(u!==a-r)return!1;for(var l=v(t),c=u-v(e),s=0;s<u;++s)if(!Sm(i[n+(s+l)%u],i[a-(s+c)%u]))return!1;return!0}function v(t){for(var e=t[0],n=t[1],r=e,o=r,a=i[r];++r<n;){var u=i[r];(u[0]<a[0]||u[0]===a[0]&&u[1]<a[1])&&(o=r,a=u)}return o-e}return t}(function(t){var e,n,r,o=Lm(t),i=t.coordinates,a=t.lines,u=t.rings;for(n=0,r=a.length;n<r;++n)for(var l=a[n],c=l[0],s=l[1];++c<s;)o.has(i[c])&&(e={0:c,1:l[1]},l[1]=c,l=l.next=e);for(n=0,r=u.length;n<r;++n)for(var f=u[n],d=f[0],h=d,p=f[1],_=o.has(i[d]);++h<p;)o.has(i[h])&&(_?(e={0:h,1:f[1]},f[1]=h,f=f.next=e):(Pm(i,d,p,p-h),i[p]=i[d],_=!0,h=d));return t}(function(t){var e=-1,n=[],r=[],o=[];function i(t){t&&a.hasOwnProperty(t.type)&&a[t.type](t)}var a={GeometryCollection:function(t){t.geometries.forEach(i)},LineString:function(t){t.arcs=u(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(u)},Polygon:function(t){t.arcs=t.arcs.map(l)},MultiPolygon:function(t){t.arcs=t.arcs.map(c)}};function u(t){for(var r=0,i=t.length;r<i;++r)o[++e]=t[r];var a={0:e-i+1,1:e};return n.push(a),a}function l(t){for(var n=0,i=t.length;n<i;++n)o[++e]=t[n];var a={0:e-i+1,1:e};return r.push(a),a}function c(t){return t.map(l)}for(var s in t)i(t[s]);return{type:"Topology",coordinates:o,lines:n,rings:r,objects:t}}(t))),i=o.coordinates,a=Fm(1.4*o.arcs.length,Hm,Ym);function u(t){t&&l.hasOwnProperty(t.type)&&l[t.type](t)}t=o.objects,o.bbox=n,o.arcs=o.arcs.map((function(t,e){return a.set(t,e),i.slice(t[0],t[1]+1)})),delete o.coordinates,i=null;var l={GeometryCollection:function(t){t.geometries.forEach(u)},LineString:function(t){t.arcs=c(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(c)},Polygon:function(t){t.arcs=t.arcs.map(c)},MultiPolygon:function(t){t.arcs=t.arcs.map(s)}};function c(t){var e=[];do{var n=a.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function s(t){return t.map(c)}for(var f in t)u(t[f]);return r&&(o.transform=r,o.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,o,i=t[e],a=0,u=1,l=i.length,c=i[0],s=c[0],f=c[1];++a<l;)r=(c=i[a])[0],o=c[1],r===s&&o===f||(i[u++]=[r-s,o-f],s=r,f=o);1===u&&(i[u++]=[0,0]),i.length=u}return t}(o.arcs)),o}function Hm(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function Ym(t,e){var n,r=t[0],o=t[1],i=e[0],a=e[1];return o<r&&(n=r,r=o,o=n),a<i&&(n=i,i=a,a=n),r===i&&o===a}function Wm(){var t=new Map;return Gm.features.forEach((function(e){var n=e.properties.group;n&&(t.has(n)||t.set(n,[]),t.get(n).push(e.properties.unprojected_feature))})),Array.from(t.values()).map((function(t){var e=qm({group:{type:"FeatureCollection",features:t}},Math.pow(10,hu.group_quantization_precision));return function(t){return Cm(t,km.apply(this,arguments))}(e,e.objects.group.geometries)}))}var Gm,Vm,Xm,$m,Zm,Qm,Jm,Km,tb=Wy();function eb(){var t=tb("choropleth_data",Gy.choropleth),e=tb("decimal_separator",hu.localization.input_decimal_separator),n=tb("gqp",hu.group_quantization_precision);if(t||e){var r=mm();for(var o in Gm=r.collection,Vm=r.map,Xm={},Gy.choropleth.column_names)"geometry"!==o&&(Xm[o]=Gy.choropleth.column_names[o])}if((t||n)&&($m=Wm()),tb("points_data",Gy.points)||e){var i=em();for(var o in Zm=i.collection,Qm=i.map,Jm={},Gy.points.column_names)"lat"!=o&&"lon"!=o&&(Jm[o]=Gy.points.column_names[o])}return tb("lines_data",Gy.lines||[])&&(Km=Em()),tb()}function nb(t,e){var n=t.reduce((function(t,e){var n=function(t){if(!t||!t.geometry||"Feature"===!t.type)return!1;var e=t.geometry.type;return("Polygon"===e||"MultiPolygon"===e)&&e}(e);return"Polygon"===n?t.push(e):"MultiPolygon"===n&&Array.prototype.push.apply(t,e.geometry.coordinates.map((function(t){return{type:"Feature",geometry:{type:"Polygon",coordinates:t}}}))),t}),[]);if(!e)return n;var r=e/Math.pow(6371,2),o=n.reduce((function(t,e){return function(t){return ds.reset(),Hc(t,hs),2*ds}(e)>=r&&t.push(e),t}),[]);return o.length?o:n}var rb=1e-6,ob=function(){function t(){im(this,t),this._partials=new Float64Array(32),this._n=0}return am(t,[{key:"add",value:function(t){for(var e=this._partials,n=0,r=0;r<this._n&&r<32;r++){var o=e[r],i=t+o,a=Math.abs(t)<Math.abs(o)?t-(i-o):o-(i-t);a&&(e[n++]=a),t=i}return e[n]=t,this._n=n+1,this}},{key:"valueOf",value:function(){var t,e,n,r=this._partials,o=this._n,i=0;if(o>0){for(i=r[--o];o>0&&(t=i,!(n=(e=r[--o])-((i=t+e)-t))););o>0&&(n<0&&r[o-1]<0||n>0&&r[o-1]>0)&&(e=2*n)==(t=i+e)-i&&(i=t)}return i}}]),t}(),ib=nm.mark(lb);function ab(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ub(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ub(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ub(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lb(t){var e,n,r;return nm.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:e=ab(t),o.prev=1,e.s();case 3:if((n=e.n()).done){o.next=8;break}return r=n.value,o.delegateYield(r,"t0",6);case 6:o.next=3;break;case 8:o.next=13;break;case 10:o.prev=10,o.t1=o.catch(1),e.e(o.t1);case 13:return o.prev=13,e.f(),o.finish(13);case 16:case"end":return o.stop()}}),ib,null,[[1,10,13,16]])}function cb(t){return Array.from(lb(t))}var sb=1e-6,fb=Math.PI,db=fb/2,hb=fb/4,pb=2*fb,_b=180/fb,gb=fb/180,vb=Math.abs,yb=Math.atan,mb=Math.atan2,bb=Math.cos,wb=Math.exp,xb=Math.log,Db=Math.pow,Eb=Math.sin,Ab=Math.sign||function(t){return t>0?1:t<0?-1:0},Cb=Math.sqrt,Mb=Math.tan;function kb(t){return t>1?db:t<-1?-db:Math.asin(t)}function Fb(){}function Sb(t,e){t&&zb.hasOwnProperty(t.type)&&zb[t.type](t,e)}var Tb={Feature:function(t,e){Sb(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)Sb(n[r].geometry,e)}},zb={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Bb(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)Bb(n[r],e,0)},Polygon:function(t,e){Nb(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)Nb(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)Sb(n[r],e)}};function Bb(t,e,n){var r,o=-1,i=t.length-n;for(e.lineStart();++o<i;)r=t[o],e.point(r[0],r[1],r[2]);e.lineEnd()}function Nb(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Bb(t[n],e,1);e.polygonEnd()}function Lb(t,e){t&&Tb.hasOwnProperty(t.type)?Tb[t.type](t,e):Sb(t,e)}function Pb(t){return[mb(t[1],t[0]),kb(t[2])]}function Ob(t){var e=t[0],n=t[1],r=bb(n);return[r*bb(e),r*Eb(e),Eb(n)]}function Ib(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function jb(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Rb(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ub(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function qb(t){var e=Cb(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Hb(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Yb(t,e){return[vb(t)>fb?t+Math.round(-t/pb)*pb:t,e]}function Wb(t){return function(e,n){return[(e+=t)>fb?e-pb:e<-fb?e+pb:e,n]}}function Gb(t){var e=Wb(t);return e.invert=Wb(-t),e}function Vb(t,e){var n=bb(t),r=Eb(t),o=bb(e),i=Eb(e);function a(t,e){var a=bb(e),u=bb(t)*a,l=Eb(t)*a,c=Eb(e),s=c*n+u*r;return[mb(l*o-s*i,u*n-c*r),kb(s*o+l*i)]}return a.invert=function(t,e){var a=bb(e),u=bb(t)*a,l=Eb(t)*a,c=Eb(e),s=c*o-l*i;return[mb(l*o+c*i,u*n+s*r),kb(s*n-u*r)]},a}function Xb(t,e){(e=Ob(e))[0]-=t,qb(e);var n,r=(n=-e[1])>1?0:n<-1?fb:Math.acos(n);return((-e[2]<0?-r:r)+pb-sb)%pb}function $b(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:Fb,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Zb(t,e){return vb(t[0]-e[0])<sb&&vb(t[1]-e[1])<sb}function Qb(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Jb(t,e,n,r,o){var i,a,u=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Zb(r,a)){if(!r[2]&&!a[2]){for(o.lineStart(),i=0;i<e;++i)o.point((r=t[i])[0],r[1]);return void o.lineEnd()}a[0]+=2e-6}u.push(n=new Qb(r,t,null,!0)),l.push(n.o=new Qb(r,null,n,!1)),u.push(n=new Qb(a,t,null,!1)),l.push(n.o=new Qb(a,null,n,!0))}})),u.length){for(l.sort(e),Kb(u),Kb(l),i=0,a=l.length;i<a;++i)l[i].e=n=!n;for(var c,s,f=u[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;c=d.z,o.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(i=0,a=c.length;i<a;++i)o.point((s=c[i])[0],s[1]);else r(d.x,d.n.x,1,o);d=d.n}else{if(h)for(c=d.p.z,i=c.length-1;i>=0;--i)o.point((s=c[i])[0],s[1]);else r(d.x,d.p.x,-1,o);d=d.p}c=(d=d.o).z,h=!h}while(!d.v);o.lineEnd()}}}function Kb(t){if(e=t.length){for(var e,n,r=0,o=t[0];++r<e;)o.n=n=t[r],n.p=o,o=n;o.n=n=t[0],n.p=o}}function tw(t){return vb(t[0])<=fb?t[0]:Ab(t[0])*((vb(t[0])+fb)%pb-fb)}function ew(t,e,n,r){return function(o){var i,a,u,l=e(o),c=$b(),s=e(c),f=!1,d={point:h,lineStart:_,lineEnd:g,polygonStart:function(){d.point=v,d.lineStart=y,d.lineEnd=m,a=[],i=[]},polygonEnd:function(){d.point=h,d.lineStart=_,d.lineEnd=g,a=cb(a);var t=function(t,e){var n=tw(e),r=e[1],o=Eb(r),i=[Eb(n),-bb(n),0],a=0,u=0,l=new ob;1===o?r=db+sb:-1===o&&(r=-db-sb);for(var c=0,s=t.length;c<s;++c)if(d=(f=t[c]).length)for(var f,d,h=f[d-1],p=tw(h),_=h[1]/2+hb,g=Eb(_),v=bb(_),y=0;y<d;++y,p=b,g=x,v=D,h=m){var m=f[y],b=tw(m),w=m[1]/2+hb,x=Eb(w),D=bb(w),E=b-p,A=E>=0?1:-1,C=A*E,M=C>fb,k=g*x;if(l.add(mb(k*A*Eb(C),v*D+k*bb(C))),a+=M?E+A*pb:E,M^p>=n^b>=n){var F=jb(Ob(h),Ob(m));qb(F);var S=jb(i,F);qb(S);var T=(M^E>=0?-1:1)*kb(S[2]);(r>T||r===T&&(F[0]||F[1]))&&(u+=M^E>=0?1:-1)}}return(a<-1e-6||a<sb&&l<-1e-12)^1&u}(i,r);a.length?(f||(o.polygonStart(),f=!0),Jb(a,rw,t,n,o)):t&&(f||(o.polygonStart(),f=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),f&&(o.polygonEnd(),f=!1),a=i=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function h(e,n){t(e,n)&&o.point(e,n)}function p(t,e){l.point(t,e)}function _(){d.point=p,l.lineStart()}function g(){d.point=h,l.lineEnd()}function v(t,e){u.push([t,e]),s.point(t,e)}function y(){s.lineStart(),u=[]}function m(){v(u[0][0],u[0][1]),s.lineEnd();var t,e,n,r,l=s.clean(),d=c.result(),h=d.length;if(u.pop(),i.push(u),u=null,h)if(1&l){if((e=(n=d[0]).length-1)>0){for(f||(o.polygonStart(),f=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else h>1&&2&l&&d.push(d.pop().concat(d.shift())),a.push(d.filter(nw))}return d}}function nw(t){return t.length>1}function rw(t,e){return((t=t.x)[0]<0?t[1]-db-sb:db-t[1])-((e=e.x)[0]<0?e[1]-db-sb:db-e[1])}Yb.invert=Yb;var ow=ew((function(){return!0}),(function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,a){var u=i>0?fb:-fb,l=vb(i-n);vb(l-fb)<sb?(t.point(n,r=(r+a)/2>0?db:-db),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(i,r),e=0):o!==u&&l>=fb&&(vb(n-o)<sb&&(n-=o*sb),vb(i-u)<sb&&(i-=u*sb),r=function(t,e,n,r){var o,i,a=Eb(t-n);return vb(a)>sb?yb((Eb(e)*(i=bb(r))*Eb(n)-Eb(r)*(o=bb(e))*Eb(t))/(o*i*a)):(e+r)/2}(n,r,i,a),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=i,r=a),o=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var o;if(null==t)o=n*db,r.point(-fb,o),r.point(0,o),r.point(fb,o),r.point(fb,0),r.point(fb,-o),r.point(0,-o),r.point(-fb,-o),r.point(-fb,0),r.point(-fb,o);else if(vb(t[0]-e[0])>sb){var i=t[0]<e[0]?fb:-fb;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])}),[-fb,-db]);function iw(t){var e=bb(t),n=6*gb,r=e>0,o=vb(e)>sb;function i(t,n){return bb(t)*bb(n)>e}function a(t,n,r){var o=[1,0,0],i=jb(Ob(t),Ob(n)),a=Ib(i,i),u=i[0],l=a-u*u;if(!l)return!r&&t;var c=e*a/l,s=-e*u/l,f=jb(o,i),d=Ub(o,c);Rb(d,Ub(i,s));var h=f,p=Ib(d,h),_=Ib(h,h),g=p*p-_*(Ib(d,d)-1);if(!(g<0)){var v=Cb(g),y=Ub(h,(-p-v)/_);if(Rb(y,d),y=Pb(y),!r)return y;var m,b=t[0],w=n[0],x=t[1],D=n[1];w<b&&(m=b,b=w,w=m);var E=w-b,A=vb(E-fb)<sb;if(!A&&D<x&&(m=x,x=D,D=m),A||E<sb?A?x+D>0^y[1]<(vb(y[0]-b)<sb?x:D):x<=y[1]&&y[1]<=D:E>fb^(b<=y[0]&&y[0]<=w)){var C=Ub(h,(-p+v)/_);return Rb(C,d),[y,Pb(C)]}}}function u(e,n){var o=r?t:fb-t,i=0;return e<-o?i|=1:e>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}return ew(i,(function(t){var e,n,l,c,s;return{lineStart:function(){c=l=!1,s=1},point:function(f,d){var h,p=[f,d],_=i(f,d),g=r?_?0:u(f,d):_?u(f+(f<0?fb:-fb),d):0;if(!e&&(c=l=_)&&t.lineStart(),_!==l&&(!(h=a(e,p))||Zb(e,h)||Zb(p,h))&&(p[2]=1),_!==l)s=0,_?(t.lineStart(),h=a(p,e),t.point(h[0],h[1])):(h=a(e,p),t.point(h[0],h[1],2),t.lineEnd()),e=h;else if(o&&e&&r^_){var v;g&n||!(v=a(p,e,!0))||(s=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1],3)))}!_||e&&Zb(e,p)||t.point(p[0],p[1]),e=p,l=_,n=g},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return s|(c&&l)<<1}}}),(function(e,r,o,i){!function(t,e,n,r,o,i){if(n){var a=bb(e),u=Eb(e),l=r*n;null==o?(o=e+r*pb,i=e-l/2):(o=Xb(a,o),i=Xb(a,i),(r>0?o<i:o>i)&&(o+=r*pb));for(var c,s=o;r>0?s>i:s<i;s-=l)c=Pb([a,-u*bb(s),-u*Eb(s)]),t.point(c[0],c[1])}}(i,t,n,o,e,r)}),r?[0,-t]:[-fb,t-fb])}var aw=1e9,uw=-aw;function lw(t,e,n,r){function o(o,i){return t<=o&&o<=n&&e<=i&&i<=r}function i(o,i,u,c){var s=0,f=0;if(null==o||(s=a(o,u))!==(f=a(i,u))||l(o,i)<0^u>0)do{c.point(0===s||3===s?t:n,s>1?r:e)}while((s=(s+u+4)%4)!==f);else c.point(i[0],i[1])}function a(r,o){return vb(r[0]-t)<sb?o>0?0:3:vb(r[0]-n)<sb?o>0?2:1:vb(r[1]-e)<sb?o>0?1:0:o>0?3:2}function u(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,c,s,f,d,h,p,_,g,v,y,m=a,b=$b(),w={point:x,lineStart:function(){w.point=D,c&&c.push(s=[]);v=!0,g=!1,p=_=NaN},lineEnd:function(){l&&(D(f,d),h&&g&&b.rejoin(),l.push(b.result()));w.point=x,g&&m.lineEnd()},polygonStart:function(){m=b,l=[],c=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,o=c.length;n<o;++n)for(var i,a,u=c[n],l=1,s=u.length,f=u[0],d=f[0],h=f[1];l<s;++l)i=d,a=h,d=(f=u[l])[0],h=f[1],a<=r?h>r&&(d-i)*(r-a)>(h-a)*(t-i)&&++e:h<=r&&(d-i)*(r-a)<(h-a)*(t-i)&&--e;return e}(),n=y&&e,o=(l=cb(l)).length;(n||o)&&(a.polygonStart(),n&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&Jb(l,u,e,i,a),a.polygonEnd());m=a,l=c=s=null}};function x(t,e){o(t,e)&&m.point(t,e)}function D(i,a){var u=o(i,a);if(c&&s.push([i,a]),v)f=i,d=a,h=u,v=!1,u&&(m.lineStart(),m.point(i,a));else if(u&&g)m.point(i,a);else{var l=[p=Math.max(uw,Math.min(aw,p)),_=Math.max(uw,Math.min(aw,_))],b=[i=Math.max(uw,Math.min(aw,i)),a=Math.max(uw,Math.min(aw,a))];!function(t,e,n,r,o,i){var a,u=t[0],l=t[1],c=0,s=1,f=e[0]-u,d=e[1]-l;if(a=n-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<s&&(s=a)}else if(f>0){if(a>s)return;a>c&&(c=a)}if(a=o-u,f||!(a<0)){if(a/=f,f<0){if(a>s)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<s&&(s=a)}if(a=r-l,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<s&&(s=a)}else if(d>0){if(a>s)return;a>c&&(c=a)}if(a=i-l,d||!(a<0)){if(a/=d,d<0){if(a>s)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<s&&(s=a)}return c>0&&(t[0]=u+c*f,t[1]=l+c*d),s<1&&(e[0]=u+s*f,e[1]=l+s*d),!0}}}}}(l,b,t,e,n,r)?u&&(m.lineStart(),m.point(i,a),y=!1):(g||(m.lineStart(),m.point(l[0],l[1])),m.point(b[0],b[1]),u||m.lineEnd(),y=!1)}p=i,_=a,g=u}return w}}var cw=function(t){return t},sw=1/0,fw=sw,dw=-sw,hw=dw,pw={point:function(t,e){t<sw&&(sw=t);t>dw&&(dw=t);e<fw&&(fw=e);e>hw&&(hw=e)},lineStart:Fb,lineEnd:Fb,polygonStart:Fb,polygonEnd:Fb,result:function(){var t=[[sw,fw],[dw,hw]];return dw=hw=-(fw=sw=1/0),t}};function _w(t){return function(e){var n=new gw;for(var r in t)n[r]=t[r];return n.stream=e,n}}function gw(){}function vw(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Lb(n,t.stream(pw)),e(pw.result()),null!=r&&t.clipExtent(r),t}function yw(t,e,n){return vw(t,(function(n){var r=e[1][0]-e[0][0],o=e[1][1]-e[0][1],i=Math.min(r/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),a=+e[0][0]+(r-i*(n[1][0]+n[0][0]))/2,u=+e[0][1]+(o-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([a,u])}),n)}gw.prototype={constructor:gw,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var mw=bb(30*gb);function bw(t,e){return+e?function(t,e){function n(r,o,i,a,u,l,c,s,f,d,h,p,_,g){var v=c-r,y=s-o,m=v*v+y*y;if(m>4*e&&_--){var b=a+d,w=u+h,x=l+p,D=Cb(b*b+w*w+x*x),E=kb(x/=D),A=vb(vb(x)-1)<sb||vb(i-f)<sb?(i+f)/2:mb(w,b),C=t(A,E),M=C[0],k=C[1],F=M-r,S=k-o,T=y*F-v*S;(T*T/m>e||vb((v*F+y*S)/m-.5)>.3||a*d+u*h+l*p<mw)&&(n(r,o,i,a,u,l,M,k,A,b/=D,w/=D,x,_,g),g.point(M,k),n(M,k,A,b,w,x,c,s,f,d,h,p,_,g))}}return function(e){var r,o,i,a,u,l,c,s,f,d,h,p,_={point:g,lineStart:v,lineEnd:m,polygonStart:function(){e.polygonStart(),_.lineStart=b},polygonEnd:function(){e.polygonEnd(),_.lineStart=v}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function v(){s=NaN,_.point=y,e.lineStart()}function y(r,o){var i=Ob([r,o]),a=t(r,o);n(s,f,c,d,h,p,s=a[0],f=a[1],c=r,d=i[0],h=i[1],p=i[2],16,e),e.point(s,f)}function m(){_.point=g,e.lineEnd()}function b(){v(),_.point=w,_.lineEnd=x}function w(t,e){y(r=t,e),o=s,i=f,a=d,u=h,l=p,_.point=y}function x(){n(s,f,c,d,h,p,o,i,r,a,u,l,16,e),_.lineEnd=m,m()}return _}}(t,e):function(t){return _w({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var ww=_w({point:function(t,e){this.stream.point(t*gb,e*gb)}});function xw(t,e,n,r,o,i){if(!i)return function(t,e,n,r,o){function i(i,a){return[e+t*(i*=r),n-t*(a*=o)]}return i.invert=function(i,a){return[(i-e)/t*r,(n-a)/t*o]},i}(t,e,n,r,o);var a=bb(i),u=Eb(i),l=a*t,c=u*t,s=a/t,f=u/t,d=(u*n-a*e)/t,h=(u*e+a*n)/t;function p(t,i){return[l*(t*=r)-c*(i*=o)+e,n-c*t-l*i]}return p.invert=function(t,e){return[r*(s*t-f*e+d),o*(h-f*t-s*e)]},p}function Dw(t){var e,n,r,o,i,a,u,l,c,s,f=150,d=480,h=250,p=0,_=0,g=0,v=0,y=0,m=0,b=1,w=1,x=null,D=ow,E=null,A=cw,C=.5;function M(t){return l(t[0]*gb,t[1]*gb)}function k(t){return(t=l.invert(t[0],t[1]))&&[t[0]*_b,t[1]*_b]}function F(){var t=xw(f,0,0,b,w,m).apply(null,e(p,_)),r=xw(f,d-t[0],h-t[1],b,w,m);return n=function(t,e,n){return(t%=pb)?e||n?Hb(Gb(t),Vb(e,n)):Gb(t):e||n?Vb(e,n):Yb}(g,v,y),u=Hb(e,r),l=Hb(n,u),a=bw(u,C),S()}function S(){return c=s=null,M}return M.stream=function(t){return c&&s===t?c:c=ww(function(t){return _w({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(D(a(A(s=t)))))},M.preclip=function(t){return arguments.length?(D=t,x=void 0,S()):D},M.postclip=function(t){return arguments.length?(A=t,E=r=o=i=null,S()):A},M.clipAngle=function(t){return arguments.length?(D=+t?iw(x=t*gb):(x=null,ow),S()):x*_b},M.clipExtent=function(t){return arguments.length?(A=null==t?(E=r=o=i=null,cw):lw(E=+t[0][0],r=+t[0][1],o=+t[1][0],i=+t[1][1]),S()):null==E?null:[[E,r],[o,i]]},M.scale=function(t){return arguments.length?(f=+t,F()):f},M.translate=function(t){return arguments.length?(d=+t[0],h=+t[1],F()):[d,h]},M.center=function(t){return arguments.length?(p=t[0]%360*gb,_=t[1]%360*gb,F()):[p*_b,_*_b]},M.rotate=function(t){return arguments.length?(g=t[0]%360*gb,v=t[1]%360*gb,y=t.length>2?t[2]%360*gb:0,F()):[g*_b,v*_b,y*_b]},M.angle=function(t){return arguments.length?(m=t%360*gb,F()):m*_b},M.reflectX=function(t){return arguments.length?(b=t?-1:1,F()):b<0},M.reflectY=function(t){return arguments.length?(w=t?-1:1,F()):w<0},M.precision=function(t){return arguments.length?(a=bw(u,C=t*t),S()):Cb(C)},M.fitExtent=function(t,e){return yw(M,t,e)},M.fitSize=function(t,e){return function(t,e,n){return yw(t,[[0,0],e],n)}(M,t,e)},M.fitWidth=function(t,e){return function(t,e,n){return vw(t,(function(n){var r=+e,o=r/(n[1][0]-n[0][0]),i=(r-o*(n[1][0]+n[0][0]))/2,a=-o*n[0][1];t.scale(150*o).translate([i,a])}),n)}(M,t,e)},M.fitHeight=function(t,e){return function(t,e,n){return vw(t,(function(n){var r=+e,o=r/(n[1][1]-n[0][1]),i=-o*n[0][0],a=(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([i,a])}),n)}(M,t,e)},function(){return e=t.apply(this,arguments),M.invert=e.invert&&k,F()}}function Ew(t,e){return[t,xb(Mb((db+e)/2))]}function Aw(t){return Mb((db+t)/2)}function Cw(t,e){var n=bb(t),r=t===e?Eb(t):xb(n/bb(e))/xb(Aw(e)/Aw(t)),o=n*Db(Aw(t),r)/r;if(!r)return Ew;function i(t,e){o>0?e<-db+sb&&(e=-db+sb):e>db-sb&&(e=db-sb);var n=o/Db(Aw(e),r);return[n*Eb(r*t),o-n*bb(r*t)]}return i.invert=function(t,e){var n=o-e,i=Ab(r)*Cb(t*t+n*n),a=mb(t,vb(n))*Ab(n);return n*r<0&&(a-=fb*Ab(t)*Ab(n)),[a/r,2*yb(Db(o/i,1/r))-db]},i}function Mw(){return function(t){var e=0,n=fb/3,r=Dw(t),o=r(e,n);return o.parallels=function(t){return arguments.length?r(e=t[0]*gb,n=t[1]*gb):[e*_b,n*_b]},o}(Cw).scale(109.5).parallels([30,30])}function kw(){}Ew.invert=function(t,e){return[t,2*yb(wb(e))-db]};var Fw=1/0,Sw=Fw,Tw=-Fw,zw=Tw,Bw={point:function(t,e){t<Fw&&(Fw=t);t>Tw&&(Tw=t);e<Sw&&(Sw=e);e>zw&&(zw=e)},lineStart:kw,lineEnd:kw,polygonStart:kw,polygonEnd:kw,result:function(){var t=[[Fw,Sw],[Tw,zw]];return Tw=zw=-(Sw=Fw=1/0),t}};function Nw(t,e,n){var r=e[1][0]-e[0][0],o=e[1][1]-e[0][1],i=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),Lb(n,t.stream(Bw));var a=Bw.result(),u=Math.min(r/(a[1][0]-a[0][0]),o/(a[1][1]-a[0][1])),l=+e[0][0]+(r-u*(a[1][0]+a[0][0]))/2,c=+e[0][1]+(o-u*(a[1][1]+a[0][1]))/2;return null!=i&&t.clipExtent(i),t.scale(150*u).translate([l,c])}function Lw(t,e,n){return Nw(t,[[0,0],e],n)}var Pw=Math.PI,Ow=2*Pw,Iw=1e-6,jw=Ow-Iw;function Rw(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Uw(){return new Rw}Rw.prototype=Uw.prototype={constructor:Rw,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,o,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(t,e,n,r,o){t=+t,e=+e,n=+n,r=+r,o=+o;var i=this._x1,a=this._y1,u=n-t,l=r-e,c=i-t,s=a-e,f=c*c+s*s;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>Iw)if(Math.abs(s*u-l*c)>Iw&&o){var d=n-i,h=r-a,p=u*u+l*l,_=d*d+h*h,g=Math.sqrt(p),v=Math.sqrt(f),y=o*Math.tan((Pw-Math.acos((p+f-_)/(2*g*v)))/2),m=y/v,b=y/g;Math.abs(m-1)>Iw&&(this._+="L"+(t+m*c)+","+(e+m*s)),this._+="A"+o+","+o+",0,0,"+ +(s*d>c*h)+","+(this._x1=t+b*u)+","+(this._y1=e+b*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,o,i){t=+t,e=+e,i=!!i;var a=(n=+n)*Math.cos(r),u=n*Math.sin(r),l=t+a,c=e+u,s=1^i,f=i?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Iw||Math.abs(this._y1-c)>Iw)&&(this._+="L"+l+","+c),n&&(f<0&&(f=f%Ow+Ow),f>jw?this._+="A"+n+","+n+",0,1,"+s+","+(t-a)+","+(e-u)+"A"+n+","+n+",0,1,"+s+","+(this._x1=l)+","+(this._y1=c):f>Iw&&(this._+="A"+n+","+n+",0,"+ +(f>=Pw)+","+s+","+(this._x1=t+n*Math.cos(o))+","+(this._y1=e+n*Math.sin(o))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var qw,Hw,Yw,Ww,Gw={"Albers (30° & 45°)":{p:nh,parallels:[30,45]},"Albers USA":{p:function(){var t,e,n,r,o,i,a=nh(),u=eh().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=eh().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){i=[t,e]}};function s(t){var e=t[0],a=t[1];return i=null,n.point(e,a),i||(r.point(e,a),i)||(o.point(e,a),i)}function f(){return t=e=null,s}return s.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?u:o>=.166&&o<.234&&r>=-.214&&r<-.115?l:a).invert(t)},s.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),u.stream(n),l.stream(n)],o=r.length,t={point:function(t,e){for(var n=-1;++n<o;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<o;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<o;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<o;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<o;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<o;)r[t].polygonEnd()}});var r,o},s.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),l.precision(t),f()):a.precision()},s.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),l.scale(t),s.translate(a.translate())):a.scale()},s.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),i=+t[0],s=+t[1];return n=a.translate(t).clipExtent([[i-.455*e,s-.238*e],[i+.455*e,s+.238*e]]).stream(c),r=u.translate([i-.307*e,s+.201*e]).clipExtent([[i-.425*e+mc,s+.12*e+mc],[i-.214*e-mc,s+.234*e-mc]]).stream(c),o=l.translate([i-.205*e,s+.212*e]).clipExtent([[i-.214*e+mc,s+.166*e+mc],[i-.115*e-mc,s+.234*e-mc]]).stream(c),f()},s.fitExtent=function(t,e){return Hd(s,t,e)},s.fitSize=function(t,e){return Yd(s,t,e)},s.fitWidth=function(t,e){return Wd(s,t,e)},s.fitHeight=function(t,e){return Gd(s,t,e)},s.scale(1070)},fixed_bounds:[[172.49482,18],[-72,71.40767]]},August:{p:function(){return Jd(Rh).scale(66.1603)}},"Azimuthal Equidistant":{p:function(){return Jd(ah).scale(79.4188).clipAngle(179.999)}},Aitoff:{p:function(){return Jd(jh).scale(152.63)}},Baker:{p:function(){return Jd(Hh).scale(112.314)}},Boggs:{p:function(){return Jd(Qh).scale(160.857)}},"Braun's Stereographic":{p:function(){return function(t){var e=0,n=Kd(t),r=n(e);return r.parallel=function(t){return arguments.length?n(e=t*Nh):e*Bh},r}(np).scale(124.75)}},Bromley:{p:function(){return Jd(Kh).scale(152.63)}},"Craster Parabolic":{p:function(){return Jd(ep).scale(156.19)}},"Eckert I":{p:function(){return Jd(rp).scale(165.664)}},"Eckert II":{p:function(){return Jd(op).scale(165.664)}},"Eckert III":{p:function(){return Jd(ip).scale(180.739)}},"Eckert IV":{p:function(){return Jd(ap).scale(180.739)}},"Eckert V":{p:function(){return Jd(up).scale(173.044)}},"Eckert VI":{p:function(){return Jd(lp).scale(173.044)}},Equirectangular:{p:function(){return Jd(uh).scale(152.63)}},Eisenlohr:{p:function(){return Jd(sp).scale(62.5271)}},Fahey:{p:function(){return Jd(dp).scale(137.152)}},Foucaut:{p:function(){return Jd(hp).scale(135.264)}},"Ginzburg IV":{p:function(){return Jd(_p).scale(149.995)}},"Ginzburg V":{p:function(){return Jd(gp).scale(153.93)}},"Ginzburg VI":{p:function(){return Jd(vp).scale(130.945)}},"Ginzburg VIII":{p:function(){return Jd(yp).scale(131.747)}},"Ginzburg IX":{p:function(){return Jd(mp).scale(131.087)}},Gnomonic:{p:function(){return Jd(lh).scale(144.049).clipAngle(60)}},Hammer:{p:function(){var t=2,e=Kd(Yh),n=e(t);return n.coefficient=function(n){return arguments.length?e(t=+n):t},n.scale(169.529)}},"Kavrayskiy VII":{p:function(){return Jd(bp).scale(158.837)}},"McBryde–Thomas Flat-Polar Parabolic":{p:function(){return Jd(Ep).scale(164.859)}},"McBryde–Thomas Flat-Polar Quartic":{p:function(){return Jd(Ap).scale(188.209)}},"McBryde–Thomas Flat-Polar Sinusoidal":{p:function(){return Jd(Cp).scale(166.518)}},"Miller (modified Mercator)":{p:function(){return Jd(wp).scale(108.318)}},Orthographic:{p:function(){return Jd(sh).scale(249.5).clipAngle(90.000001)},clip_angle:90},Mollweide:{p:function(){return Jd(Xh).scale(169.529)}},"Natural Earth I":{p:function(){return Jd(ch).scale(175.295)}},"Natural Earth II":{p:function(){return Jd(Mp).scale(175.295)}},"Portugal composite":{p:function(){var t,e,n,r,o,i,a=Mw().rotate([10,-39.3]).parallels([0,60]),u=Mw().rotate([17,-32.7]).parallels([0,60]),l=Mw().rotate([27.8,-38.6]).parallels([0,60]),c={point:function(t,e){i=[t,e]}};function s(t){var e=t[0],a=t[1];return i=null,n.point(e,a),i||(r.point(e,a),i)||(o.point(e,a),i)}function f(){return t=e=null,s}return s.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.0093&&o<.03678&&r>=-.03875&&r<-.0116?u:o>=-.0412&&o<.0091&&r>=-.07782&&r<-.01166?l:a).invert(t)},s.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),u.stream(n),l.stream(n)],o=r.length,t={point:function(t,e){for(var n=-1;++n<o;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<o;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<o;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<o;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<o;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<o;)r[t].polygonEnd()}});var r,o},s.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),l.precision(t),f()):a.precision()},s.scale=function(t){return arguments.length?(a.scale(t),u.scale(t),l.scale(.6*t),s.translate(a.translate())):a.scale()},s.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),i=+t[0],s=+t[1];return n=a.translate(t).clipExtent([[i-.0115*e,s-.1138*e],[i+.2105*e,s+.0673*e]]).stream(c),r=u.translate([i-.0265*e,s+.025*e]).clipExtent([[i-.0388*e+rb,s+.0093*e+rb],[i-.0116*e-rb,s+.0368*e-rb]]).stream(c),o=l.translate([i-.045*e,s+-.02*e]).clipExtent([[i-.0778*e+rb,s-.0413*e+rb],[i-.0117*e-rb,s+.0091*e-rb]]).stream(c),f()},s.fitExtent=function(t,e){return Nw(s,t,e)},s.fitSize=function(t,e){return Lw(s,t,e)},s.drawCompositionBorders=function(t){var e=a([-12.8351,38.7113]),n=a([-10.8482,38.7633]),r=a([-10.8181,37.2072]),o=a([-12.7345,37.1573]),i=a([-16.0753,41.4436]),u=a([-10.9168,41.6861]),l=a([-10.8557,38.7747]),c=a([-15.6728,38.5505]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(r[0],r[1]),t.lineTo(o[0],o[1]),t.closePath(),t.moveTo(i[0],i[1]),t.lineTo(u[0],u[1]),t.lineTo(l[0],l[1]),t.lineTo(l[0],l[1]),t.lineTo(c[0],c[1]),t.closePath()},s.getCompositionBorders=function(){var t=Uw();return this.drawCompositionBorders(t),t.toString()},s.scale(4200)},fixed_bounds:[[-35,36.5],[-6.5,42]]},Robinson:{p:function(){return Jd(jp).scale(152.63)}},Sinusoidal:{p:function(){return Jd(Jh).scale(152.63)}},"Spain composite":{p:function(){var t,e,n,r,o,i=Mw().rotate([5,-38.6]).parallels([0,60]),a=Mw().rotate([5,-38.6]).parallels([0,60]),u={point:function(t,e){o=[t,e]}};function l(t){var e=t[0],i=t[1];return o=null,n.point(e,i),o||(r.point(e,i),o)}function c(){return t=e=null,l}return l.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.05346&&o<.0897&&r>=-.13388&&r<-.0322?a:i).invert(t)},l.stream=function(n){return t&&e===n?t:(r=[i.stream(e=n),a.stream(n)],o=r.length,t={point:function(t,e){for(var n=-1;++n<o;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<o;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<o;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<o;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<o;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<o;)r[t].polygonEnd()}});var r,o},l.precision=function(t){return arguments.length?(i.precision(t),a.precision(t),c()):i.precision()},l.scale=function(t){return arguments.length?(i.scale(t),a.scale(t),l.translate(i.translate())):i.scale()},l.translate=function(t){if(!arguments.length)return i.translate();var e=i.scale(),o=+t[0],l=+t[1];return n=i.translate(t).clipExtent([[o-.06857*e,l-.1288*e],[o+.13249*e,l+.06*e]]).stream(u),r=a.translate([o+.1*e,l-.094*e]).clipExtent([[o-.1331*e+rb,l+.053457*e+rb],[o-.0354*e-rb,l+.08969*e-rb]]).stream(u),c()},l.fitExtent=function(t,e){return Nw(l,t,e)},l.fitSize=function(t,e){return Lw(l,t,e)},l.drawCompositionBorders=function(t){var e=i([-14.034675,34.965007]),n=i([-7.4208899,35.536988]),r=i([-7.3148275,33.54359]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1])},l.getCompositionBorders=function(){var t=Uw();return this.drawCompositionBorders(t),t.toString()},l.scale(2700)},fixed_bounds:[[-19.207933,27.323],[3.863356,43.413049]]},Stereographic:{p:function(){return Jd(fh).scale(250).clipAngle(142)}},"Wagner IV":{p:function(){return Jd(n_).scale(176.84)}},"Wagner VI":{p:function(){return Jd(r_).scale(152.63)}},"Winkel Tripel":{p:function(){return Jd(o_).scale(158.837)}}},Vw=Wy(),Xw=1,$w=Object.freeze(["angle","center","clipAngle","rotate","parallels"]);function Zw(t){return void 0===t?null:this}function Qw(t){return{width:t[1][0]-t[0][0],height:t[1][1]-t[0][1]}}function Jw(t,e){var n=Qw(t);return e*Math.min(n.width,n.height)}function Kw(t,e){var n=Qw(t);if(!e)return n.width/n.height;var r=2*Jw(t,e);return(n.width+r)/(n.height+r)}function tx(){if(Vw("choropleth_data",Gm),Vw("fixed_height",Flourish.fixed_height),Vw("window_height",window.innerHeight),Vw("projection_name",hu.projection),Vw("width",MS.getPrimaryWidth()),Vw("pixel_ratio",window.devicePixelRatio),Vw("fit",hu.fit),Vw("centering",hu.centering),Vw("longitude",hu.longitude),Vw("latitude",hu.latitude),Vw("roll",hu.roll),Vw("padding_decimal",hu.padding/100),Vw("zoom",hu.zoom),Vw("aspect",hu.aspect),Vw("min_area",hu.min_area),Vw("include_lines",hu.include_lines),!Vw())return!1;var t={type:"FeatureCollection"};Vw.include_lines?t.features=Gm.properties.unprojected_feature_collection.features.concat(Km.properties.unprojected_feature_collection.features):t.features=Gm.properties.unprojected_feature_collection.features.slice();var e,n,r=Gw[Vw.projection_name],o=!!r.fixed_bounds;if(e=r.p,n=e().precision(.3),$w.forEach((function(t){n[t]||(n[t]=Zw.bind(n))})),n.center([0,0]).rotate([0,0,0]),qw=n,r.clip_angle&&qw.clipAngle(r.clip_angle),r.parallels&&qw.parallels(r.parallels),"advanced"===Vw.fit)"rotate"===Vw.centering&&qw.rotate([-Vw.longitude,-Vw.latitude,Vw.roll]);else if("world"===Vw.fit)qw.rotate([-Vw.longitude,0,0]);else{var i=function(t){$c=Zc=Qc=Jc=Kc=ts=es=ns=rs=os=is=0,Hc(t,As);var e=rs,n=os,r=is,o=e*e+n*n+r*r;return o<bc&&(e=ts,n=es,r=ns,Zc<mc&&(e=Qc,n=Jc,r=Kc),(o=e*e+n*n+r*r)<bc)?[NaN,NaN]:[Fc(n,e)*Ac,Pc(r/Nc(o))*Ac]}(t);qw.rotate([-i[0],r.clip_angle?-i[1]:0,0])}var a,u,l=jd(qw),c={type:"Sphere"};o?c=function(t){var e=t[0][0],n=t[0][1],r=t[1][0],o=t[1][1];return{type:"Polygon",coordinates:[[[e,n],[e,o],[r,o],[r,n],[e,n]]]}}(r.fixed_bounds):"map"===Vw.fit&&t.features.length&&(Vw.min_area?(a=t,u=Vw.min_area,c={type:"FeatureCollection",features:nb(a.features,u)}):c=t);var s,f=l.bounds(c),d=0;return o?s=Kw(f):(s="advanced"===Vw.fit&&Vw.aspect?Vw.aspect:Kw(f,Vw.padding_decimal),"world"===Vw.fit?d=Jw(f,Vw.padding_decimal):"map"===Vw.fit&&(d=Jw(f,.005))),Flourish.fixed_height?(Hw=Vw.width,Yw=Math.max(MS.getPrimaryHeight(),1)):(Hw=Vw.width,Yw=Hw/s),Xw=.0010416666666666667*Hw,Ww=Vw.pixel_ratio,qw.fitExtent([[d,d],[Hw-d,Yw-d]],c),o||"advanced"!==Vw.fit||("center"===Vw.centering&&qw.center([Vw.longitude,Vw.latitude]).angle(Vw.roll),Vw.zoom&&qw.scale(qw.scale()*Vw.zoom)),!0}function ex(){mg.preventDefault(),mg.stopImmediatePropagation()}function nx(t){var e=t.document.documentElement,n=Tg(t).on("dragstart.drag",ex,!0);"onselectstart"in e?n.on("selectstart.drag",ex,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function rx(t,e){var n=t.document.documentElement,r=Tg(t).on("dragstart.drag",null);e&&(r.on("click.drag",ex,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function ox(t){return function(){return t}}function ix(t,e,n){this.target=t,this.type=e,this.transform=n}function ax(t,e,n){this.k=t,this.x=e,this.y=n}ax.prototype={constructor:ax,scale:function(t){return 1===t?this:new ax(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new ax(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ux,lx,cx,sx,fx=new ax(1,0,0);function dx(){mg.stopImmediatePropagation()}function hx(){mg.preventDefault(),mg.stopImmediatePropagation()}function px(){return!mg.button}function _x(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function gx(){return this.__zoom||fx}function vx(){return-mg.deltaY*(mg.deltaMode?120:1)/500}function yx(){return"ontouchstart"in this}function mx(t,e,n){var r=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function bx(){var t,e,n=px,r=_x,o=mx,i=vx,a=yx,u=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,s=qv,f=[],d=Og("start","zoom","end"),h=500,p=0;function _(t){t.property("__zoom",gx).on("wheel.zoom",x).on("mousedown.zoom",D).on("dblclick.zoom",E).filter(a).on("touchstart.zoom",A).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,e){return(e=Math.max(u[0],Math.min(u[1],e)))===t.k?t:new ax(e,t.x,t.y)}function v(t,e,n){var r=e[0]-n[0]*t.k,o=e[1]-n[1]*t.k;return r===t.x&&o===t.y?t:new ax(t.k,r,o)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function m(t,e,n){t.on("start.zoom",(function(){b(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).end()})).tween("zoom",(function(){var t=this,o=arguments,i=b(t,o),a=r.apply(t,o),u=n||y(a),l=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,f="function"==typeof e?e.apply(t,o):e,d=s(c.invert(u).concat(l/c.k),f.invert(u).concat(l/f.k));return function(t){if(1===t)t=f;else{var e=d(t),n=l/e[2];t=new ax(n,u[0]-e[0]*n,u[1]-e[1]*n)}i.zoom(null,t)}}))}function b(t,e){for(var n,r=0,o=f.length;r<o;++r)if((n=f[r]).that===t)return n;return new w(t,e)}function w(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=r.apply(t,e)}function x(){if(n.apply(this,arguments)){var t=b(this,arguments),e=this.__zoom,r=Math.max(u[0],Math.min(u[1],e.k*Math.pow(2,i.apply(this,arguments)))),a=Ng(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[a,e.invert(a)],dv(this),t.start()}hx(),t.wheel=setTimeout(c,150),t.zoom("mouse",o(v(g(e,r),t.mouse[0],t.mouse[1]),t.extent,l))}function c(){t.wheel=null,t.end()}}function D(){if(!e&&n.apply(this,arguments)){var t=b(this,arguments),r=Tg(mg.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",s,!0),i=Ng(this),a=mg.clientX,u=mg.clientY;nx(mg.view),dx(),t.mouse=[i,this.__zoom.invert(i)],dv(this),t.start()}function c(){if(hx(),!t.moved){var e=mg.clientX-a,n=mg.clientY-u;t.moved=e*e+n*n>p}t.zoom("mouse",o(v(t.that.__zoom,t.mouse[0]=Ng(t.that),t.mouse[1]),t.extent,l))}function s(){r.on("mousemove.zoom mouseup.zoom",null),rx(mg.view,t.moved),hx(),t.end()}}function E(){if(n.apply(this,arguments)){var t=this.__zoom,e=Ng(this),i=t.invert(e),a=t.k*(mg.shiftKey?.5:2),u=o(v(g(t,a),e,i),r.apply(this,arguments),l);hx(),c>0?Tg(this).transition().duration(c).call(m,u,e):Tg(this).call(_.transform,u)}}function A(){if(n.apply(this,arguments)){var e,r,o,i,a=b(this,arguments),u=mg.touches,l=u.length;for(dx(),r=0;r<l;++r)i=[i=Lg(this,u,(o=u[r]).identifier),this.__zoom.invert(i),o.identifier],a.touch0?a.touch1||(a.touch1=i):(a.touch0=i,e=!0);if(t&&(t=clearTimeout(t),!a.touch1))return a.end(),void((i=Tg(this).on("dblclick.zoom"))&&i.apply(this,arguments));e&&(t=setTimeout((function(){t=null}),h),dv(this),a.start())}}function C(){if(f.length){var e,n,r,i,a=b(this,arguments),u=mg.changedTouches,c=u.length;for(hx(),t&&(t=clearTimeout(t)),e=0;e<c;++e)r=Lg(this,u,(n=u[e]).identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var s=a.touch0[0],d=a.touch0[1],h=a.touch1[0],p=a.touch1[1],_=(_=h[0]-s[0])*_+(_=h[1]-s[1])*_,y=(y=p[0]-d[0])*y+(y=p[1]-d[1])*y;n=g(n,Math.sqrt(_/y)),r=[(s[0]+h[0])/2,(s[1]+h[1])/2],i=[(d[0]+p[0])/2,(d[1]+p[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],i=a.touch0[1]}a.zoom("touch",o(v(n,r,i),a.extent,l))}}function M(){var t,n,r=b(this,arguments),o=mg.changedTouches,i=o.length;for(dx(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),h),t=0;t<i;++t)n=o[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return _.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",gx),t!==n?m(t,e):n.interrupt().each((function(){b(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},_.scaleBy=function(t,e){_.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}))},_.scaleTo=function(t,e){_.transform(t,(function(){var t=r.apply(this,arguments),n=this.__zoom,i=y(t),a=n.invert(i),u="function"==typeof e?e.apply(this,arguments):e;return o(v(g(n,u),i,a),t,l)}))},_.translateBy=function(t,e,n){_.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),l)}))},_.translateTo=function(t,e,n){_.transform(t,(function(){var t=r.apply(this,arguments),i=this.__zoom,a=y(t);return o(fx.translate(a[0],a[1]).scale(i.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,l)}))},w.prototype={start:function(){return 1==++this.active&&(this.index=f.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(f.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){!function(t,e,n,r){var o=mg;t.sourceEvent=mg,mg=t;try{e.apply(n,r)}finally{mg=o}}(new ix(_,t,this.that.__zoom),d.apply,d,[t,this.that,this.args])}},_.wheelDelta=function(t){return arguments.length?(i="function"==typeof t?t:ox(+t),_):i},_.filter=function(t){return arguments.length?(n="function"==typeof t?t:ox(!!t),_):n},_.touchable=function(t){return arguments.length?(a="function"==typeof t?t:ox(!!t),_):a},_.extent=function(t){return arguments.length?(r="function"==typeof t?t:ox([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),_):r},_.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],_):[u[0],u[1]]},_.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],_):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},_.constrain=function(t){return arguments.length?(o=t,_):o},_.duration=function(t){return arguments.length?(c=+t,_):c},_.interpolate=function(t){return arguments.length?(s=t,_):s},_.on=function(){var t=d.on.apply(d,arguments);return t===d?_:t},_.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,_):Math.sqrt(p)},_}function wx(){var t=null;if(!hu.hovered_feature)return t;var e,n=hu.hovered_feature.split("-"),r=n[0],o=n[1];return"points"===r?e=Qm:"regions"===r&&(e=Vm),e&&(t=e.get(o)||null),t}function xx(){var t;t=[],hu.map_show&&ux&&"categorical"===hu.map_colors.scale_type&&hu.legend_map_show&&(t=ux.domain),t.length>100&&(t=[]),cx=0===t.length,KS.data(t,ux).update(),function(){sx=!hu.map_show||!ux||!hu.legend_map_show||"categorical"===hu.map_colors.scale_type;var t=null,e=wx();e&&e.properties.source===Gm.properties.source&&(t=e.properties.numeric_value[PS.index()]);var n=ux?ux.domain.slice().sort(Zs):[0,0];tT.data(n,ux).format(zS(TS.getFormatterFunction())).visible(!sx).markerValue(void 0!==t?t:null).update()}(),lx.style("display",sx&&cx?"none":null)}function Dx(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Ex(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var Ax=Array.prototype,Cx=Ax.map,Mx=Ax.slice;function kx(t){return+t}var Fx=[0,1];function Sx(t){return t}function Tx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function zx(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Bx(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=Tx(o,r),i=n(a,i)):(r=Tx(r,o),i=n(i,a)),function(t){return i(r(t))}}function Nx(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=Tx(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(e){var n=Js(t,e,1,r)-1;return i[n](o[n](e))}}function Lx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Px(){var t,e,n,r,o,i,a=Fx,u=Fx,l=kv,c=Sx;function s(){return r=Math.min(a.length,u.length)>2?Nx:Bx,o=i=null,f}function f(e){return isNaN(e=+e)?n:(o||(o=r(a.map(t),u,l)))(t(c(e)))}return f.invert=function(n){return c(e((i||(i=r(u,a.map(t),Dv)))(n)))},f.domain=function(t){return arguments.length?(a=Cx.call(t,kx),c===Sx||(c=zx(a)),s()):a.slice()},f.range=function(t){return arguments.length?(u=Mx.call(t),s()):u.slice()},f.rangeRound=function(t){return u=Mx.call(t),l=Fv,s()},f.clamp=function(t){return arguments.length?(c=t?zx(a):Sx,f):c!==Sx},f.interpolate=function(t){return arguments.length?(l=t,s()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,s()}}function Ox(t,e){return Px()(t,e)}function Ix(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function jx(t){return(t=Ix(Math.abs(t)))?t[1]:NaN}var Rx,Ux=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qx(t){return new Hx(t)}function Hx(t){if(!(e=Ux.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function Yx(t,e){var n=Ix(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}qx.prototype=Hx.prototype,Hx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Wx={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Yx(100*t,e)},r:Yx,s:function(t,e){var n=Ix(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(Rx=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Ix(t,Math.max(0,e+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Gx(t){return t}var Vx,Xx,$x,Zx=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Qx(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var o=t.length,i=[],a=0,u=e[0],l=0;o>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),i.push(t.substring(o-=u,o+u)),!((l+=u+1)>r));)u=e[a=(a+1)%e.length];return i.reverse().join(n)}):Gx,o=t.currency,i=t.decimal,a=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(t.numerals):Gx,u=t.percent||"%";function l(t){var e=(t=qx(t)).fill,n=t.align,l=t.sign,c=t.symbol,s=t.zero,f=t.width,d=t.comma,h=t.precision,p=t.trim,_=t.type;"n"===_?(d=!0,_="g"):Wx[_]||(null==h&&(h=12),p=!0,_="g"),(s||"0"===e&&"="===n)&&(s=!0,e="0",n="=");var g="$"===c?o[0]:"#"===c&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",v="$"===c?o[1]:/[%p]/.test(_)?u:"",y=Wx[_],m=/[defgprs%]/.test(_);function b(t){var o,u,c,b=g,w=v;if("c"===_)w=y(t)+w,t="";else{var x=(t=+t)<0;if(t=y(Math.abs(t),h),p&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(o>0){if(!+t[r])break t;o=0}}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),x&&0==+t&&(x=!1),b=(x?"("===l?l:"-":"-"===l||"("===l?"":l)+b,w=("s"===_?Zx[8+Rx/3]:"")+w+(x&&"("===l?")":""),m)for(o=-1,u=t.length;++o<u;)if(48>(c=t.charCodeAt(o))||c>57){w=(46===c?i+t.slice(o+1):t.slice(o))+w,t=t.slice(0,o);break}}d&&!s&&(t=r(t,1/0));var D=b.length+t.length+w.length,E=D<f?new Array(f-D+1).join(e):"";switch(d&&s&&(t=r(E+t,E.length?f-w.length:1/0),E=""),n){case"<":t=b+t+w+E;break;case"=":t=b+E+t+w;break;case"^":t=E.slice(0,D=E.length>>1)+b+t+w+E.slice(D);break;default:t=E+b+t+w}return a(t)}return h=null==h?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),b.toString=function(){return t+""},b}return{format:l,formatPrefix:function(t,e){var n=l(((t=qx(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(jx(e)/3))),o=Math.pow(10,-r),i=Zx[8+r/3];return function(t){return n(o*t)+i}}}}function Jx(t){return Math.max(0,-jx(Math.abs(t)))}function Kx(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(jx(e)/3)))-jx(Math.abs(t)))}function tD(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,jx(e)-jx(t))+1}function eD(t){var e=t.domain;return t.ticks=function(t){var n=e();return of(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var o,i=uf(t,e,n);switch((r=qx(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=Kx(i,a))||(r.precision=o),$x(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=tD(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=Jx(i))||(r.precision=o-2*("%"===r.type))}return Xx(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o=e(),i=0,a=o.length-1,u=o[i],l=o[a];return l<u&&(r=u,u=l,l=r,r=i,i=a,a=r),(r=af(u,l,n))>0?r=af(u=Math.floor(u/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=af(u=Math.ceil(u*r)/r,l=Math.floor(l*r)/r,n)),r>0?(o[i]=Math.floor(u/r)*r,o[a]=Math.ceil(l/r)*r,e(o)):r<0&&(o[i]=Math.ceil(u*r)/r,o[a]=Math.floor(l*r)/r,e(o)),t},t}function nD(){var t=Ox(Sx,Sx);return t.copy=function(){return Lx(t,nD())},Dx.apply(t,arguments),eD(t)}function rD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function oD(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function iD(t){return t<0?-t*t:t*t}function aD(t){var e=t(Sx,Sx),n=1;function r(){return 1===n?t(Sx,Sx):.5===n?t(oD,iD):t(rD(n),rD(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},eD(e)}function uD(){var t=aD(Px());return t.copy=function(){return Lx(t,uD()).exponent(t.exponent())},Dx.apply(t,arguments),t}function lD(){var t,e=[],n=[],r=[];function o(){var t=0,o=Math.max(1,n.length);for(r=new Array(o-1);++t<o;)r[t-1]=lf(e,t/o);return i}function i(e){return isNaN(e=+e)?t:n[Js(r,e)]}return i.invertExtent=function(t){var o=n.indexOf(t);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,i=t.length;r<i;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(Zs),o()},i.range=function(t){return arguments.length?(n=Mx.call(t),o()):n.slice()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.quantiles=function(){return r.slice()},i.copy=function(){return lD().domain(e).range(n).unknown(t)},Dx.apply(i,arguments)}function cD(){var t,e=0,n=1,r=1,o=[.5],i=[0,1];function a(e){return e<=e?i[Js(o,e,0,r)]:t}function u(){var t=-1;for(o=new Array(r);++t<r;)o[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],u()):[e,n]},a.range=function(t){return arguments.length?(r=(i=Mx.call(t)).length-1,u()):i.slice()},a.invertExtent=function(t){var a=i.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,o[0]]:a>=r?[o[r-1],n]:[o[a-1],o[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return o.slice()},a.copy=function(){return cD().domain([e,n]).range(i).unknown(t)},Dx.apply(eD(a),arguments)}function sD(){var t,e=[.5],n=[0,1],r=1;function o(o){return o<=o?n[Js(e,o,0,r)]:t}return o.domain=function(t){return arguments.length?(e=Mx.call(t),r=Math.min(e.length,n.length-1),o):e.slice()},o.range=function(t){return arguments.length?(n=Mx.call(t),r=Math.min(e.length,n.length-1),o):n.slice()},o.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return sD().domain(e).range(n).unknown(t)},Dx.apply(o,arguments)}Vx=Qx({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),Xx=Vx.format,$x=Vx.formatPrefix;var fD=new Date,dD=new Date;function hD(t,e,n,r){function o(e){return t(e=new Date(+e)),e}return o.floor=o,o.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},o.round=function(t){var e=o(t),n=o.ceil(t);return t-e<n-t?e:n},o.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},o.range=function(n,r,i){var a,u=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return u;do{u.push(a=new Date(+n)),e(n,i),t(n)}while(a<n&&n<r);return u},o.filter=function(n){return hD((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(o.count=function(e,r){return fD.setTime(+e),dD.setTime(+r),t(fD),t(dD),Math.floor(n(fD,dD))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(r?function(e){return r(e)%t==0}:function(e){return o.count(0,e)%t==0}):o:null}),o}var pD=hD((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));pD.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?hD((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):pD:null};var _D=1e3,gD=6e4,vD=36e5,yD=864e5,mD=6048e5,bD=(hD((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*_D)}),(function(t,e){return(e-t)/_D}),(function(t){return t.getUTCSeconds()})),hD((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*_D)}),(function(t,e){t.setTime(+t+e*gD)}),(function(t,e){return(e-t)/gD}),(function(t){return t.getMinutes()})),hD((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*_D-t.getMinutes()*gD)}),(function(t,e){t.setTime(+t+e*vD)}),(function(t,e){return(e-t)/vD}),(function(t){return t.getHours()})),hD((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*gD)/yD}),(function(t){return t.getDate()-1})));function wD(t){return hD((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*gD)/mD}))}var xD=wD(0),DD=wD(1),ED=(wD(2),wD(3),wD(4)),AD=(wD(5),wD(6),hD((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),hD((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));AD.every=function(t){return isFinite(t=Math.floor(t))&&t>0?hD((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};hD((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*gD)}),(function(t,e){return(e-t)/gD}),(function(t){return t.getUTCMinutes()})),hD((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*vD)}),(function(t,e){return(e-t)/vD}),(function(t){return t.getUTCHours()}));var CD=hD((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/yD}),(function(t){return t.getUTCDate()-1}));function MD(t){return hD((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/mD}))}var kD=MD(0),FD=MD(1),SD=(MD(2),MD(3),MD(4)),TD=(MD(5),MD(6),hD((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),hD((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));function zD(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function BD(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ND(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}TD.every=function(t){return isFinite(t=Math.floor(t))&&t>0?hD((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var LD,PD,OD,ID={"-":"",_:" ",0:"0"},jD=/^\s*\d+/,RD=/^%/,UD=/[\\^$*+?|[\]().{}]/g;function qD(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function HD(t){return t.replace(UD,"\\$&")}function YD(t){return new RegExp("^(?:"+t.map(HD).join("|")+")","i")}function WD(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function GD(t,e,n){var r=jD.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function VD(t,e,n){var r=jD.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function XD(t,e,n){var r=jD.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function $D(t,e,n){var r=jD.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ZD(t,e,n){var r=jD.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function QD(t,e,n){var r=jD.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function JD(t,e,n){var r=jD.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function KD(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tE(t,e,n){var r=jD.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function eE(t,e,n){var r=jD.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function nE(t,e,n){var r=jD.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function rE(t,e,n){var r=jD.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function oE(t,e,n){var r=jD.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function iE(t,e,n){var r=jD.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function aE(t,e,n){var r=jD.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function uE(t,e,n){var r=jD.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lE(t,e,n){var r=RD.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cE(t,e,n){var r=jD.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function sE(t,e,n){var r=jD.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function fE(t,e){return qD(t.getDate(),e,2)}function dE(t,e){return qD(t.getHours(),e,2)}function hE(t,e){return qD(t.getHours()%12||12,e,2)}function pE(t,e){return qD(1+bD.count(AD(t),t),e,3)}function _E(t,e){return qD(t.getMilliseconds(),e,3)}function gE(t,e){return _E(t,e)+"000"}function vE(t,e){return qD(t.getMonth()+1,e,2)}function yE(t,e){return qD(t.getMinutes(),e,2)}function mE(t,e){return qD(t.getSeconds(),e,2)}function bE(t){var e=t.getDay();return 0===e?7:e}function wE(t,e){return qD(xD.count(AD(t),t),e,2)}function xE(t,e){var n=t.getDay();return t=n>=4||0===n?ED(t):ED.ceil(t),qD(ED.count(AD(t),t)+(4===AD(t).getDay()),e,2)}function DE(t){return t.getDay()}function EE(t,e){return qD(DD.count(AD(t),t),e,2)}function AE(t,e){return qD(t.getFullYear()%100,e,2)}function CE(t,e){return qD(t.getFullYear()%1e4,e,4)}function ME(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+qD(e/60|0,"0",2)+qD(e%60,"0",2)}function kE(t,e){return qD(t.getUTCDate(),e,2)}function FE(t,e){return qD(t.getUTCHours(),e,2)}function SE(t,e){return qD(t.getUTCHours()%12||12,e,2)}function TE(t,e){return qD(1+CD.count(TD(t),t),e,3)}function zE(t,e){return qD(t.getUTCMilliseconds(),e,3)}function BE(t,e){return zE(t,e)+"000"}function NE(t,e){return qD(t.getUTCMonth()+1,e,2)}function LE(t,e){return qD(t.getUTCMinutes(),e,2)}function PE(t,e){return qD(t.getUTCSeconds(),e,2)}function OE(t){var e=t.getUTCDay();return 0===e?7:e}function IE(t,e){return qD(kD.count(TD(t),t),e,2)}function jE(t,e){var n=t.getUTCDay();return t=n>=4||0===n?SD(t):SD.ceil(t),qD(SD.count(TD(t),t)+(4===TD(t).getUTCDay()),e,2)}function RE(t){return t.getUTCDay()}function UE(t,e){return qD(FD.count(TD(t),t),e,2)}function qE(t,e){return qD(t.getUTCFullYear()%100,e,2)}function HE(t,e){return qD(t.getUTCFullYear()%1e4,e,4)}function YE(){return"+0000"}function WE(){return"%"}function GE(t){return+t}function VE(t){return Math.floor(+t/1e3)}!function(t){LD=function(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,i=t.days,a=t.shortDays,u=t.months,l=t.shortMonths,c=YD(o),s=WD(o),f=YD(i),d=WD(i),h=YD(a),p=WD(a),_=YD(u),g=WD(u),v=YD(l),y=WD(l),m={a:function(t){return a[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:fE,e:fE,f:gE,H:dE,I:hE,j:pE,L:_E,m:vE,M:yE,p:function(t){return o[+(t.getHours()>=12)]},Q:GE,s:VE,S:mE,u:bE,U:wE,V:xE,w:DE,W:EE,x:null,X:null,y:AE,Y:CE,Z:ME,"%":WE},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:kE,e:kE,f:BE,H:FE,I:SE,j:TE,L:zE,m:NE,M:LE,p:function(t){return o[+(t.getUTCHours()>=12)]},Q:GE,s:VE,S:PE,u:OE,U:IE,V:jE,w:RE,W:UE,x:null,X:null,y:qE,Y:HE,Z:YE,"%":WE},w={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=_.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return E(t,e,n,r)},d:eE,e:eE,f:uE,H:rE,I:rE,j:nE,L:aE,m:tE,M:oE,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=s[r[0].toLowerCase()],n+r[0].length):-1},Q:cE,s:sE,S:iE,u:VD,U:XD,V:$D,w:GD,W:ZD,x:function(t,e,r){return E(t,n,e,r)},X:function(t,e,n){return E(t,r,e,n)},y:JD,Y:QD,Z:KD,"%":lE};function x(t,e){return function(n){var r,o,i,a=[],u=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(l,u)),null!=(o=ID[r=t.charAt(++u)])?r=t.charAt(++u):o="e"===r?" ":"0",(i=e[r])&&(r=i(n,o)),a.push(r),l=u+1);return a.push(t.slice(l,u)),a.join("")}}function D(t,e){return function(n){var r,o,i=ND(1900);if(E(i,t,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("p"in i&&(i.H=i.H%12+12*i.p),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=BD(ND(i.y))).getUTCDay(),r=o>4||0===o?FD.ceil(r):FD(r),r=CD.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=e(ND(i.y))).getDay(),r=o>4||0===o?DD.ceil(r):DD(r),r=bD.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?BD(ND(i.y)).getUTCDay():e(ND(i.y)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,BD(i)):e(i)}}function E(t,e,n,r){for(var o,i,a=0,u=e.length,l=n.length;a<u;){if(r>=l)return-1;if(37===(o=e.charCodeAt(a++))){if(o=e.charAt(a++),!(i=w[o in ID?e.charAt(a++):o])||(r=i(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return m.x=x(n,m),m.X=x(r,m),m.c=x(e,m),b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),{format:function(t){var e=x(t+="",m);return e.toString=function(){return t},e},parse:function(t){var e=D(t+="",zD);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=D(t,BD);return e.toString=function(){return t},e}}}(t),LD.format,LD.parse,PD=LD.utcFormat,OD=LD.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var XE="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||PD(XE);+new Date("2000-01-01T00:00:00.000Z")||OD(XE);function $E(){var t,e,n,r,o,i=0,a=1,u=Sx,l=!1;function c(e){return isNaN(e=+e)?o:u(0===n?.5:(e=(r(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}return c.domain=function(o){return arguments.length?(t=r(i=+o[0]),e=r(a=+o[1]),n=t===e?0:1/(e-t),c):[i,a]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(u=t,c):u},c.unknown=function(t){return arguments.length?(o=t,c):o},function(o){return r=o,t=o(i),e=o(a),n=t===e?0:1/(e-t),c}}function ZE(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function QE(){var t=eD($E()(Sx));return t.copy=function(){return ZE(t,QE())},Ex.apply(t,arguments)}function JE(){var t,e,n,r,o,i,a,u=0,l=.5,c=1,s=Sx,f=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+i(t))-e)*(t<e?r:o),s(f?Math.max(0,Math.min(1,t)):t))}return d.domain=function(a){return arguments.length?(t=i(u=+a[0]),e=i(l=+a[1]),n=i(c=+a[2]),r=t===e?0:.5/(e-t),o=e===n?0:.5/(n-e),d):[u,l,c]},d.clamp=function(t){return arguments.length?(f=!!t,d):f},d.interpolator=function(t){return arguments.length?(s=t,d):s},d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return i=a,t=a(u),e=a(l),n=a(c),r=t===e?0:.5/(e-t),o=e===n?0:.5/(n-e),d}}function KE(){var t=eD(JE()(Sx));return t.copy=function(){return ZE(t,KE())},Ex.apply(t,arguments)}var tA,eA=!1,nA=hu.legend_categorical_points_interaction,rA="";for(var oA=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹÐ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],iA={},aA=0;aA<oA.length;aA++)for(var uA=oA[aA].letters,lA=0;lA<uA.length;lA++)iA[uA[lA]]=oA[aA].base;function cA(t,e){return!(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)&&t.every((function(t,n){return t===e[n]}))}function sA(t,e){var n=Bu(t);return n&&Number.isFinite(e)&&(n.opacity=e),n?n.toString():null}function fA(t){return function(t){return t.replace(/[^\u0020-\u007E]/g,(function(t){return iA[t]||t}))}(t).toLowerCase().replace(/&/g,"and").replace(/(?:(?![0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])[\s\S])/g,"")}function dA(t){return t*bC.k+bC.x}function hA(t){return t*bC.k+bC.y}function pA(t){return!!t&&(!(dA(t[0][0])>Hw)&&(!(dA(t[1][0])<0)&&(!(hA(t[0][1])>Yw)&&hA(t[1][1])>0)))}var _A,gA,vA,yA,mA=Wy();function bA(t){if(mA("points_data",Zm),mA("fill",hu.point_fill),mA("opacity",hu.point_opacity),mA("stroke_width",hu.point_stroke_width),mA("stroke_opacity",hu.point_stroke_opacity),mA("stroke_custom",hu.point_stroke_custom),mA("stroke_color",hu.point_stroke_color),mA("min_radius",hu.point_min_radius<=hu.point_max_radius?hu.point_min_radius:0),mA("max_radius",hu.point_max_radius),mA("default_radius",hu.point_default_radius),mA("max_value",hu.point_max_value||Zm.properties.max_value),Object.keys(hu.point_colors).forEach((function(t){var e=hu.point_colors[t];Array.isArray(e)?cA(mA[t],e)||mA(t,e.slice()):mA(t,e)})),!mA()&&!t)return!1;var e,n,r;e=Zm.features.map((function(t){return t.properties.color_group})),n={},r=[],e.forEach((function(t){t&&void 0===n[t]&&(n[t]=!0,r.push(t))})),LS.updateColorScale(r),(tA=LS.getColor).domain=Object.freeze(r);var o,i,a,u=Zm.properties.have_value,l=Zm.properties.have_color;u&&(o=mA.max_value,i=mA.min_radius,a=mA.max_radius,_A=function(t){var e=t/o;e>1&&(e=1);var n=Math.sqrt(e)*a;return n<i&&(n=i),n});var c=mA.fill,s=mA.default_radius,f=Zm.properties;f.fill_opacity=mA.opacity;var d=0;return Zm.features.forEach((function(t){var e=t.properties;e.fill_color=l?tA(e.color_group):c,e.radius=u?_A(e.value):s,u&&e.value>d&&(d=e.value),e.filter_hide=hu.filter[e.color_group]})),u&&(f.big_radius=mA.max_radius,mA.max_value?f.big_radius_value=mA.max_value:f.big_radius_value=d),!0}function wA(t){!function(t){hu.filter[t]?delete hu.filter[t]:hu.filter[t]=!0,eA=!0}(t.label),pC()}function xA(){yA=!(hu.point_show&&hu.legend_size_show&&Zm.properties.have_value&&Zm.features.length);var t=Zm.properties,e=_A?[_A(0)*Xw,_A(t.big_radius_value)*Xw]:[0,1],n=function(){return uD.apply(null,arguments).exponent(.5)}().domain([0,t.big_radius_value]).range(e);QS.format(BS(TS.getFormatterFunction())).scale(n).visible(!yA).update()}function DA(){!function(){var t=hu.point_show&&hu.legend_categorical_points_show?tA.domain:[];t.length>100&&(t=[]),vA=0===t.length||!Zm.properties.have_color||!Zm.features.length;var e=[];for(var n in hu.filter)e.push(n);JS.data(t,tA).filtered(e).update(),hu.legend_categorical_points_interaction?JS.on("click",wA):JS.on("click",null)}(),xA(),gA.style("display",yA&&vA?"none":null)}function EA(){DA(),xx()}var AA=Wy();function CA(t){return!isNaN(t)}function MA(t){if(AA("data",Gm),AA("fill_color",hu.map_fill),AA("fill_opacity",hu.map_fill_opacity),AA("stroke_width",hu.map_show_stroke?hu.map_stroke_width:0),AA("stroke_color",hu.map_stroke),AA("stroke_opacity",hu.map_stroke_opacity),AA("missing_values",hu.choropleth_missing_values),AA("pattern_opacity",AA.fill_opacity*hu.missing_pattern_opacity),AA("pattern_square_size",hu.missing_pattern_size),AA("pattern_first_color",hu.missing_pattern_color_1),AA("pattern_second_color",hu.missing_pattern_color_2),AA("region_index",PS.index()),AA("choropleth_scale_per_column",hu.choropleth_scale_per_column),Object.keys(hu.map_colors).forEach((function(t){var e=hu.map_colors[t];Array.isArray(e)?cA(AA[t],e)||AA(t,e.slice()):AA(t,e)})),!AA()&&!t)return!1;var e,n=Gm.properties.have_value,r="categorical"===AA.scale_type?"value":"numeric_value";n&&(e=Gm.features.reduce((function(t,e){return e.properties[r].forEach((function(e,n){hu.choropleth_scale_per_column&&PS.index()!=n||t.push(e)})),t}),[]),"numeric_value"===r&&(e=e.filter(CA))),function(t){if(t){var e={},n=[];t.forEach((function(t){t&&void 0===e[t]&&(e[t]=!0,n.push(t))})),NS.updateColorScale(n),ux=NS.getColor}else ux=null}(e),Gm.properties=Gm.properties||{};var o=Gm.properties;e&&(o.values=e);var i=AA.missing_values;return delete o.fill_color,n&&"fill"!==i?"pattern"===i&&(o.fill_color={opacity:AA.pattern_opacity,square_size:AA.pattern_square_size,first_color:AA.pattern_first_color,second_color:AA.pattern_second_color}):o.fill_color=AA.fill_color,o.fill_opacity=AA.fill_opacity,o.stroke_color=AA.stroke_color,o.stroke_width=AA.stroke_width,o.stroke_opacity=AA.stroke_opacity,Gm.features.forEach((function(t){var e=t.properties;if(e.display=!0,n){var o=ux(t.properties[r][AA.region_index]);o?e.fill_color=o:delete e.fill_color,"hide"!==i||e.fill_color||(e.display=!1)}else e.fill_color=AA.fill_color})),!0}var kA=Wy();function FA(t,e,n){if("number"==typeof t&&!isNaN(t))return Math.max(Math.min(t,n),e)}var SA,TA,zA,BA,NA,LA={stroke_color:function(t){if(e=t,(n=document.createElement("span")).style.color=e,""!==n.style.color)return t;var e,n},stroke_width:function(t){return FA(parseFloat(t),0,5)},stroke_opacity:function(t){return FA(parseFloat(t),0,1)},stroke_dash:function(t){if(["solid","long","short","mixed"].includes(t.toLowerCase()))return t.toLowerCase()}},PA=Object.keys(LA);function OA(){if(kA("data",Km),kA("stroke_color",hu.line_stroke_color),kA("stroke_width",hu.line_stroke_width),kA("stroke_opacity",hu.line_stroke_opacity),kA("stroke_dash",hu.line_stroke_dash),kA("stroke_color_overrides",hu.line_stroke_color_overrides),kA("stroke_width_overrides",hu.line_stroke_width_overrides),kA("stroke_opacity_overrides",hu.line_stroke_opacity_overrides),kA("stroke_dash_overrides",hu.line_stroke_dash_overrides),!kA())return!1;var t=Km.properties.have_series;Km.properties=Km.properties||{};var e,n=Km.properties;return PA.forEach((function(t){n[t]=kA[t]})),t&&(e=PA.reduce((function(t,e){var n;return t[e]=hu["line_"+(n=e)+"_overrides"].split("\n").filter((function(t){return t})).reduce((function(t,e){var r=e.lastIndexOf(":");if(-1!==r){var o=e.slice(0,r).trim();if(o){var i=LA[n](e.slice(r+1).trim());void 0!==i&&(t[o]=i)}return t}}),{}),t}),{})),Km.features.forEach((function(n){var r=n.properties,o=t?n.properties.series:null;PA.forEach((function(n){r[n]=t&&e[n][o]||kA[n]}))})),!0}var IA=null,jA=null,RA=null;function UA(t){t.width=Hw*Ww,t.height=Yw*Ww}function qA(t){var e,n;void 0!==t.clientX&&void 0!==t.clientY?(e=t.clientX,n=t.clientY):t.touches&&t.touches.length&&(e=t.touches[0].clientX,n=t.touches[0].clientY);var r=e-BA,o=n-NA,i=bC.k;return{x:r,y:o,x_untransformed:(r-bC.x)/i,y_untransformed:(o-bC.y)/i}}function HA(t){try{t&&TA.drawImage(t,0,0)}catch(t){throw new Error("Something went wrong. It may be that your geometry uses projected coordinates. For this template to work you must use an unprojected (WGS84) GeoJSON file (with the points of polygons specified in decimal degrees).")}}function YA(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=e),UA(t);var r=t.getContext("2d");e&&t.getContext("2d").scale(Ww,Ww),bC&&n&&(r.translate(bC.x,bC.y),r.scale(bC.k,bC.k))}function WA(t,e,n){t===IA&&"clickout"!=n||(jA=e,IA=t,hu.hovered_feature=IA,hC(null,n),EA())}function GA(t){if(!hu.sticky_hover){var e=qA(t);WA(RS.getFeatureAtPixel(e),e,"mouseover")}}function VA(t){var e=qA(t);if(hu.sticky_hover){var n=RS.getFeatureAtPixel(e);n!=IA&&n?WA(n,e,"click"):(hu.sticky_hover=!1,WA(n,e,"clickout"))}else IA&&(hu.sticky_hover=!0,RC(e,"click"))}function XA(){var t=document.createElement("div");MS.getSection("primary").appendChild(t),SA=document.createElement("canvas"),t.appendChild(SA),TA=SA.getContext("2d"),SA.addEventListener("touchstart",(function(t){t.preventDefault(),1===t.touches.length?RA=setTimeout((function(){GA(t),VA(t)}),200):null!==RA&&(clearTimeout(RA),RA=null)}),!1),SA.addEventListener("mousemove",GA,!1),SA.addEventListener("mouseout",(function(){hu.sticky_hover||WA(null,null,"mouseover")}),!1),SA.addEventListener("click",VA,!1),function(t){var e=null,n=null,r=function t(r){null===e&&(e=r);var o=r-e;(DC=Math.max((AC-o)/AC,0))?n=requestAnimationFrame(t):(n=null,e=null),hC()},o=function(t){!function(t){"touch"==t?yC=hu.zoom_message_touch:"key"==t&&(yC=hu.zoom_message_key.replace("{{KEY}}","MacIntel"===window.navigator.platform?"⌘":"Ctrl"))}(t),n||(DC=1,n=requestAnimationFrame(r))},i=function(){cancelAnimationFrame(n),n=null,DC=0};(lC=bx().scaleExtent([1,10]).filter((function(){if(hu.zoom_on&&!(mg.button>0||"touchstart"==mg.type&&mg.touches.length<2)){if("wheel"==mg.type){if(!mg.ctrlKey&&!mg.metaKey)return void o("key");mg.preventDefault()}return i(),!0}}))).on("start",(function(){i(),mC=!0})).on("zoom",(function(){bC=mg.transform;var t=qw.invert([(Hw/2-bC.x)/bC.k,(Yw/2-bC.y)/bC.k]);wC={zoom:bC.k,lon:t[0],lat:t[1]},PC(hu.focus,wC)||(xC="linear"===EC.mode?1:"sqrt"===EC.mode?1/Math.sqrt(bC.k):1/bC.k,hC({zoom:!0},"zoom"))})).on("end",(function(){mC=!1,wC&&(hu.focus={zoom:wC.zoom,lon:wC.lon,lat:wC.lat},hC({zoom:!0}),pC())})),(vC=Tg(t).call(lC).on("dblclick.zoom",null).style("touch-action","pan-y")).on("touchmove",(function(){1==mg.touches.length&&o("touch")})),_C=document.createElement("canvas"),gC=_C.getContext("2d")}(t)}function $A(t){var e=[{search:"",result:t}];return{clear:function(){return e.length=1},addSearch:function(t,n){for(var r=e.length-1;r>=0&&!t.startsWith(e[r].search);r--)e.pop();e.push({search:t,result:n})},getClosestSearch:function(t){for(var n=null,r=e.length-1;r>=0;r--)if(t.startsWith(e[r].search)){n=e[r];break}return n},current_search_list:function(){return e.filter((function(t,e){return e})).map((function(t){return t.search}))}}}var ZA=Object.freeze({anywhere:function(t,e){return e.includes(t)},start:function(t,e){return e.startsWith(t)},whole:function(t,e){return t===e}});var QA,JA=[],KA=Wy(),tC=.4;function eC(t){if(!(t.className.indexOf("search-item")<0)){var e=t.dataset.value;hu.sticky_hover=!0,WA(e,null,"click")}}function nC(){if(40!=mg.keyCode&&38!=mg.keyCode&&9!=mg.keyCode&&13!=mg.keyCode){var t=mg.target.value;t.length<2&&!hu.search_dropdown?oC([]):oC(QA(fA(t)))}}function rC(){var t,e,n=Tg(".search-container .search-list");9==mg.keyCode||13==mg.keyCode?(t=n.select(".selected")).empty()||(eC(t.node()),this.blur()):40==mg.keyCode?((t=n.select(".selected")).empty()||(e=t.node().nextSibling),e||(e=n.select(".search-item[data-value]").node()),n.selectAll(".selected").classed("selected",!1),Tg(e).classed("selected",!0)):38==mg.keyCode&&((t=n.select(".selected")).empty()||(e=t.node().previousSibling),e||(e=n.select(".search-item:last-child").node()),n.selectAll(".selected").classed("selected",!1),Tg(e).classed("selected",!0))}function oC(t){var e=Math.min(t.length,500),n=t.slice(0,e);Tg(".search-container .search-list").style("opacity",n.length>0?1:null).html("").selectAll(".search-item").data(n).enter().append("div").attr("class","search-item").attr("data-value",(function(t){return t.source+"-"+t.index})).classed("selected",(function(t,e){return 0==e})).append("p").html((function(t){return t.name}))}function iC(t){if(KA("search_regions",hu.map_show&&hu.map_search&&Gm.properties.have_name),KA("search_points",hu.point_show&&hu.point_search&&Zm.properties.have_name),KA()||t){JA=[];var e=KA.search_regions||KA.search_points;e&&(KA.search_regions&&Gm.features.forEach((function(t){t.properties.name&&JA.push({name:t.properties.name,index:t.properties.index,source:t.properties.source})})),KA.search_points&&Zm.features.forEach((function(t){t.properties.name&&JA.push({name:t.properties.name,index:t.properties.index,source:t.properties.source})})),QA=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=!1,r="anywhere",o=$A(t.map((function(t,n){var r=e(t),o=r.toLowerCase();return Object.freeze({item:t,index:n,sensitive:r,insensitive:o})}))),i=function(t){n||(t=t.toLowerCase());var e=o.getClosestSearch(t);if(e.search===t)return e.result.map((function(t){return t.item}));var i=n?"sensitive":"insensitive",a=ZA[r],u=e.result.filter((function(e){return a(t,e[i])}));return"whole"!==r&&o.addSearch(t,u),u.map((function(t){return t.item}))};return i.caseSensitive=function(t){return void 0===t?n:((t=!!t)!==n&&(n=t,o.clear()),i)},i.mode=function(t){return void 0===t?r:(void 0===ZA[r]&&(t="anywhere"),t!==r&&(r=t,o.clear()),i)},i._current_search_list=function(){return o.current_search_list()},i}(JA,(function(t){return fA(t.name)}))),Tg(".search-container").style("display",e?null:"none")}var n=Tg(".search-container");n.style("width",hu.search_box_width+"rem").classed("expanded",hu.search_expanded),n.select("input").attr("placeholder",hu.search_placeholder).style("background-color",sA(hu.search_bg_color||hu.layout.background_color,hu.search_bg_opacity)).style("color",hu.search_text_color||hu.layout.font_color).style("width",hu.search_box_size+"rem").style("height",hu.search_box_size+"rem").style("padding","0 0 0 calc("+hu.search_box_size+"rem - 4px)").style("border-radius",hu.search_box_radius+"px").style("font-size",.55*hu.search_box_size+"rem").style("border","2px solid "+sA(hu.search_text_color||hu.layout.font_color,hu.search_box_stroke)),n.select(".search-list").style("box-shadow","0 1px 3px rgba(0,0,0,0.2)").style("background-color",hu.search_bg_color||hu.layout.background_color).style("color",hu.search_text_color||hu.layout.font_color).style("border-radius","3px").style("font-size",.55*hu.search_box_size+"rem"),n.select(".search-icon").style("width",hu.search_box_size*tC+"rem").style("height",hu.search_box_size*tC+"rem").style("left",.6*hu.search_box_size*.5+"rem").style("top",.6*hu.search_box_size*.5+"rem").select("svg path").attr("fill",hu.search_icon_color||hu.layout.font_color)}var aC,uC,lC,cC=Math.PI/180;function sC(){Zm.properties.scaling=Xw;var t=function(){var t=qw.clipAngle()*cC;if(!t)return null;var e=qw.invert([Hw/2,Yw/2]);return function(n){return!n.geometry||kf(e,n.properties.unprojected_feature.geometry.coordinates)>t}}();Zm.features.forEach((function(e){e.geometry=Fp(e.properties.unprojected_feature,qw).geometry;var n=e.properties;if(n.projection_hide=t&&t(e),n.scaling=Xw,e.geometry){var r=e.geometry.coordinates,o=n.radius;n.bounds=[[r[0]-o,r[1]-o],[r[0]+o,r[1]+o]]}}))}function fC(){!function(){Gm.properties.scaling=Xw;var t=jd();Gm.features.forEach((function(e){e.geometry=Fp(e.properties.unprojected_feature,qw).geometry,e.properties.scaling=Xw,e.properties.bounds=t.bounds(e.geometry)}))}(),aC=$m.map((function(t){return Fp(t,qw)})).filter((function(t){return t})),sC(),function(){Km.properties.scaling=Xw;var t=jd();Km.features.forEach((function(e){e.geometry=Fp(e.properties.unprojected_feature,qw).geometry,e.properties.scaling=Xw,e.properties.bounds=t.bounds(e.geometry)}))}()}function dC(){if((uC=uC||MS.getSection("primary").querySelector("div")).style.marginTop=null,uC.style.marginBottom=null,Flourish.fixed_height){var t=MS.getPrimaryHeight()-Yw;if(t>0){var e=t/2;uC.style.marginTop=e+"px",uC.style.marginBottom=e+"px"}}else MS.setHeight(Yw)}function hC(t,e){t=t||{},function(t){UA(SA),SA.style.width=Hw+"px",SA.style.height=Yw+"px",SA.style.marginTop=0,SA.style.marginBottom=0,zA=SA.getBoundingClientRect(),BA=zA.left,NA=zA.top,t&&RC(jA,t)}(e),HA(US(t)),HA(qS(t)),HA(YS(t)),hu.line_above_highlights||HA(WS(t)),hu.group_above_highlights||HA(GS(t)),HA(VS(t)),hu.line_above_highlights&&HA(WS(t)),hu.group_above_highlights&&HA(GS(t)),HA($S(t)),HA(ZS(t)),HA(DC?(YA(_C,!0,!1),gC.textAlign="center",gC.font=MS.remToPx(1.5)+"px "+hu.layout.body_font.name,gC.globalAlpha=DC,gC.strokeStyle=hu.zoom_message_stroke,gC.fillStyle=hu.zoom_message_fill,gC.lineWidth=2.5,gC.strokeText(yC,Hw/2,Yw/2),gC.fillText(yC,Hw/2,Yw/2),_C):null)}function pC(){var t={};t.data=eb();var e,n=function(){if(nA!==hu.legend_categorical_points_interaction&&Object.keys(hu.filter).length)eA=!0,hu.filter={},nA=hu.legend_categorical_points_interaction;else{var t=Object.keys(hu.filter).sort().join("@£%$$%$%@$^");rA!==t&&(eA=!0,rA=t)}return!!eA&&(eA=!1,!0)}();e=Gy.choropleth.column_names.value||[],PS.options(e).update(),OS.update(),IS.update(),jS.update(),t.choropleth=MA(),t.points=bA(n),t.lines=OA(),iC(t.data>0),EA(),MS.update(),SS.update(),document.getElementById("fl-layout-legend").style.overflow=null,t.projection=tx(),t.zoom=function(){var t=hu.zoom_on?hu.focus:{lon:null,lat:null,zoom:null},e=null!=t.lat&&null!=t.lon&&null!=t.zoom,n=!PC(t,wC);if(EC("projection",qw),EC("width",Hw),EC("height",Yw),EC("zoom_on",hu.zoom_on),EC("mode",hu.zoom_scaling_mode),(EC()||n)&&e){var r=qw([t.lon,t.lat]),o=fx.translate(Hw/2-t.zoom*r[0],Yw/2-t.zoom*r[1]).scale(t.zoom);return lC.extent([[0,0],[Hw,Yw]]).translateExtent([[0,0],[Hw,Yw]]),vC.transition().duration(n?1e3*hu.zoom_animation_duration:0).call(lC.transform,o),!0}return!1}(),(t.data||t.projection)&&fC(),dC(),hC(t,"update")}var _C,gC,vC,yC,mC=!1,bC=fx,wC=void 0,xC=1,DC=0,EC=Wy(),AC=1500;var CC,MC,kC,FC,SC,TC,zC,BC,NC,LC=1e-5;function PC(t,e){return e&&t.zoom===e.zoom&&Math.abs(t.lon-e.lon)<LC&&Math.abs(t.lat-e.lat)<LC}var OC=["bottom","top","right","left","bottomLeft","topLeft","bottomRight","topRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"],IC=Math.sin(Math.PI/4);function jC(t){return{type:"Feature",geometry:{type:"Polygon",coordinates:t}}}function RC(t,e){var n=e,r=wx();if("zoom"==n)return MC.popup.hide(),void kC.popup.hide();if("clickout"==n||!r)return MC.clickout(),void kC.clickout();var o=r.properties,i=o.source;if(CC="points"==i?kC:MC,TC=document.querySelector("#flourish-popup-"+CC.popup.unique_id+" .flourish-popup-content"),BC=zA.left,NC=zA.top,hu.sticky_hover&&"update"==n&&(n="click"),mC&&"popup"==CC.mode())CC.clickout();else{var a;FC||(CC.update([0,0]),FC=document.querySelector("#flourish-popup-"+CC.popup.unique_id+" .flourish-popup-svg g path"),TC=document.querySelector("#flourish-popup-"+CC.popup.unique_id+" .flourish-popup-content"),zC=.4*FC.getBoundingClientRect().height,CC.clickout(),SC={bottom:{x:0,y:zC},top:{x:0,y:-zC},left:{x:-zC,y:0},right:{x:zC,y:0},bottomLeft:{x:-zC,y:zC},topLeft:{x:-zC,y:-zC},bottomRight:{x:zC,y:zC},topRight:{x:zC,y:-zC}}),"points"===i?(a=function(t){var e=t.geometry,n=t.properties,r=BC+dA(e.coordinates[0]),o=NC+hA(e.coordinates[1]),i=n.radius*(n.scaling||1)*bC.k*xC,a=i*IC;return{popup_points:{bottom:{x:r,y:o-i},top:{x:r,y:o+i},left:{x:r+i,y:o},right:{x:r-i,y:o},bottomLeft:{x:r+a,y:o-a},topLeft:{x:r+a,y:o+a},bottomRight:{x:r-a,y:o-a},topRight:{x:r-a,y:o+a},middle:{x:r,y:o}}}}(r),"click"==n?MC.clickout():"mouseover"==n&&MC.mouseout()):(a=function(t,e){var n,r=jd();if("Polygon"===t.geometry.type)n=t;else if(e&&t.properties.unprojected_feature.geometry.coordinates.some((function(t){var r=jC(t);if(Of(r,qw.invert([e.x,e.y])))return n=Fp(r,qw),!0})),!e||!n){var o=0;n=t.geometry.coordinates.map(jC).reduce((function(t,e){var n=r.area(e);return n>o&&(o=n,t=e),t}),null)}var i=jd().bounds(n),a=dA(i[0][0]),u=dA(i[1][0]),l=hA(i[0][1]),c=hA(i[1][1]),s=(a+u)/2,f=(l+c)/2;return{popup_points:{bottom:{x:BC+s,y:NC+l},top:{x:BC+s,y:NC+c},left:{x:BC+u,y:NC+f},right:{x:BC+a,y:NC+f},bottomLeft:{x:BC+u,y:NC+l},topLeft:{x:BC+u,y:NC+c},bottomRight:{x:BC+a,y:NC+l},topRight:{x:BC+a,y:NC+c},middle:{x:BC+s,y:NC+f}},polygon:n}}(r,t),"click"==n?kC.clickout():"mouseover"==n&&kC.mouseout());var u=o.hide_popup_pointer,l=MC.mode(),c=!1;"both"==l?c=hu.choropleth_popup.panel_is_custom||hu.choropleth_popup.popup_is_custom:"none"!=l&&(c=hu.choropleth_popup[l+"_is_custom"]);var s,f,d={};for(var h in Xm)!c&&"value"==h&&Xm.value.length>1?d.value=[Xm[h][PS.index()]]:d[h]=Xm[h];if((!o.group||!c&&$m.length<2)&&delete d.group,MC.setColumnNames(d),kC.setColumnNames(Jm),"points"==i)(s={name:o.name,color:o.color_group,value:o.value,metadata:o.metadata||[]}).value=BS(TS.getFormatterFunction())(s.value);else{var p=o.value[PS.index()];(s={name:o.name,value:p?[p]:[],numeric_value:p?[o.numeric_value[PS.index()]]:[],group:o.group,metadata:o.metadata||[]}).numeric_value.length&&"categorical"!==hu.map_colors.scale_type&&(s.value=s.numeric_value.map((function(t){return zS(TS.getFormatterFunction())(t)})))}if("regions"==i&&c&&Xm.value.length>0&&(d.current_value="VALUE",d.current_metric="METRIC",s.current_value=s.value,s.current_metric=Xm.value[PS.index()]),!OC.some((function(t){var e=t.replace("Flexible",""),r=u?SC[e]:{x:0,y:0},o=a.popup_points[e];return"click"==n?CC.popupDirections([t]).click([o.x+r.x,o.y+r.y],s,!0):"mouseover"==n&&CC.popupDirections([t]).mouseover([o.x+r.x,o.y+r.y],s),"panel"==CC.mode()||"both"==CC.mode()&&"click"==n||((f=TC.getBoundingClientRect()).left>BC&&f.top>NC&&f.right<zA.right&&f.bottom<zA.bottom||void 0)}))){var _=a.popup_points.middle;"click"==n&&CC.popupDirections(OC.concat("bottom")).click([_.x,_.y],s,hu.sticky_hover),"mouseover"==n&&CC.popupDirections(OC.concat("bottom")).mouseover([_.x,_.y],s,hu.sticky_hover)}}}var UC=Object.freeze({input_decimal_separator:".",output_separators:",."});var qC=Object.freeze({transform_labels:!1,transform:"multiply",multiply_divide_constant:1,exponentiate_constant:0,multiplier:1,prefix:"",n_dec:2,suffix:"",strip_zeros:!0,strip_separator:!0,negative_sign:"-$nk"});function HC(t,e){var n=t.n_dec>=0?Math.floor(t.n_dec):Math.ceil(t.n_dec),r=e(",."+(n>0?n:"0")+"f"),o=e.decimal,i=e.thousands,a=t.strip_zeros&&n>0?new RegExp("\\"+o+"?0+$"):null,u=t.strip_separator&&i,l=t.negative_sign,c=function(t){var e=1;return t.transform_labels&&(e="multiply"===t.transform?t.multiply_divide_constant:"divide"===t.transform?1/t.multiply_divide_constant:Math.pow(10,t.exponentiate_constant)),function(t){return t*e}}(t);return function(e){var o=n>=0?c(e):function(t,e){if(!(e=e>0?Math.floor(e):Math.ceil(e)))return Math.round(t);var n=Math.pow(10,Math.abs(e));return e>0?Math.round(t*n)/n:Math.round(t/n)*n}(c(e),n),s=o<0,f=Math.abs(o),d=u&&i&&f>=1e3&&f<1e4,h=r(f);return a&&(h=h.replace(a,"")),d&&(h=h.replace(i,"")),s&&"none"!==l?"-$nk"===l?"-"+t.prefix+h+t.suffix:"$-nk"===l?t.prefix+"-"+h+t.suffix:"($nk)"===l?"("+t.prefix+h+t.suffix+")":t.prefix+"("+h+")"+t.suffix:t.prefix+h+t.suffix}}function YC(t){for(var e in qC)void 0===t[e]&&(t[e]=qC[e]);return function(e){return HC(t,e)}}var WC=Object.freeze({scale_type:"categorical",categorical_type:"palette",categorical_palette:["#1D6996","#EDAD08","#73AF48","#94346E","#38A6A5","#E17C05","#5F4690","#0F8554","#6F4070","#CC503E","#994E95","#666666"],categorical_extend:!0,categorical_custom_palette:"",numeric_type:"sequential",sequential_palette:"Blues",sequential_custom_min:"#FFFFFF",sequential_custom_max:"#000000",sequential_color_space:"rgb",sequential_reverse:!1,sequential_custom_domain:!1,sequential_domain_min:0,sequential_domain_max:1,diverging_palette:"RdBu",diverging_custom_min:"#67001f",diverging_custom_mid:"#f7f7f7",diverging_custom_max:"#053061",diverging_color_space:"rgb",diverging_reverse:!1,diverging_custom_domain:!1,diverging_domain_min:0,diverging_domain_mid:.5,diverging_domain_max:1,binning:!1,bin_count:4,bin_mode:"fixed",bin_thresholds:""}),GC=360/((1+Math.sqrt(5))/2),VC="#FF0000";function XC(t,e,n){return function(r,o){Array.isArray(r)||(r=r?[r]:[VC]),o=void 0!==o?o:GC;var i=r.map((function(e){return t(e)})).filter((function(t){return!isNaN(t[e])&&!isNaN(t[n])}));i.length||(i=[t(VC)]);var a,u=i.length,l=i.reduce((function(t,n){return t+n[e]}),0)/u,c=i.reduce((function(t,e){return t+e[n]}),0)/u,s=u;do{a=i[--s].h}while(isNaN(a)&&s>0);var f=0;return function(){var e=++f*o;return Bu(t((a+e)%360,l,c)).hex()}}}var $C={hcl:XC(ll,"c","l"),hsl:XC(Yu,"s","l")};function ZC(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function QC(t){return bv(t[t.length-1])}var JC=QC(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ZC)),KC=QC(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ZC)),tM=QC(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ZC)),eM=QC(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ZC)),nM=QC(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ZC)),rM=QC(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ZC)),oM=QC(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ZC)),iM=QC(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ZC)),aM=QC(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ZC)),uM=QC(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ZC)),lM=QC(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ZC)),cM=QC(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ZC)),sM=QC(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ZC)),fM=QC(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ZC)),dM=QC(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ZC)),hM=QC(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ZC)),pM=QC(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ZC)),_M=QC(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ZC)),gM=QC(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ZC)),vM=QC(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ZC)),yM=QC(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ZC)),mM=QC(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ZC)),bM=QC(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ZC)),wM=QC(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ZC)),xM=QC(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ZC)),DM=QC(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ZC)),EM=QC(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ZC)),AM=Vv(bl(300,.5,0),bl(-240,.5,1)),CM=Vv(bl(-100,.75,.35),bl(80,1.5,.8)),MM=Vv(bl(260,.75,.35),bl(80,1.5,.8));bl();function kM(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var FM=kM(ZC("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),SM=kM(ZC("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),TM=kM(ZC("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),zM=kM(ZC("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function BM(t,e,n,r){var o,i,a=e[0],u=e[e.length-1],l=[];"custom"==t.bin_mode?i=(o=t.bin_thresholds.split(";").map(parseFloat).filter((function(t){return!isNaN(t)&&(t>a&&t<u)})).sort(NM)).length+1:(i=Math.floor(t.bin_count),o=[]);var c,s=function(t,e,n){for(var r=1/e,o=[],i=0;i<e;i++){var a=i/e+r/2,u=n[0]+a*(n[n.length-1]-n[0]);o.push(u)}var l=o.map(t);return{positions:o,colors:l}}(r,i,e);(c="fixed"==t.bin_mode?cD().domain([a,u]):"quantile"==t.bin_mode?lD().domain(n):sD().domain(o)).range(s.colors),o.length||s.colors.forEach((function(t,e){e&&o.push(c.invertExtent(t)[0])})),o.forEach((function(t,e){e<o.length-1&&l.push((o[e+1]+t)/2)}));var f=function(t){return isNaN(t)?null:c(t)};return f.domain=Object.freeze(e),f.thresholds=Object.freeze(o),f.centers=Object.freeze(l),f}function NM(t,e){return t-e}function LM(t){return Array.isArray(t)?function(t,e){var n,r,o,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=o=n;++a<i;)null!=(n=t[a])&&(r>n&&(r=n),o<n&&(o=n))}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=o=n;++a<i;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),o<n&&(o=n));return[r,o]}(t):[0,1]}var PM=Object.freeze(["#efeca4","#e9e28f","#dccf64","#e3b23c","#e49547","#e37746","#dc5b36","#cb4144","#bb2244","#972545","#6a2c4f"]),OM=Object.freeze({Blues:mM,BuGn:uM,BuPu:lM,Carrots:bv(PM),Cool:MM,CubehelixDefault:AM,GnBu:cM,Greens:bM,Greys:wM,Inferno:TM,Magma:SM,Oranges:EM,OrRd:sM,Plasma:zM,PuBu:dM,PuBuGn:fM,PuRd:hM,Purples:xM,RdPu:pM,Reds:DM,Viridis:FM,Warm:CM,YlGn:gM,YlGnBu:_M,YlOrBr:vM,YlOrRd:yM}),IM={hcl:Wv,hsl:Hv,lab:Yv,rgb:yv};function jM(t,e){var n=t.sequential_custom_domain&&!t.binning?[t.sequential_domain_min,t.sequential_domain_max]:LM(e),r=QE((function(e){var n=OM[t.sequential_palette]||function(t){var e=t.sequential_color_space,n=t.sequential_custom_min,r=t.sequential_custom_max;return IM[e](n,r)}(t);return t.sequential_reverse?n(1-e):n(e)})).domain(n),o=function(t){return isNaN(t)?null:r(t)};return o.domain=Object.freeze(n),t.binning?BM(t,n,e,o):o}var RM=Object.freeze({BrBG:JC,PiYG:tM,PRGn:KC,PuOr:eM,RdBu:nM,RdGy:rM,RdYlBu:oM,RdYlGn:iM,Spectral:aM}),UM={hcl:Wv,hsl:Hv,lab:Yv,rgb:yv};function qM(t){var e=t.diverging_color_space,n=t.diverging_custom_min,r=t.diverging_custom_mid,o=t.diverging_custom_max;return function(t,e){for(var n=0,r=e.length-1,o=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(o,o=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return i[e](t-e)}}(UM[e],[n,r,o])}function HM(t,e){var n=LM(e),r=n[0]<0&&n[1]>0?0:(n[0]+n[1])/2,o=[n[0],r,n[1]];t.diverging_custom_domain&&(t.binning?o[1]=t.diverging_domain_mid:o=[t.diverging_domain_min,t.diverging_domain_mid,t.diverging_domain_max]);var i=KE((function(e){var n=RM[t.diverging_palette]||qM(t);return t.diverging_reverse?n(1-e):n(e)})).domain(o),a=function(t){return isNaN(t)?null:i(t)};return a.domain=Object.freeze(o),a.midpoint=t.diverging_custom_domain?t.diverging_domain_mid:r,t.binning?BM(t,o,e,a):a}function YM(t){var e=null;for(var n in WC)void 0===t[n]&&(t[n]=WC[n]);var r=null,o=function(t){return e&&e(t)||r};return{getColor:o,updateColorScale:function(n){return"categorical"===t.scale_type?e=function(t,e){var n={},r=Jy(e).values(),o=t.categorical_palette,i=o.length;if(t.categorical_extend){var a=WC.rotation_angle,u=$C.hcl(o,a);r.forEach((function(t,e){n[t]=e<i?o[e]:u()}))}else r.forEach((function(t,e){n[t]=o[e%i]}));t.categorical_custom_palette.split("\n").filter((function(t){return t})).forEach((function(t){var e=t.lastIndexOf(":");if(-1!==e){var r=t.slice(0,e).trim(),o=t.slice(e+1).trim();r&&o&&(n[r]=o)}}));var l=function(t){return n[t]};return l.domain=r.slice(),l.colors=r.map((function(t){return n[t]})),l.items=r.map((function(t){return{label:t,color:n[t]}})),l}(t,n):"sequential"===t.numeric_type?e=jM(t,n):"diverging"===t.numeric_type&&(e=HM(t,n)),o.thresholds=e.thresholds,o.centers=e.centers,o.midpoint=e.midpoint,o.domain=e.domain,o.colors=e.colors,o.items=e.items,this},fallback:function(t){return void 0===t?r:(r="default"===t?null:t,this)}}}function WM(){return parseFloat}function GM(){return function(t){return t.toString()}}function VM(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function XM(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $M(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var ZM,QM,JM={"-":"",_:" ",0:"0"},KM=/^\s*\d+/,tk=/^%/,ek=/[\\^$*+?|[\]().{}]/g;function nk(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function rk(t){return t.replace(ek,"\\$&")}function ok(t){return new RegExp("^(?:"+t.map(rk).join("|")+")","i")}function ik(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function ak(t,e,n){var r=KM.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function uk(t,e,n){var r=KM.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function lk(t,e,n){var r=KM.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ck(t,e,n){var r=KM.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function sk(t,e,n){var r=KM.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function fk(t,e,n){var r=KM.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function dk(t,e,n){var r=KM.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hk(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pk(t,e,n){var r=KM.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function _k(t,e,n){var r=KM.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function gk(t,e,n){var r=KM.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function vk(t,e,n){var r=KM.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function yk(t,e,n){var r=KM.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function mk(t,e,n){var r=KM.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function bk(t,e,n){var r=KM.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function wk(t,e,n){var r=KM.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function xk(t,e,n){var r=KM.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Dk(t,e,n){var r=tk.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ek(t,e,n){var r=KM.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ak(t,e,n){var r=KM.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ck(t,e){return nk(t.getDate(),e,2)}function Mk(t,e){return nk(t.getHours(),e,2)}function kk(t,e){return nk(t.getHours()%12||12,e,2)}function Fk(t,e){return nk(1+bD.count(AD(t),t),e,3)}function Sk(t,e){return nk(t.getMilliseconds(),e,3)}function Tk(t,e){return Sk(t,e)+"000"}function zk(t,e){return nk(t.getMonth()+1,e,2)}function Bk(t,e){return nk(t.getMinutes(),e,2)}function Nk(t,e){return nk(t.getSeconds(),e,2)}function Lk(t){var e=t.getDay();return 0===e?7:e}function Pk(t,e){return nk(xD.count(AD(t)-1,t),e,2)}function Ok(t){var e=t.getDay();return e>=4||0===e?ED(t):ED.ceil(t)}function Ik(t,e){return t=Ok(t),nk(ED.count(AD(t),t)+(4===AD(t).getDay()),e,2)}function jk(t){return t.getDay()}function Rk(t,e){return nk(DD.count(AD(t)-1,t),e,2)}function Uk(t,e){return nk(t.getFullYear()%100,e,2)}function qk(t,e){return nk((t=Ok(t)).getFullYear()%100,e,2)}function Hk(t,e){return nk(t.getFullYear()%1e4,e,4)}function Yk(t,e){var n=t.getDay();return nk((t=n>=4||0===n?ED(t):ED.ceil(t)).getFullYear()%1e4,e,4)}function Wk(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nk(e/60|0,"0",2)+nk(e%60,"0",2)}function Gk(t,e){return nk(t.getUTCDate(),e,2)}function Vk(t,e){return nk(t.getUTCHours(),e,2)}function Xk(t,e){return nk(t.getUTCHours()%12||12,e,2)}function $k(t,e){return nk(1+CD.count(TD(t),t),e,3)}function Zk(t,e){return nk(t.getUTCMilliseconds(),e,3)}function Qk(t,e){return Zk(t,e)+"000"}function Jk(t,e){return nk(t.getUTCMonth()+1,e,2)}function Kk(t,e){return nk(t.getUTCMinutes(),e,2)}function tF(t,e){return nk(t.getUTCSeconds(),e,2)}function eF(t){var e=t.getUTCDay();return 0===e?7:e}function nF(t,e){return nk(kD.count(TD(t)-1,t),e,2)}function rF(t){var e=t.getUTCDay();return e>=4||0===e?SD(t):SD.ceil(t)}function oF(t,e){return t=rF(t),nk(SD.count(TD(t),t)+(4===TD(t).getUTCDay()),e,2)}function iF(t){return t.getUTCDay()}function aF(t,e){return nk(FD.count(TD(t)-1,t),e,2)}function uF(t,e){return nk(t.getUTCFullYear()%100,e,2)}function lF(t,e){return nk((t=rF(t)).getUTCFullYear()%100,e,2)}function cF(t,e){return nk(t.getUTCFullYear()%1e4,e,4)}function sF(t,e){var n=t.getUTCDay();return nk((t=n>=4||0===n?SD(t):SD.ceil(t)).getUTCFullYear()%1e4,e,4)}function fF(){return"+0000"}function dF(){return"%"}function hF(t){return+t}function pF(t){return Math.floor(+t/1e3)}function _F(t){return t.toLowerCase()}!function(t){ZM=function(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,i=t.days,a=t.shortDays,u=t.months,l=t.shortMonths,c=ok(o),s=ik(o),f=ok(i),d=ik(i),h=ok(a),p=ik(a),_=ok(u),g=ik(u),v=ok(l),y=ik(l),m={a:function(t){return a[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:Ck,e:Ck,f:Tk,g:qk,G:Yk,H:Mk,I:kk,j:Fk,L:Sk,m:zk,M:Bk,p:function(t){return o[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:hF,s:pF,S:Nk,u:Lk,U:Pk,V:Ik,w:jk,W:Rk,x:null,X:null,y:Uk,Y:Hk,Z:Wk,"%":dF},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Gk,e:Gk,f:Qk,g:lF,G:sF,H:Vk,I:Xk,j:$k,L:Zk,m:Jk,M:Kk,p:function(t){return o[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:hF,s:pF,S:tF,u:eF,U:nF,V:oF,w:iF,W:aF,x:null,X:null,y:uF,Y:cF,Z:fF,"%":dF},w={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=_.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return E(t,e,n,r)},d:gk,e:gk,f:xk,g:dk,G:fk,H:yk,I:yk,j:vk,L:wk,m:_k,M:mk,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=s[r[0].toLowerCase()],n+r[0].length):-1},q:pk,Q:Ek,s:Ak,S:bk,u:uk,U:lk,V:ck,w:ak,W:sk,x:function(t,e,r){return E(t,n,e,r)},X:function(t,e,n){return E(t,r,e,n)},y:dk,Y:fk,Z:hk,"%":Dk};function x(t,e){return function(n){var r,o,i,a=[],u=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(l,u)),null!=(o=JM[r=t.charAt(++u)])?r=t.charAt(++u):o="e"===r?" ":"0",(i=e[r])&&(r=i(n,o)),a.push(r),l=u+1);return a.push(t.slice(l,u)),a.join("")}}function D(t,e){return function(n){var r,o,i=$M(1900,void 0,1);if(E(i,t,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(e&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=XM($M(i.y,0,1))).getUTCDay(),r=o>4||0===o?FD.ceil(r):FD(r),r=CD.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=VM($M(i.y,0,1))).getDay(),r=o>4||0===o?DD.ceil(r):DD(r),r=bD.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?XM($M(i.y,0,1)).getUTCDay():VM($M(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,XM(i)):VM(i)}}function E(t,e,n,r){for(var o,i,a=0,u=e.length,l=n.length;a<u;){if(r>=l)return-1;if(37===(o=e.charCodeAt(a++))){if(o=e.charAt(a++),!(i=w[o in JM?e.charAt(a++):o])||(r=i(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return m.x=x(n,m),m.X=x(r,m),m.c=x(e,m),b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),{format:function(t){var e=x(t+="",m);return e.toString=function(){return t},e},parse:function(t){var e=D(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=D(t+="",!0);return e.toString=function(){return t},e}}}(t),ZM.format,QM=ZM.parse,ZM.utcFormat,ZM.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var gF=!1;function vF(){if(!gF&&"undefined"!=typeof document){var t=function(){var t=new Iy;return t.select(".fl-controls-container").style("display","inline-block").style("line-height","1em"),t.select(".fl-controls-title").style("display","inline-block").style("margin","0px 0.5em 0px 0px"),t.select(".fl-controls-container, .fl-controls-container *").style("box-sizing","border-box"),t.select(".slider-holder").style("margin-bottom","20px"),t.select(".fl-controls-slider, .slider-play").style("pointer-events","all").style("display","inline-block").style("vertical-align","middle"),t.select(".slider-play svg").style("height","100%").style("width","100%").style("cursor"," pointer",""),t.select(".slider-play:hover").style("opacity","0.6"),t.select(".fl-control-slider").style("width","100%").style("bottom","0"),t.select(".fl-control").style("position","relative"),t.select(".fl-control.hidden").style("display","none"),t.select(".fl-control .button").style("display","inline-block").style("background","#eee").style("padding","0.5em").style("margin-right","0.25em").style("margin-bottom","0.25em").style("line-height","1em"),t.select(".fl-control.grouped:not(.hidden)").style("display","inline-table").style("table-layout","fixed").select(".button").style("display","table-cell").style("margin","0").style("text-align","center"),t.select(".fl-control .button.selected").style("background","#ddd"),t.select(".fl-control-dropdown").style("line-height","1em").select(".list").style("display","none").style("position","absolute").style("background-color","white").style("z-index","100").style("border","1px solid #eee").select(".list-item").style("cursor","pointer").style("padding","0.5rem"),t.select(".fl-control-dropdown.open .list").style("display","block"),t.select(".fl-control-dropdown .main").style("position","relative"),t.select(".fl-control-dropdown .symbol").style("float","right").select("div").style("border-top-color","#333333"),t.print()}(),e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.className="flourish-controls",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),gF=!0}}var yF,mF=function(){var t=document.createElement("canvas").getContext("2d");return function(e,n){return t.font=n||"10px sans-serif",t.measureText(e).width}}();function bF(t,e,n){var r={},o=document.body,i=Tg(n).append("div").attr("class","fl-control fl-control-dropdown"),a=i.node(),u=i.append("div").attr("class","main"),l=u.append("span").attr("class","current");u.append("span").attr("class","symbol").style("width","10px").append("div").style("border-left","5px solid transparent").style("border-right","5px solid transparent").style("border-bottom","5px solid transparent").style("border-top-style","solid").style("border-top-width","5px").style("top","50%").style("position","absolute").style("margin-top","-2.5px");var c=i.append("div").attr("class","list"),s=function(){i.classed("open",!1),c.style("right",null),c.style("max-height",null),c.style("display","none")},f=function(){i.classed("open")?s():function(){i.classed("open",!0),c.style("top","100%"),c.style("bottom",null),c.style("display",null),c.style("overflow","auto");var t=o.getBoundingClientRect(),e=c.node().getBoundingClientRect();if(e.bottom-t.bottom>0){var n=t.bottom-e.top-30;n>90?c.style("max-height",n+"px"):c.style("top","auto").style("bottom","100%")}e.right>window.innerWidth&&c.style("right",0)}()};u.on("click",(function(){f()}));var d=function(){if(i.classed("open")){for(var t=event.target,e=t.parentElement;e;){if(t===a)return;e=(t=e).parentElement}s()}},h=function(t){var r="100%";"auto"==e.dropdown_width_mode?r=Math.min(t+40,yF(20))+"px":"fixed"==e.dropdown_width_mode&&(r=yF(e.dropdown_width_fixed)+"px"),n.style.width="full"==e.dropdown_width_mode?r:"",i.style("width",r).style("display","full"!==e.dropdown_width_mode?"inline-table":null),i.select(".main").style("width",r)},p=function(){s(),i.style("display","none")};return r.appendedToDOM=function(t){return t&&(o=t),document.querySelector("body").addEventListener("click",d,!1),r},r.removedFromDOM=function(){return document.querySelector("body").removeEventListener("click",d),r},r.show=h,r.hide=p,r.update=function(n){c.text("");var o=window.getComputedStyle(i.node()).fontSize;if(!t.n_options||"dropdown"!==e.control_type)return p(),r;var a="";c.text("").selectAll(".list-item").data(n).enter().append("div").attr("class","list-item").text((function(t){return t.display.length>a.length&&(a=t.display),t.display})).on("click",(function(e){s();var n=e.options_index;n!==t.index()&&(t.index(n),l.text(e.display).attr("title",e.display),t.trigger("change"))}));var u=mF(a,o+" sans-serif"),f=n[t.getSortedIndex()].display;return l.text(f).attr("title",f),h(u),r},r}var wF=Array.prototype.slice;function xF(t){return t}var DF=1e-6;function EF(t){return"translate("+(t+.5)+",0)"}function AF(t){return"translate(0,"+(t+.5)+")"}function CF(t){return function(e){return+t(e)}}function MF(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function kF(){return!this.__axis}function FF(t,e){var n=[],r=null,o=null,i=6,a=6,u=3,l=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",s=1===t||3===t?EF:AF;function f(f){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,h=null==o?e.tickFormat?e.tickFormat.apply(e,n):xF:o,p=Math.max(i,0)+u,_=e.range(),g=+_[0]+.5,v=+_[_.length-1]+.5,y=(e.bandwidth?MF:CF)(e.copy()),m=f.selection?f.selection():f,b=m.selectAll(".domain").data([null]),w=m.selectAll(".tick").data(d,e).order(),x=w.exit(),D=w.enter().append("g").attr("class","tick"),E=w.select("line"),A=w.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(D),E=E.merge(D.append("line").attr("stroke","currentColor").attr(c+"2",l*i)),A=A.merge(D.append("text").attr("fill","currentColor").attr(c,l*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),f!==m&&(b=b.transition(f),w=w.transition(f),E=E.transition(f),A=A.transition(f),x=x.transition(f).attr("opacity",DF).attr("transform",(function(t){return isFinite(t=y(t))?s(t):this.getAttribute("transform")})),D.attr("opacity",DF).attr("transform",(function(t){var e=this.parentNode.__axis;return s(e&&isFinite(e=e(t))?e:y(t))}))),x.remove(),b.attr("d",4===t||2==t?a?"M"+l*a+","+g+"H0.5V"+v+"H"+l*a:"M0.5,"+g+"V"+v:a?"M"+g+","+l*a+"V0.5H"+v+"V"+l*a:"M"+g+",0.5H"+v),w.attr("opacity",1).attr("transform",(function(t){return s(y(t))})),E.attr(c+"2",l*i),A.attr(c,l*p).text(h),m.filter(kF).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),m.each((function(){this.__axis=y}))}return f.scale=function(t){return arguments.length?(e=t,f):e},f.ticks=function(){return n=wF.call(arguments),f},f.tickArguments=function(t){return arguments.length?(n=null==t?[]:wF.call(t),f):n.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:wF.call(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(o=t,f):o},f.tickSize=function(t){return arguments.length?(i=a=+t,f):i},f.tickSizeInner=function(t){return arguments.length?(i=+t,f):i},f.tickSizeOuter=function(t){return arguments.length?(a=+t,f):a},f.tickPadding=function(t){return arguments.length?(u=+t,f):u},f}function SF(t){return FF(3,t)}var TF=Array.prototype,zF=TF.map,BF=TF.slice;function NF(t){return+t}var LF=[0,1];function PF(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=e,function(){return n});var n}function OF(t,e,n,r){var o=t[0],i=t[1],a=e[0],u=e[1];return i<o?(o=n(i,o),a=r(u,a)):(o=n(o,i),a=r(a,u)),function(t){return a(o(t))}}function IF(t,e,n,r){var o=Math.min(t.length,e.length)-1,i=new Array(o),a=new Array(o),u=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<o;)i[u]=n(t[u],t[u+1]),a[u]=r(e[u],e[u+1]);return function(e){var n=Js(t,e,1,o)-1;return a[n](i[n](e))}}function jF(t){var e=t.domain;return t.ticks=function(t){var n=e();return of(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return function(t,e,n){var r,o=t[0],i=t[t.length-1],a=uf(o,i,null==e?10:e);switch((n=qx(null==n?",f":n)).type){case"s":var u=Math.max(Math.abs(o),Math.abs(i));return null!=n.precision||isNaN(r=Kx(a,u))||(n.precision=r),$x(n,u);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=tD(a,Math.max(Math.abs(o),Math.abs(i))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=Jx(a))||(n.precision=r-2*("%"===n.type))}return Xx(n)}(e(),t,n)},t.nice=function(n){null==n&&(n=10);var r,o=e(),i=0,a=o.length-1,u=o[i],l=o[a];return l<u&&(r=u,u=l,l=r,r=i,i=a,a=r),(r=af(u,l,n))>0?r=af(u=Math.floor(u/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=af(u=Math.ceil(u*r)/r,l=Math.floor(l*r)/r,n)),r>0?(o[i]=Math.floor(u/r)*r,o[a]=Math.ceil(l/r)*r,e(o)):r<0&&(o[i]=Math.ceil(u*r)/r,o[a]=Math.floor(l*r)/r,e(o)),t},t}function RF(){var t=function(t,e){var n,r,o,i=LF,a=LF,u=kv,l=!1;function c(){return n=Math.min(i.length,a.length)>2?IF:OF,r=o=null,s}function s(e){return(r||(r=n(i,a,l?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,u)))(+e)}return s.invert=function(t){return(o||(o=n(a,i,PF,l?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},s.domain=function(t){return arguments.length?(i=zF.call(t,NF),c()):i.slice()},s.range=function(t){return arguments.length?(a=BF.call(t),c()):a.slice()},s.rangeRound=function(t){return a=BF.call(t),u=Fv,c()},s.clamp=function(t){return arguments.length?(l=!!t,c()):l},s.interpolate=function(t){return arguments.length?(u=t,c()):u},c()}(PF,Dv);return t.copy=function(){return e=t,RF().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp());var e},jF(t)}function UF(t){this.container=Tg(t),this._width=null,this._height=null,this._handleRadius=15,this._channelHeight=5,this._channelRadius=null,this._handleFill="black",this._channelFill="#eee",this._margin={top:null,left:null,right:null},this._domain=[0,1],this._value=null,this._snap=!1,this._scale=null,this._axis=!1,this._ticks=null,this._tickFormat=null,this._tickSize=null,this._label=null,this._labelSize=18,this._startLabel=null,this._startLabelBelow=!1,this._endLabel=null,this._endLabelBelow=!1,this._startEndLabelSize=16,this.handlers={change:[]}}function qF(t){t.length>0&&"_"==t.charAt(0)&&(UF.prototype[t.substr(1)]=function(e){return void 0===e?this[t]:(this[t]=e,this)})}var HF=new UF;for(var YF in HF)qF(YF);function WF(t,e,n,r){if(void 0===n&&(n=0),void 0===r&&(r=t.length),r-n==0)return e;if(r-n==1)return t[n];if(r-n==2)return Math.abs(t[n]-e)<=Math.abs(t[n+1]-e)?t[n]:t[n+1];var o=n+Math.floor((r-n)/2),i=t[o],a=t[o-1];return a<=e&&e<=i?Math.abs(a-e)<=Math.abs(i-e)?a:i:i<=e?WF(t,e,o,r):WF(t,e,n,o)}function GF(t,e){return"boolean"==typeof t?t?Math.round(e):e:WF(t,e)}function VF(t){return new UF(t)}function XF(t,e,n){var r,o,i,a,u,l,c,s={},f=Tg(n).append("div").attr("class","fl-control fl-control-slider animatable"),d=f.append("div").attr("class","slider-play"),h=f.append("div").attr("class","fl-controls-slider"),p=null,_=function(){clearTimeout(p),p=null},g=function(e){var n=a[e];n.options_index!==t.index()&&(t.index(n.options_index),t.trigger("change"))},v=VF(h.node()).snap(!0).on("change",(function(t){var e=null!==p;e&&_(),g(t),e&&m()})),y=function(){_(),f.classed("playing",!1),d.html(r),t._isPlaying_(!1),c=!1},m=function n(){var r=t.getSortedIndex(),o=u[r],i=t.n_options-1,a=r<i?r+1:0;p=setTimeout((function(){g(a),e.slider_loop||a<i?n():y()}),o)},b=function(){f.classed("playing",!0),d.html(o),m(),t._isPlaying_(!0),c=!0};d.on("click",(function(){null===p?b():y()}));var w=function(){return f.style("display","inline-block"),function(){var t=Math.round(yF(e.slider_handle_height)/2);f.style("width",Math.round(yF(e.slider_width))+"px"),d.style("height",2*t+"px").style("width",2*t+"px").style("display",e.slider_play_button?null:"none");var n=f.node().getBoundingClientRect().width,r=d.node().getBoundingClientRect().width;h.style("width",Math.max(n-r,1)+"px").style("height",2*t+"px"),v.handleRadius(t).margin({left:t+5,right:t+yF(e.slider_margin),top:t})}(),e.slider_play_button?f.classed("animatable",!0):(y(),f.classed("animatable",!1)),i!==e.slider_handle_color&&(v.update(),i=e.slider_handle_color||"currentColor",f.select(".slider-handle").style("fill",i),r='<svg width="25px" height="30px" viewBox="0 0 25 30"> <polygon fill="'+i+'" stroke="none" points="25 15 0 30 0 0"></polygon> </svg>',o='<svg width="26px" height="30px" viewBox="0 0 26 30"> <g stroke="none" stroke-width="1" fill="'+i+'"><rect x="2" y="2" width="9" height="26"></rect> <rect x="15" y="2" width="9" height="26"></rect> </g> </svg>',d.html(p?o:r)),s},x=function(){return y(),f.style("display","none"),s};return s.show=w,s.hide=x,s.update=function(n){if(a=n,!t.n_options||"slider"!==e.control_type)return x(),s;w();var r=t.n_options,o=e.slider_loop;u=a.map((function(t,n){return 1e3*(e.slider_step_time+(o&&n===r-1?e.slider_restart_pause:0))}));var i=t.getSortedIndex(),f=a[i];return v.domain([0,r-1]).value(i).endLabel(f.display).channelHeight(Math.round(yF(e.slider_track_height))).channelFill(e.slider_background_color).update(),v.container.select("svg").attr("fill","currentColor"),(l=l||h.select("text.slider-end-labels")).style("fill",e.slider_font_color).attr("y","0").attr("dy","0.25em"),t._isPlaying_()&&!c?b():!t._isPlaying_()&&c&&y(),s},s}UF.prototype.margin=function(t){if(!t)return this._margin;for(YF in t){if(!(YF in this._margin))throw"Slider.margin: unrecognised option "+YF;this._margin[YF]=t[YF]}return this},UF.prototype.on=function(t,e){if(!(t in this.handlers))throw"Slider.on: No such event: "+t;return this.handlers[t].push(e),this},UF.prototype.fire=function(t,e){if(!(t in this.handlers))throw"Slider.fire: No such event: "+t;for(var n=this.handlers[t],r=0;r<n.length;r++)n[r].call(this,e);return this},UF.prototype.draw=function(){var t=this,e=this._width,n=this._height,r=this.container.node();if(!e){var o=r.getBoundingClientRect();if(!o||0==o.width)return this;e=o.width,n=o.height}var i,a=null==this._channelRadius?this._channelHeight/2:this._channelRadius,u=null==this._margin.left?Math.max(this._handleRadius,a):this._margin.left,l=null==this._margin.right?Math.max(this._handleRadius,a):this._margin.right,c=null==this._margin.top?Math.max(this._handleRadius,this._channelHeight/2):this._margin.top,s=e-u-l,f=s+2*a,d=1.5*this._labelSize;null!=this._label&&null==this._margin.top&&(c+=d),"http://www.w3.org/2000/svg"==r.namespaceURI?i=this.container:((i=this.container.selectAll("svg").data([{width:e,height:n}])).exit().remove(),(i=i.enter().append("svg").merge(i)).attr("width",(function(t){return t.width})).attr("height",(function(t){return t.height})));var h=i.selectAll("g.slider-container").data([{left:u,top:c,id:this._id}]);h.exit().remove(),(h=h.enter().append("g").attr("class","slider-container").merge(h)).attr("transform",(function(t){return"translate("+t.left+","+t.top+")"})).attr("id",(function(t){return t.id})),this.scale=(this._scale?this._scale():RF()).domain(this._domain).range([0,s]),null==this._value||this._value<this._domain[0]?this._value=this._domain[0]:this._value>this._domain[1]&&(this._value=this._domain[1]),this._snap&&(this._value=GF(this._snap,this._value));var p,_=[];this._axis&&(p="boolean"!=typeof this._axis?this._axis(this.scale):SF().scale(this.scale).tickPadding(6),this._ticks&&p.ticks(this._ticks),this._tickFormat&&p.tickFormat(this._tickFormat),this._tickSize?p.tickSize(this._tickSize):p.tickSize(Math.max(5,this._handleRadius-this._channelHeight-2)),_.push(p));var g,v,y,m,b=h.selectAll(".slider-axis").data(_).enter();function w(){document.removeEventListener("mouseup",w,!1),document.removeEventListener("mousemove",x,!1)}function x(t){A(t.clientX-y)}function D(){document.removeEventListener("touchend",D,!1),document.removeEventListener("touchmove",E,!1)}function E(t){1==t.touches.length&&A(t.touches[0].clientX-y)}function A(e){var n=m+e,r=Math.max(0,Math.min(s,n)),o=t.scale.invert(r);t._snap&&(o=GF(t._snap,o)),v.attr("cx",t.scale(o)),o!=t._value&&(t._value=o,t.fire("change",t._value))}b.append("g").attr("class","slider-axis").attr("transform","translate(0,"+this._channelHeight/2+")").each((function(t){t(Tg(this))})),b.select(".domain").attr("fill","none"),b.selectAll(".tick line").attr("stroke","black"),b.exit().remove(),(g=h.selectAll(".slider-channel").data([{width:f,height:this._channelHeight,channel_r:a}])).exit().remove(),(g=g.enter().append("rect").attr("class","slider-channel").attr("cursor","pointer").on("click",(function(){var e=Math.max(0,Math.min(s,Ng(this)[0]));t._value=t.scale.invert(e),t._snap&&(t._value=GF(t._snap,t._value)),v.attr("cx",t.scale(t._value)),t.fire("change",t._value)})).merge(g)).attr("width",(function(t){return t.width})).attr("fill",this._channelFill).attr("height",(function(t){return t.height})).attr("y",(function(t){return-t.height/2})).attr("x",(function(t){return-t.channel_r})).attr("rx",(function(t){return t.channel_r})),(v=(v=h.selectAll(".slider-handle").data([{v:this._value,x:this.scale(this._value)}])).enter().append("circle").attr("class","slider-handle").attr("cursor","col-resize").merge(v)).attr("cx",(function(t){return t.x})).attr("r",this._handleRadius).attr("fill",this._handleFill).on("mousedown",(function(){mg.preventDefault(),function(e){document.addEventListener("mouseup",w,!1),document.addEventListener("mousemove",x,!1),y=e.clientX,m=t.scale(t._value)}(mg)})).on("touchstart",(function(){mg.preventDefault(),function(e){1==e.touches.length&&(document.addEventListener("touchend",D,!1),document.addEventListener("touchmove",E,!1),y=e.touches[0].clientX,m=t.scale(t._value))}(mg)}));var C=[];this._label&&C.push({label:this._label,x:s/2,y:-d,font_size:this._labelSize});var M=h.selectAll(".slider-label").data(C);M.exit().remove(),(M=M.enter().append("text").attr("class","slider-label").attr("text-anchor","middle").attr("cursor","default").merge(M)).text((function(t){return t.label})).attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y})).attr("font-size",this._labelSize);var k=[];this._startLabel&&k.push({label:this._startLabel,x:this._startLabelBelow?0:-(a+5+Math.max(0,this._handleRadius-a)),y:this._startLabelBelow?a+15:this._startEndLabelSize/1.75-a/2,anchor:this._startLabelBelow?"middle":"end",font_size:this._startEndLabelSize}),this._endLabel&&k.push({label:this._endLabel,x:this._endLabelBelow?s:s+(a+Math.max(0,this._handleRadius-a)+5),y:this._startLabelBelow?a+15:this._startEndLabelSize/1.75-a/2,anchor:this._endLabelBelow?"middle":"start",font_size:this._startEndLabelSize});var F=h.selectAll(".slider-end-labels").data(k);return F.exit().remove(),(F=F.enter().append("text").attr("class","slider-end-labels").attr("pointer-events","none").merge(F)).text((function(t){return t.label})).attr("font-size",(function(t){return t.font_size})).attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y})).attr("text-anchor",(function(t){return t.anchor})),this},UF.prototype.update=UF.prototype.draw,VF.version="1.4.2";var $F=Object.freeze({control_type:"dropdown",control_title:"",dropdown_width_mode:"auto",dropdown_width_fixed:20,button_group:!0,button_group_width_mode:"fixed",button_group_width_fixed:20,slider_width:15,slider_handle_color:null,slider_font_color:null,slider_background_color:"#dddddd",slider_handle_height:1,slider_track_height:.2,slider_margin:4.5,slider_play_button:!0,slider_step_time:2,slider_loop:!0,slider_restart_pause:0,sort:"unsorted",sort_temporal_format:"%Y",_index_:null,_is_playing_:!1});function ZF(){return this.declarations=[],this}function QF(t){return this.selector=t,this.styles=[],this}ZF.prototype.select=function(t){if(!t)return this;var e=new QF(t,this);return e.parent=this,this.addDeclaration(e),e},ZF.prototype.addDeclaration=function(t){return this.declarations.push(t),this},ZF.prototype.print=function(){var t="";return this.declarations.forEach((function(e){t+=e.selector+" {\n",e.styles.forEach((function(e){t+="\t"+e[0]+": "+e[1]+";\n"})),t+="}\n\n"})),t},ZF.prototype.clear=function(){return this.declarations=[],this},QF.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this},QF.prototype.select=function(t){return this.parent.select(this.selector+" "+t)};var JF=Object.freeze({font_size:1,font_weight:"bold",padding:.4});function KF(t,e,n){for(var r in this._state=t,JF)void 0===this._state[r]&&(this._state[r]=JF[r]);return this._layout=n||{},this._styles=new ZF,this._selector=e,this._createStylesheet(),this}KF.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-controls",document.head.appendChild(this._stylesheet)},KF.prototype.update=function(){this._styles.clear(),this._styles.select(this._selector+".hidden").style("display","none"),this._styles.select(this._selector).style("vertical-align","middle").style("position","relative").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(".fl-controls-title").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight).style("vertical-align","middle"),this._styles.select(this._selector+".fl-control .button").style("padding",this._state.padding+"rem "+2*this._state.padding+"rem"),this._styles.select(this._selector+" .list-item").style("padding",Math.max(this._state.padding,.5)+"rem"),this._styles.select(this._selector+"-dropdown .main").style("padding",this._state.padding+"rem "+1.5*this._state.padding+"rem"),this._styles.select(this._selector+"-slider .slider-end-labels").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(this._selector+"-slider").style("padding",this._state.padding+"rem 0"),this._stylesheet.innerHTML=this._styles.print()};var tS=Object.freeze({background:null,font_color:null,background_selected:"#2886b2",font_color_selected:"#ffffff",background_hover:null,font_color_hover:null,border_width:1,border_transparency:.25,border_color:null,border_radius:3});function eS(t,e,n){for(var r in this._state=t,tS)void 0===this._state[r]&&(this._state[r]=tS[r]);return this._layout=n||{},this._styles=new ZF,this._selector=e,this._createStylesheet(),this}eS.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-button",document.head.appendChild(this._stylesheet)},eS.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=Bl(this._state.border_color||e,this._state.border_transparency);this._styles.select(this._selector+".fl-control.hidden").style("display","none"),this._styles.select(this._selector+".fl-control .button").style("overflow","hidden").style("white-space","nowrap").style("box-sizing","content-box").style("margin","0 2px 0 0 !important").style("background-color",t).style("color",e).style("border",this._state.border_width+"px solid "+n).style("border-radius",this._state.border_radius+"px"),this._styles.select(this._selector+".fl-control .button:hover").style("background-color",this._state.background_hover||t).style("color",this._state.font_color_hover||e),this._styles.select(this._selector+".fl-control .button.selected").style("background-color",this._state.background_selected).style("color",this._state.font_color_selected),this._styles.select(this._selector+".grouped.fl-control .button").style("border-right","none").style("border-radius","0").style("margin","0"),this._styles.select(this._selector+".grouped.fl-control .button:first-child").style("border-radius",this._state.border_radius+"px 0 0 "+this._state.border_radius+"px"),this._styles.select(this._selector+".grouped.fl-control .button:last-child").style("border-radius","0 "+this._state.border_radius+"px "+this._state.border_radius+"px 0").style("border-right",this._state.border_width+"px solid "+n),this._styles.select(this._selector+".grouped.fl-control.fixed-width:not(.hidden)").style("width",this._state.grouped_width+"%"),this._stylesheet.innerHTML=this._styles.print()};var nS=Object.freeze({background:null,font_color:null,border_style:"bottom",border_width:1,border_color:null,border_transparency:.25,border_radius:3});function rS(t,e,n){for(var r in this._state=t,nS)void 0===this._state[r]&&(this._state[r]=nS[r]);return this._layout=n||{},this._styles=new ZF,this._selector=e,this._createStylesheet(),this}rS.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-dropdown",document.head.appendChild(this._stylesheet)},rS.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=Bl(this._state.border_color||e,this._state.border_transparency);this._styles.select(this._selector+" .heading").style("margin-bottom","0.4em"),this._styles.select(this._selector).style("pointer-events","all"),this._styles.select(this._selector+" .main").style("display","inline-block").style("cursor","pointer").style("overflow","hidden").style("white-space","nowrap").style("position","relative").style("background-color",t).style("color",e).style("border","bottom"==this._state.border_style?this._state.border_width+"px solid transparent":this._state.border_width+"px solid "+n).style("border-bottom","bottom"==this._state.border_style?this._state.border_width+"px solid "+n:null).style("border-radius","bottom"==this._state.border_style?null:this._state.border_radius+"px"),this._styles.select(this._selector+" .main .symbol").style("float","right").select("div").style("border-top-color",e+" !important"),this._styles.select(this._selector+" .main .current").style("line-height","1em").style("height","100%").style("max-width","88%").style("display","inline-block").style("overflow","hidden").style("vertical-align","top"),this._styles.select(this._selector+" .list").style("top","2px").style("min-width","100%").style("padding","2px").style("display","none").style("max-height","200px").style("overflow-y","auto").style("box-shadow","0 1px 4px rgba(0, 0, 0, .1)").style("margin-top","2px").select(".list-item").style("line-height","1em").style("cursor","pointer").style("font-weight","normal").style("color",e),this._styles.select(this._selector+".open .list").style("display","block").style("border",this._state.border_width+"px solid "+n).style("background-color",t).style("z-index","1").style("animation","dropdown-out 200ms"),this._styles.select(this._selector+" .list-item:hover").style("opacity","0.6"),this._styles.select(this._selector+" .list-item.selected, "+this._selector+" .list-item.selected:hover").style("opacity","1").style("cursor","default"),"bottom"==this._state.border_style&&this._styles.select(this._selector+" .main").style("padding-left",0).style("padding-right","0.1rem"),this._stylesheet.innerHTML=this._styles.print()};var oS={solid:[],short:[.5,.5],long:[1,.5],mixed:[1,.5,.5,.5]};function iS(t,e){return function(n,r){return void 0!==r[t]?r[t]:void 0!==n[t]?n[t]:e}}function aS(t,e){var n,r,i,a,u,l,c,s;e=e||{},t.lineJoin="round";var f,d,h,p,_,g,v,y=(f=jd().context(t).pointRadius((function(){return(void 0!==n.radius?n.radius:1)*c*xC})),function(e,r,o){if(r||o){var i=n.path;i?(r&&t.fill(i),o&&t.stroke(i)):(t.beginPath(),f(e),r&&t.fill(),o&&t.stroke())}}),m=void 0===e.display||e.display,b=void 0!==e.fill_opacity?e.fill_opacity:1,w=void 0!==e.stroke_width?e.stroke_width:1,x=void 0!==e.stroke_opacity?e.stroke_opacity:1,D=e.scaling||1,E=e.stroke_dash||"solid",A=function(e,n){if(!e)return null;if("object"!==o(e))return e;var r=void 0===e.scale||e.scale?D:1,i=(void 0!==e.opacity?e.opacity:1)*n,a={first_color:sA(e.first_color||"#dddddd",i),second_color:sA(e.second_color||"#eeeeee",i),square_size:r*(e.square_size||5)};return function(t,e){var n=Math.max(e.square_size,1),r=2*n,o=document.createElement("canvas");o.width=r,o.height=r;var i=o.getContext("2d");return i.fillStyle=e.first_color,i.strokeStyle=e.first_color,i.fillRect(0,0,n,n),i.strokeRect(0,0,n,n),i.fillRect(n,n,n,n),i.strokeRect(n,n,n,n),i.fillStyle=e.second_color,i.strokeStyle=e.second_color,i.fillRect(0,n,n,n),i.strokeRect(0,n,n,n),i.fillRect(n,0,n,n),i.strokeRect(n,0,n,n),t.createPattern(o,"repeat")}(t,a)},C=A(e.fill_color,b),M=A(e.stroke_color,x),k=iS("display",m),F=iS("fill_color",C),S=iS("fill_opacity",b),T=iS("stroke_color",M),z=iS("stroke_opacity",x),B=iS("stroke_width",w),N=iS("scaling",D),L=iS("stroke_dash",E),P=function(){d===r&&h===i||(d=r,h=i,t.fillStyle="string"==typeof d?sA(d,h):d)},O=function(){p===a&&_===u||(p=a,_=u,t.strokeStyle=sA(p,_)),g!==l&&(g=l,t.lineWidth=g),v!==s&&(v=s,t.setLineDash(oS[v].map((function(t){return t*c}))))};return function(t,e){if(n=t.properties||{},k(n,e=e||{})){r=F(n,e),i=S(n,e),a=T(n,e),u=z(n,e),c=N(n,e),s=L(n,e),l=Math.max(e.min_stroke_width||0,c*B(n,e))*xC;var o=!(!r||!i),f=!!(a&&l&&u);o&&P(),f&&O(),y(t,o,f)}}}function uS(t){if(t.appendChild(this._container.node()),!document.querySelector("#legend-styles")){var e=document.createElement("style");e.id="legend-styles",e.type="text/css",e.innerHTML=".fl-legend-container.interactive .fl-legend-item:hover { opacity: 0.75; cursor: pointer; }",document.head.appendChild(e)}return this}function lS(t){return this._formatFunction=t,this}function cS(){return this._container}function sS(t){return void 0===t?this._visible:(this._visible=t,this)}function fS(t){return void 0===t?this._auto_title:(this._auto_title=t,this)}function dS(){var t=this,e="auto"==t._state.title_mode?t.autoTitle():t._state.title;this._container.select(".fl-legend-title").text(e).style("display",(function(){return e.trim()?void 0===t._state.orientation||"horizontal"==t._state.orientation?"inline-block":"block":"none"})).style("font-weight",this._state.title_weight).style("color",this._state.text_color).style("vertical-align","middle").style("font-size",this._state.text_size+"rem").style("line-height","1.25rem").style("margin-top",0).style("margin-bottom",0).style("margin-right",this._state.text_size+"rem")}var hS=0,pS=Object.freeze({show_legend:!0,title_mode:"auto",title:"",title_weight:"bold",swatch_width:.75,swatch_height:1,swatch_radius:3,order_override:"",orientation:"horizontal",text_color:null,text_size:1,text_weight:"normal"});function _S(t){for(var e in this._state=t,pS)void 0===this._state[e]&&(this._state[e]=pS[e]);return this._colorFunction=void 0,this._formatFunction=void 0,this._legend_items=[],this._filtered_items=[],this._eventListeners=[],this._id="fl-legend-discrete-color-"+hS,this._visible=!0,this._auto_title="",this._container=Tg(document.createElement("div")).attr("class","fl-legend-container").attr("id",this._id),this._container.append("p").attr("class","fl-legend-title"),hS++,this}function gS(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}function vS(t){var e=Math.floor(function(t){return Math.log(t)/Math.LN10}(t)),n=t/Math.pow(10,e),r=Math.floor(n)*Math.pow(10,e);return e<0&&(r=parseFloat(r.toFixed(-e))),r}_S.prototype.appendTo=uS,_S.prototype.format=lS,_S.prototype.getContainer=cS,_S.prototype.visible=sS,_S.prototype.autoTitle=fS,_S.prototype._updateTitle=dS,_S.prototype.data=function(t,e){return this._colorFunction=e,t||e?(e?Array.isArray(t)?this._legend_items=t.slice().map((function(t,n){var r="object"==o(t)?t.label||"":t;return r?{label:r,color:e(r,n),index:n}:null})).filter((function(t){return null!==t})):this._legend_items=[]:this._legend_items=Array.isArray(t)?t.slice():[],this):this._legend_items.slice()},_S.prototype.filtered=function(t){return t?(this._filtered_items=Array.isArray(t)?t.slice():[],this):this._filtered_items.slice()},_S.prototype.on=function(t,e){return this._container?(e&&this._eventListeners.indexOf(t)<0?this._eventListeners.push(t):e||this._eventListeners.splice(this._eventListeners.indexOf[t],1),this._container.classed("interactive",this._eventListeners.length>0),e?this._container.on(t,(function(){var t=mg.target,n=t.parentNode,r=t.classList.contains("fl-legend-item")?t:n.classList.contains("fl-legend-item")?n:null;if(r){var o=Tg(r).datum();e.call(r,o,o.index)}})):this._container.on(t,null),this):this},_S.prototype.update=function(){var t=this._state.show_legend&&this._visible&&this._legend_items.length>0;return this._container.style("display",t?"":"none"),t?(this._updateTitle(),this._updateLegend(),this):this},_S.prototype._updateLegend=function(){var t,e=this,n=this._formatFunction;this._container.style("line-height","1.25rem").style("display","inline-flex").style("flex-wrap","wrap").style("align-items","horizontal"==this._state.orientation?"center":"start").style("flex-direction","horizontal"==this._state.orientation?null:"column"),t=this._state.order_override.trim()?function(t,e){for(var n={},r=e.split(/\s*\n\s*/),o=0;o<r.length;o++)n[r[o]]=o;for(var i=[],a=0;a<t.length;a++){var u=t[a],l=n[u.label];void 0!==l&&(i[l]=u)}return i.filter((function(t){return void 0!==t}))}(this._legend_items,this._state.order_override):this._legend_items;var r=this._container.selectAll(".fl-legend-item").data(t),o=r.enter().append("div").attr("class","fl-legend-item");o.append("div").attr("class","fl-legend-swatch"),o.append("p").attr("class","fl-legend-label");var i=r.merge(o);return i.style("display","horizontal"==this._state.orientation?"inline-block":"block").style("opacity",(function(t){return e._filtered_items.indexOf(t.label)>-1?.2:""})).style("line-height","0").style("vertical-align","middle").style("margin-right","horizontal"==this._state.orientation?.5*this._state.text_size+"rem":""),i.select(".fl-legend-swatch").style("height",this._state.swatch_height+"rem").style("width",this._state.swatch_width+"rem").style("margin-right",.25*this._state.text_size+"rem").style("border-radius",this._state.swatch_radius+"px").style("background-color",(function(t){return t.color})).style("vertical-align","middle").style("display","inline-block"),i.select(".fl-legend-label").style("font-size",this._state.text_size+"rem").style("color",this._state.text_color).text((function(t){return n?n(t.label):t.label})).style("margin",0).style("vertical-align","middle").style("user-select","none").style("line-height","1.25rem").style("font-weight",this._state.text_weight).style("display","inline-block"),r.exit().remove(),this._legend_item_els=i,this};var yS=0,mS=window.devicePixelRatio||1,bS=Object.freeze({show_legend:!0,title_mode:"auto",title:"",title_weight:"bold",color_band_width:8,color_band_height:1,color_band_radius:3,binned_label_mode:"thresholds",binned_label_custom:"",legend_min:null,legend_max:null,text_color:null,text_size:1,text_weight:"normal"});function wS(t){for(var e in this._state=t,bS)void 0===this._state[e]&&(this._state[e]=bS[e]);return this._colorFunction=void 0,this._formatFunction=void 0,this._legend_domain=[],this._id="fl-legend-continuous-color-"+yS,this._visible=!0,this._marker_value=null,this._auto_title="",this._container=Tg(document.createElement("div")).attr("class","fl-legend-container").attr("id",this._id).style("display","none"),this._container.append("p").classed("fl-legend-title",!0),this._container.append("div").classed("min label",!0),this._container.append("div").classed("color-range-container",!0),this._container.select(".color-range-container").append("canvas").classed("color-range",!0),this._container.select(".color-range-container").append("canvas").classed("color-range-labels",!0),this._container.append("div").classed("max label",!0),yS++,this}function xS(t){var e=-1/0,n=1/0;for(var r in t)e=Math.max(e,t[r]),n=Math.min(n,t[r]);return function(t){return t>=n&&t<=e}}wS.prototype.appendTo=uS,wS.prototype.format=lS,wS.prototype.getContainer=cS,wS.prototype.visible=sS,wS.prototype.autoTitle=fS,wS.prototype._updateTitle=dS,wS.prototype.data=function(t,e){if(!t&&!e)return this._legend_domain.slice();var n=Array.isArray(t)?t.slice():[];return this._legend_domain=function(t,e){var n=t.sort(Zs),r=n[0],o=n[n.length-1],i=n.length>2?n[1]:null;null===e.legend_min&&null===e.legend_max||(null!==e.legend_min&&null!==e.legend_max?e.legend_min<e.legend_max&&(r=e.legend_min,o=e.legend_max):null!==e.legend_min?o<(r=e.legend_min)&&(o=r+2):r>(o=e.legend_max)&&(r=o-2)),null!==i&&(r>i||o<i)&&(i=null);var a=[r];return null!==i&&a.push(i),a.push(o),a.min=r,a.max=o,a.mid=i,a}(n,this._state),this._colorFunction=e,this},wS.prototype.markerValue=function(t){return void 0===t?this._marker_value:(this._marker_value=t,this)},wS.prototype.update=function(){var t=this._state.show_legend&&this._visible&&this._legend_domain.length>0;return this._container.style("display",t?"":"none"),t?(this._updateTitle(),this._updateLegend(),this):this},wS.prototype._updateLegend=function(){var t=this._legend_domain;this._scale_type="continuous",this._colorFunction.thresholds?this._scale_type="binned":t.length>2&&(this._scale_type="diverging");var e=this._state,n=gS(e.color_band_width),r=gS(e.color_band_height),o=Math.ceil(.95*gS(e.text_size)),i=n;this._container.style("display","inline-flex").style("align-items","center"),this._container.select(".color-range-container").style("display","inline-block");var a=this._container.select(".color-range").attr("width",n*mS).attr("height",r*mS).style("border-radius",e.color_band_radius+"px").style("width",n+"px").style("height",r+"px").style("display","block");this._container.select(".color-range-labels").attr("width",i*mS).attr("height",o*mS).style("width",i+"px").style("height",o+"px").style("display","continuous"==this._scale_type?"none":"block").style("margin-top",.25*e.text_size+"rem").node().getContext("2d").scale(mS,mS);var u=a.node().getContext("2d");function l(e){return t.min+e/n*(t.max-t.min)}u.scale(mS,mS);for(var c=0;c<n;c++)u.fillStyle=this._colorFunction(l(c)),u.fillRect(c,0,1,r);if(null!==this._marker_value){var s=nD().domain([t.min,t.max]).range([0,n])(this.markerValue()),f=r;u.save(),u.strokeStyle="#FFFFFF",u.lineWidth=3,u.beginPath(),u.moveTo(s,0),u.lineTo(s,f),u.stroke(),u.strokeStyle="#000000",u.lineWidth=1,u.beginPath(),u.moveTo(s,0),u.lineTo(s,f),u.stroke(),u.restore()}this._updateLegendLabels()},wS.prototype._updateLegendLabels=function(){var t=this._container.select(".color-range-labels"),e=this._formatFunction,n=this._legend_domain,r=this._state;this._container.select(".min.label").style("display","continuous"==this._scale_type?"inline-block":"none").style("vertical-align","middle").style("user-select","none").style("margin-right",.5*r.text_size+"rem").style("font-size",r.text_size+"rem").style("font-weight",r.text_weight).style("line-height","1.25rem").style("color",r.text_color).text((function(){return e?e(n.min):n.min})),this._container.select(".max.label").style("display","continuous"==this._scale_type?"inline-block":"none").style("vertical-align","middle").style("user-select","none").style("margin-left",.5*r.text_size+"rem").style("font-size",r.text_size+"rem").style("font-weight",r.text_weight).style("line-height","1.25rem").style("color",r.text_color).text((function(){return e?e(n.max):n.max}));var o,i,a,u,l=[],c=0,s=0;if("diverging"===this._scale_type?l=this._getDivergingLabels():"binned"===this._scale_type&&(l=this._getBinnedLabels()),l.length){var f=window.template||void 0,d=f?f.state.layout:void 0,h=d?d.body_font.name:window.getComputedStyle(document.body).fontFamily,p=r.text_color||f&&d&&d.font_color||"#333333",_=t.node().getContext("2d");_.textAlign="center",_.textBaseline="top",_.fillStyle=p,_.font=r.text_weight+" "+gS(r.text_size)+"px "+h;var g=(o=[],i=gS(r.color_band_width),a=xS([0,i]),u=nD().domain([n.min,n.max]).range([0,i]),function(t){var n=u(t);if(a(n)){for(var r=e?e(t):t,l=_.measureText(r).width/2+1,f=n-l,d=n+l,h=0,p=o.length,g=0;g<p&&n>o[g].center;g++)h++;var v=0===h,y=h===p;if((v||!(o[h-1].right>f))&&(y||!(o[h].left<d)))return v&&(c=Math.abs(Math.min(0,f))),y&&(s=Math.max(0,d-i)),o.splice(h,0,{left:f,center:n,right:d}),{text:r,position:n}}}),v=l.map((function(t){return g(t)})),y=gS(r.color_band_width)+c+s;t.attr("width",y*mS).style("width",y+"px"),Tg(".color-range").style("margin-left",c+"px"),_.scale(mS,mS),_.textAlign="center",_.textBaseline="top",_.fillStyle=p,_.font=r.text_weight+" "+gS(r.text_size)+"px "+h,v.forEach((function(t){t&&_.fillText(t.text,t.position+c,0)}))}},wS.prototype._getDivergingLabels=function(){var t=this._legend_domain,e=xS(t),n=[];return e(t.min)&&n.push(t.min),e(t.mid)&&n.push(t.mid),e(t.max)&&n.push(t.max),n},wS.prototype._getBinnedLabels=function(){var t,e=this._state,n=this._legend_domain,r=xS(n);if("thresholds"===e.binned_label_mode)t=this._colorFunction.thresholds.slice().filter(r),n.min<t[0]&&t.unshift(n.min),n.max>t[t.length-n.length-1]&&t.unshift(n.max);else if("centers"===e.binned_label_mode)if((t=this._colorFunction.centers.slice().filter(r)).length){var o=this._colorFunction.thresholds,i=o[0],a=o[o.length-1];i>n.min&&t.unshift((n.min+i)/2),a<n.max&&t.unshift((a+n.max)/2)}else t.push((n.min+n.max)/2);else t=e.binned_label_custom.split(";").map(parseFloat);return t};var DS=0,ES=Object.freeze({show_legend:!0,title_mode:"auto",title:"",title_weight:"bold",clip_height:1,small_circle_size:.5,shape_fill:"#eeeeee",shape_stroke:"#555555",text_color:null,text_size:1,text_weight:"normal"});function AS(t){for(var e in this._state=t,ES)void 0===this._state[e]&&(this._state[e]=ES[e]);return this._scaleFunction=void 0,this._formatFunction=void 0,this._id="fl-legend-continuous-size-"+DS,this._visible=!0,this._auto_title="",this._container=Tg(document.createElement("div")).attr("class","fl-legend-container").attr("id",this._id).style("display","none").style("align-items","center"),this._container.append("p").attr("class","fl-legend-title"),this._container.append("div").classed("min label",!0),this._container.append("canvas").classed("min circle",!0),this._container.append("canvas").classed("max circle",!0),this._container.append("div").classed("max label",!0),DS++,this}function CS(t){return new _S(t)}AS.prototype.appendTo=uS,AS.prototype.format=lS,AS.prototype.autoTitle=fS,AS.prototype._updateTitle=dS,AS.prototype.getContainer=cS,AS.prototype.visible=sS,AS.prototype.scale=function(t){return void 0===t?this._scaleFunction:(this._scaleFunction=t,this)},AS.prototype.update=function(){var t=this._state.show_legend&&this._visible,e=Math.ceil(gS(this._state.clip_height));return this._container.style("display",t?"inline-flex":"none").style("align-items","center").style("min-height",e+"px"),t&&this._scaleFunction?(0!==this._scaleFunction.domain()[0]&&console.warn("Non zero domain[0] in ContinuousSizeLegend"),0!==this._scaleFunction.range()[0]&&console.warn("Non zero range[0] in ContinuousSizeLegend"),this._updateTitle(),this._updateLegend(),this):this},AS.prototype._updateLegend=function(){var t=this._scaleFunction.domain(),e=this._scaleFunction.range(),n=this._formatFunction,r=this._state,o=gS(r.clip_height);o=Math.ceil(Math.min(o,2*e[1]));var i=window.devicePixelRatio||1,a=r.shape_fill,u=r.shape_stroke,l=this._scaleFunction.invert(o/2),c=vS(l=Math.min(l,t[1]))||0,s=c*r.small_circle_size,f=this._scaleFunction(s),d=Math.ceil(2*f)+2,h=this._container.select(".min.circle").style("width",d+"px").style("height",o+"px").attr("width",d*i).attr("height",o*i).style("margin-right","0.05rem");this._container.select(".min.label").style("vertical-align","middle").style("user-select","none").style("margin-right","0.2rem").style("font-size",r.text_size+"rem").style("font-weight",this._state.text_weight).style("color",r.text_color).text((function(){return n?n(s):s}));var p=h.node().getContext("2d");p.scale(i,i),p.fillStyle=a,p.clearRect(0,0,2*f,2*f),p.beginPath(),p.fillStyle=u,p.arc(.5*d,.5*o,f,0,2*Math.PI),p.fill(),p.beginPath(),p.fillStyle=a,p.arc(.5*d,.5*o,Math.max(f-1,0),0,2*Math.PI),p.fill();var _=this._scaleFunction(c),g=Math.ceil(2*_)+2,v=this._container.select(".max.circle").style("width",g+"px").style("height",o+"px").attr("width",g*i).attr("height",o*i).style("margin-left","0.05rem");this._container.select(".max.label").style("vertical-align","middle").style("user-select","none").style("margin-left","0.2rem").style("font-size",r.text_size+"rem").style("color",r.text_color).style("font-weight",this._state.text_weight).text((function(){return n?n(c):c}));var y=v.node().getContext("2d");y.scale(i,i),y.clearRect(0,0,2*_,2*_),y.beginPath(),y.fillStyle=u,y.arc(.5*g,.5*o,_,0,2*Math.PI),y.fill(),y.beginPath(),y.fillStyle=a,y.arc(.5*g,.5*o,Math.max(_-1,0),0,2*Math.PI),y.fill()};var MS=function(t){for(var e in Yl=t,Ul)void 0===Yl[e]&&(Yl[e]=Ul[e]);return(du=document.createElement("style")).id="flourish-page-styles",du.type="text/css",document.head.appendChild(du),Xl.wrapper=function(){var t=document.createElement("div");t.id="fl-layout-wrapper-outer",t.style.display="flex";var e=document.createElement("main");e.id="fl-layout-wrapper",e.style.display="flex",e.style.flexGrow="1",e.style.flexDirection="column",e.style.boxSizing="border-box",e.style.overflow="hidden";var n=document.createElement("aside");return n.id="fl-layout-sidebar",n.style.position="relative",Xl.sidebar=n,t.appendChild(e),t.appendChild(n),document.body.appendChild(t),e}(),Vl.forEach((function(t,e){Xl[t]=Ql(t,e)})),tc("header").appendChild(function(){(Dl=document.createElement("header")).className="flourish-header";var t=document.createElement("hgroup");return El=document.createElement("h1"),Al=document.createElement("h2"),Cl=document.createElement("p"),Ml=document.createElement("img"),Dl.appendChild(Ml),Dl.appendChild(t),t.appendChild(El),t.appendChild(Al),Dl.appendChild(Cl),Dl}()),tc("footer").appendChild(Pl()),Xl.primary.outer.style.overflow="hidden",function(){var t=Xl.primary.outer;t.style.position="relative",(Gl=document.createElement("div")).id="fl-layout-overlay";var e=Gl.style;e.position="absolute",e.display="none",e.width="100%",e.height="100%",e.top=0,e.left=0,e.backgroundColor="rgb(200,200,200)",e.zIndex=999999,e.pointerEvents="none";var n=document.createElement("p");n.className="fl-layout-overlay-message",(e=n.style).color="#333333",e.fontSize="1.5rem",e.paddingLeft="15%",e.paddingRight="15%",e.width="100%",e.boxSizing="border-box",e.position="absolute",e.top="50%",e.transform="translate(0, -50%)",e.margin="0",e.textAlign="center",Gl.appendChild(n),t.appendChild(Gl)}(),Rl(!0),{update:Rl,getWrapper:Jl,getSidebar:Kl,getSection:tc,getOuterWidth:ec,getInnerWidth:nc,getOuterHeight:rc,getInnerHeight:oc,getPrimaryHeight:ic,getPrimaryWidth:ac,getDefaultPrimaryHeight:lc,setHeight:fc,setLegendPosition:dc,showOverlay:hc,remToPx:Wl,getOverlay:pc}}(hu.layout);MC=Yy(hu.choropleth_popup).titleKey("name").onPanelClose((function(){hu.sticky_hover=!1,WA(null)})),kC=Yy(hu.point_popup).titleKey("name").subtitleKey("color").onPanelClose((function(){hu.sticky_hover=!1,WA(null)}));var kS,FS,SS=function(t,e){var n;t||(t=document.body),e||(e={});var r={reload_enabled:!1,reload_time:60,message_font_size:.85,message_prefix:"Refreshing in ",message_suffix:" seconds",message_show:!0,message_color:"#777777",message_interaction:"Paused during interaction",progress_show:!0,progress_height:.25,progress_width:2,progress_color:"#dddddd",progress_color_inner:"#999999",interaction_pause_duration:2};for(var o in r)e.hasOwnProperty[o]||(e[o]=r[o]);var i=document.createElement("div");i.className="flourish-reloader",t.appendChild(i);var a={};a.container=i;var u=Flourish.environment,l="live"===u;l&&window.location.search.match(/environment=story_player/)&&(l=!1);var c=l||"editor"===u||"sdk"===u,s=document.createElement("div");s.id="flourish-reloader-message",i.appendChild(s);var f=document.createElement("div");f.id="flourish-reloader-progress",f.style.marginRight="0.5em",f.style.borderRadius="0.33em",f.style.overflow="hidden",i.appendChild(f);var d=document.createElement("div");d.style.height="100%",d.style.width="0%",f.appendChild(d);var h,p,_=!1;return document.body.addEventListener("mousemove",(function(){h&&clearTimeout(h),_=!0,h=setTimeout((function(){_=!1}),1e3*e.interaction_pause_duration)})),a.update=function(){var t=e.reload_enabled&&c;function r(t,n){var r=Math.round(e.reload_time*(1-t));s.innerHTML=e.message_show?n||e.message_prefix+r+e.message_suffix:"",d.style.width=100*t+"%"}i.style.display=t?"block":"none",d.style.background=e.progress_color_inner,s.style.fontSize=e.message_font_size+"rem",s.style.color=e.message_color,f.style.display=e.progress_show?"block":"none",f.style.width=e.progress_width+"rem",f.style.height=e.progress_height+"rem",f.style.background=e.progress_color,t&&(r(0),void 0!==n&&cancelAnimationFrame(n),n=requestAnimationFrame((function o(i){p||(p=i);var a=i-p,u=a/(1e3*e.reload_time),c=u>=1;c&&l?window.location.reload():((c||_)&&(u=0,p+=a),r(u,_?e.message_interaction:void 0),t&&(n=requestAnimationFrame(o)))})))},a}(MS.getSection("footer"),hu.reloader),TS=function(t){for(var e in UC)void 0===t[e]&&(t[e]=UC[e]);return{getParser:function(){return e=t.input_decimal_separator,n=new RegExp("[^-0-9eE"+e+"]","g"),function(t){return"number"==typeof t?t:""===t||void 0===t?NaN:parseFloat(t.replace(n,"").replace(e,"."))};var e,n},getFormatterFunction:function(){return e=t.output_separators,n=e.length>1,r=n?e.charAt(1):e.charAt(0),o=n?e.charAt(0):"",(i=Qx(function(t,e){return{decimal:t,thousands:e,grouping:[3],currency:["",""]}}(r,o)).format).decimal=r,i.thousands=o,i;var e,n,r,o,i}}}(hu.localization),zS=YC(hu.map_formatting),BS=YC(hu.point_formatting),NS=YM(hu.map_colors),LS=YM(hu.point_colors),PS=function(t,e,n){var r={};e=e||WM,n=n||GM;var o=[],i=[],a=[],u=document.createElement("div");u.setAttribute("class","fl-controls-container");var l=Tg(u).append("div").attr("class","fl-controls-title"),c=bF(r,t,u),s=function(t,e,n){var r={},o=Tg(n).append("div").attr("class","fl-control fl-control-buttons"),i=function(){o.classed("hidden",!1)},a=function(){o.classed("hidden",!0)};return r.show=i,r.hide=a,r.update=function(n){if(o.text(""),!t.n_options||"buttons"!==e.control_type)return a(),r;var u=t.index();o.classed("grouped",e.button_group),o.classed("fixed-width","fixed"==e.button_group_width_mode||"full"==e.button_group_width_mode),o.style("width",e.button_group&&"fixed"==e.button_group_width_mode?yF(e.button_group_width_fixed)+"px":"full"==e.button_group_width_mode?"100%":null);var l=o.selectAll(".button").data(n).enter().append("div");l.attr("class","button").style("cursor","pointer").classed("selected",(function(t){return t.options_index===u})).on("click",(function(e){var n=e.options_index;n!==t.index()&&(t.index(n),l.classed("selected",(function(t){return t.options_index===n})),t.trigger("change"))})).append("span").text((function(t){return t.display})),i()},r}(r,t,u),f=XF(r,t,u);for(var d in $F)void 0===t[d]&&(t[d]=$F[d]);var h=t._index_;r.appendTo=function(t,e){return vF(),Tg(t).node().appendChild(u),c.appendedToDOM(e),r},r.remove=function(){return u.parentElement&&u.parentElement.removeChild(u),c.removedFromDOM(),r},r.options=function(t){if(void 0===t)return o.slice();if(!Array.isArray(t))return r;var e=(o=t.slice()).length,n=p();return e?(null===n||n>=e)&&p(0):p(null),r},Object.defineProperty(r,"n_options",{get:function(){return o.length}});var p=function(e){return void 0===e?(t._is_playing_||(h=t._index_),h):(null===e||function(t){return o.length&&t>=0&&t<o.length}(e)?(h=e,t._is_playing_||(t._index_=h)):console.warn("Invalid index, ignoring update call"),r)};return r.index=p,r.getSortedIndex=function(){var e,n=p();return"unsorted"==t.sort?n:(i.some((function(t,r){if(t.options_index===n)return e=r,!0})),e)},r.value=function(t){if(void 0===t)return o[p()];var e=o.indexOf(t);return-1!==e&&p(e),r},r.on=function(t,e){return"change"===t&&a.push(e.bind(r)),r},r.update=function(){var a;return a=parseFloat(getComputedStyle(document.documentElement).fontSize)||16,yF=function(t){return t*a},function(e){u.style.display=e.length>1?null:"none",u.style.width="",l.node().innerHTML=t.control_title,l.node().style.display=""===t.control_title?"none":"inline-block",f.update(e),c.update(e),s.update(e)}(i=function(t,e,n,r){var o="numeric"===e.sort,i="temporal"===e.sort,a=_F;o?a=n:i&&(a=QM(e.sort_temporal_format));var u=t.map((function(t,e){var n=a(t);return{value:t,options_index:e,parsed:n,display:o&&!isNaN(n)?r(n):t}}));return"unsorted"==e.sort?u:u.sort((function(t,e){return function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}(t.parsed,e.parsed)}))}(o,t,e(),n())),r},r.trigger=function(t){var e,n;return"change"===t&&(e=p(),n=o[e],a.forEach((function(t){t(n,e)}))),r},r.getNode=function(){return u},r._isPlaying_=function(e){if(void 0===e)return t._is_playing_;t._is_playing_=!!e,e||p(h)},r}(hu.region_controls),OS=function(t,e,n){return new KF(t,e,n)}(hu.controls_style,".fl-control"),IS=function(t,e,n){return new eS(t,e,n)}(hu.button_style,".fl-control-buttons"),jS=function(t,e,n){return new rS(t,e,n)}(hu.dropdown_style,".fl-control-dropdown"),RS=(kS=[],{createHoverLayer:function(){var t,e,n=document.createElement("canvas"),r=n.getContext("2d"),o={canvas:n,ctx:r};return kS.unshift(o),{addFeature:function(n){var r=++t;if(t>16777215)throw new RangeError("Too many items in hover layer");o.lookup_table[r]=n;var i=Ou((16711680&r)>>16,(65280&r)>>8,255&r).toString();e(n,{fill_color:i,stroke_color:i,fill_opacity:1,stroke_opacity:1}),o.image_data=null},format:function(i){YA(n),o.lookup_table={},o.data=null,t=0,e=aS(r,i)},canvas:n}},getFeatureAtPixel:function(t){var e,n=Math.floor(t.x*Ww),r=Math.floor(t.y*Ww),o=Math.floor(Hw*Ww),i=Math.round(4*(r*o+n));if(kS.some((function(t){if(t.data||(t.data=t.ctx.getImageData(0,0,t.canvas.width,t.canvas.height).data),255===t.data[i+3]){var n=(t.data[i]<<16)+(t.data[i+1]<<8)+t.data[i+2];return e=t.lookup_table[n]}})),!e||!e.geometry)return null;if("Point"===e.geometry.type){var a=e.geometry.coordinates[0],u=e.geometry.coordinates[1];Math.hypot(a-t.x_untransformed,u-t.y_untransformed)>e.properties.radius*(e.properties.scaling||1)&&(e=null)}else{var l=qw.invert([t.x_untransformed,t.y_untransformed]);Of(e.properties.unprojected_feature,l)||(e=null)}return e?e.properties.source+"-"+e.properties.index:null}}),US=function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),r=Wy(),o=jd().context(n);return function(i){var a=i.projection||i.zoom,u=r("color",t.globe_color);return(a||u)&&(YA(e),o.projection(qw),n.beginPath(),n.fillStyle=r.color,o.context(n),o({type:"Sphere"}),n.fill()),t.globe_show?e:null}}(hu),qS=function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),r=Wy(),o=jd().context(n),i=Rf();return function(a){var u=a.projection||a.zoom;r("color",t.graticule_color),r("width",t.graticule_width*Xw*xC),r("separation_longitude",t.graticule_separation_longitude),r("separation_latitude",t.graticule_separation_latitude),r("opacity",t.graticule_opacity);var l=r();return(u||l)&&(YA(e),o.projection(qw),i.step([r.separation_longitude,r.separation_latitude]).extent([[-180,-90],[180.000001,90.000001]]),n.globalAlpha=r.opacity,n.strokeStyle=r.color,n.lineWidth=r.width,n.beginPath(),o(i()),n.stroke()),t.graticule_show?e:null}}(hu),HS=RS.createHoverLayer(),YS=function(t,e){var n=document.createElement("canvas"),r=n.getContext("2d"),o=Wy();return function(i){var a=i.projection||i.choropleth||i.zoom;o("show",t.map_show),o("show_popup","none"!==t.choropleth_popup.mode),o("hide_popup_pointer",!t.choropleth_popup.popup_pointer),o("shadow",t.map_shadow),o("shadow_offset_x",t.map_shadow_offset_x*Xw*Ww),o("shadow_offset_y",-t.map_shadow_offset_y*Xw*Ww),o("shadow_blur",t.map_shadow_blur*Xw*Ww),o("shadow_color",sA(t.map_shadow_color,t.map_shadow_opacity));var u=o();if(a||u){YA(n);var l=Gm.properties;if(e.format(l),!o.show)return null;var c=!t.map_show_stroke,s=aS(r,l),f=c?{stroke_width:1}:{};if(Gm.features.forEach((function(t){var n=t.properties;pA(n.bounds)&&(c&&(f.stroke_color=n.fill_color||null),s(t,f),!mC&&o.show_popup&&(n.hide_popup_pointer=o.hide_popup_pointer,e.addFeature(t)))})),o.shadow){var d=document.createElement("canvas");d.width=n.width,d.height=n.height;var h=d.getContext("2d");h.save(),h.shadowOffsetX=o.shadow_offset_x,h.shadowOffsetY=o.shadow_offset_y,h.shadowColor=o.shadow_color,h.shadowBlur=o.shadow_blur,h.drawImage(n,0,0),h.restore();var p=document.createElement("canvas"),_=p.getContext("2d");YA(p),jd(qw,_)({type:"Sphere"}),_.fill(),h.globalCompositeOperation="destination-in",h.drawImage(p,0,0),r.globalCompositeOperation="copy",r.setTransform(1,0,0,1,0,0),r.drawImage(d,0,0)}}return o.show?n:null}}(hu,HS),WS=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return function(n){if(n.data||n.projection||n.lines||n.zoom){YA(t);var r=Km.properties,o=aS(e,r);Km.features.forEach((function(t){pA(t.properties.bounds)&&o(t)}))}return t}}(),GS=function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),r=Wy();return function(o){var i=o.projection||o.choropleth||o.zoom;r("gqp",t.group_quantization_precision),r("stroke_color",t.group_stroke_color||t.map_stroke),r("stroke_width",t.group_stroke_width),r("stroke_opacity",t.group_stroke_opacity);var a=r();if(i||a){YA(e);var u={stroke_color:r.stroke_color,stroke_width:r.stroke_width,stroke_opacity:r.stroke_opacity,scaling:Xw},l=aS(n,u),c=jd();aC.forEach((function(t){pA(c.bounds(t))&&l(t)}))}return e}}(hu),VS=function(t){var e,n,r=document.createElement("canvas"),o=r.getContext("2d"),i=Wy();return function(a){i("feature",wx()),i("show_popup","none"!==t.choropleth_popup.mode),n=n||Gm.properties.source;var u=a.data||a.projection||a.choropleth||a.zoom,l=i(),c=i.feature&&i.feature.properties.source===n;if(u||l)if(YA(r),mC||!c||!i.show_popup&&!t.sticky_hover)e=!1;else{var s=aS(o);s(i.feature,{fill_color:null,stroke_color:t.map_highlight_stroke_outer,stroke_width:t.map_highlight_stroke_width,stroke_opacity:1}),s(i.feature,{fill_color:null,stroke_color:t.map_highlight_stroke_inner,stroke_width:.6*t.map_highlight_stroke_width,stroke_width_min:Math.min(1,t.map_highlight_stroke_width),stroke_opacity:1}),e=!0}return e?r:null}}(hu),XS=RS.createHoverLayer(),$S=function(t,e){var n,r=document.createElement("canvas"),o=r.getContext("2d"),i=Wy(),a=function(){return i.sort&&Zm.properties.have_value?n||(n={type:"Feature Collection",properties:Zm.properties,features:Zm.features.slice().sort((function(t,e){var n=t.properties,r=e.properties;return r.radius-n.radius||r.lon-n.lon||r.lat-n.lat}))}):Zm};return function(u){i("show",t.point_show),i("sort",t.point_sort),i("show_popup","none"!=t.point_popup.mode),i("hide_popup_pointer",!t.point_popup.popup_pointer);var l=u.data||u.projection||u.points||u.zoom;if((u.data||u.points)&&(n=null),i()||l){YA(r);var c=a(),s=c.properties;if(e.format(s),!i.show)return null;var f=aS(o,s);c.features.forEach((function(n){var r=n.properties;r.filter_hide||r.projection_hide||!pA(r.bounds)||(f(n,{stroke_color:t.point_stroke_custom?t.point_stroke_color:n.properties.fill_color,stroke_width:t.point_stroke_width,stroke_opacity:t.point_stroke_opacity}),!mC&&i.show_popup&&(n.properties.hide_popup_pointer=i.hide_popup_pointer,e.addFeature(n)))}))}return i.show?r:null}}(hu,XS),ZS=function(t){var e,n,r=document.createElement("canvas"),o=r.getContext("2d"),i=Wy();return function(a){i("feature",wx()),i("show_popup","none"!=t.point_popup.mode),n=n||Zm.properties.source;var u=a.data||a.projection||a.points||a.zoom,l=i(),c=i.feature&&i.feature.properties.source===n;if(u||l)if(YA(r),mC||!c||!i.show_popup&&!t.sticky_hover)e=!1;else{var s=aS(o,{scaling:Xw});s(i.feature,{fill_opacity:t.point_highlight_fill_opacity,fill_color:t.point_highlight_fill_custom?t.point_highlight_fill:i.feature.properties.fill_color,stroke_color:t.point_highlight_stroke_outer,stroke_width:t.point_highlight_stroke_width,stroke_width_min:1/.6,stroke_opacity:1}),s(i.feature,{fill_opacity:0,stroke_color:t.point_highlight_stroke_inner,stroke_width:.6*t.point_highlight_stroke_width,stroke_width_min:1,stroke_opacity:1}),e=!0}return e?r:null}}(hu),QS=function(t){return new AS(t)}(hu.legend_size),JS=CS(hu.legend_categorical_points),KS=CS(hu.legend_categorical_map),tT=function(t){return new wS(t)}(hu.legend_continuous_map);HS.canvas,HS.canvas;function eT(){clearTimeout(FS),FS=setTimeout(pC,500)}function nT(t){if(hu.graticule_show){var e=Rf().step([hu.graticule_separation_longitude,hu.graticule_separation_latitude]).extent([[-180,-90],[180.000001,90.000001]]);t.append("path").datum(e()).attr("d",jd(qw)).style("stroke",hu.graticule_color).style("stroke-opacity",hu.graticule_opacity).style("stroke-width",hu.graticule_width*Xw+"px").style("fill","none")}}var rT={solid:[],short:[.5,.5],long:[1,.5],mixed:[1,.5,.5,.5]};function oT(t){var e,n=t.append("g").attr("id","globe-layer"),r=t.append("g").attr("id","graticule-layer"),o=t.append("g").attr("id","regions-layer"),i=t.append("g").attr("id","lines-layer"),a=t.append("g").attr("id","region-groups-layer"),u=t.append("g").attr("id","points-layer");e=n,hu.globe_show&&e.append("path").datum({type:"Sphere"}).attr("d",jd(qw)).style("fill",hu.globe_color),nT(r),function(t){hu.map_show&&t.selectAll("path").data(Gm.features).enter().append("path").attr("d",jd()).style("fill",(function(t){return t.properties.fill_color})).style("fill-opacity",hu.map_fill_opacity).style("stroke",hu.map_show_stroke?hu.map_stroke:"none").style("stroke-width",hu.map_stroke_width*Xw+"px").style("stroke-opacity",hu.map_stroke_opacity)}(o),function(t){t.selectAll("path").data(Km.features).enter().append("path").attr("d",jd()).style("fill","none").style("stroke",(function(t){return t.properties.stroke_color})).style("stroke-width",(function(t){return t.properties.stroke_width*Xw+"px"})).style("stroke-opacity",(function(t){return t.properties.stroke_opacity})).style("stroke-dasharray",(function(t){return rT[t.properties.stroke_dash].map((function(t){return t*Xw}))}))}(i),function(t){t.selectAll("path").data(aC).enter().append("path").attr("d",jd()).style("fill","none").style("stroke",hu.group_stroke_color||hu.map_stroke).style("stroke-width",hu.group_stroke_width*Xw+"px").style("stroke-opacity",hu.group_stroke_opacity)}(a),function(t){if(hu.point_show){var e=Zm.features.filter((function(t){return!t.properties.filter_hide&&!t.properties.projection_hide&&t.geometry}));t.selectAll("circle").data(e).enter().append("circle").attr("cx",(function(t){return t.geometry.coordinates[0]})).attr("cy",(function(t){return t.geometry.coordinates[1]})).attr("r",(function(t){return t.properties.radius*Xw})).style("fill",(function(t){return t.properties.fill_color})).style("fill-opacity",hu.point_highlight_fill_opacity).style("stroke",(function(t){return hu.point_stroke_custom?hu.point_stroke_color:t.properties.fill_color})).style("stroke-width",hu.point_stroke_width*Xw+"px").style("stroke-opacity",hu.point_stroke_opacity)}}(u)}return t.data=Gy,t.draw=function(){var t,e;PS.appendTo(MS.getSection("controls")).on("change",pC),XA(),gA=Tg(MS.getSection("legend")).append("div").attr("id","points-legend").attr("class","legend-group"),QS.appendTo(gA.node()),JS.appendTo(gA.node()),lx=Tg(MS.getSection("legend")).append("div").attr("id","regions-legend").attr("class","legend-group"),KS.appendTo(lx.node()),tT.appendTo(lx.node()),(t=Tg(MS.getSection("primary")).append("div").attr("class","search-container")).append("input").attr("type","text").on("focus",(function(){Tg(this.parentElement).classed("active",!0).classed("expanded",!0),this.value="",this.setAttribute("data-type",""),this.setAttribute("data-value",""),nC()})).on("blur",(function(){Tg(this.parentElement).classed("active",!1).classed("expanded",hu.search_expanded)})).on("keydown",rC).on("keyup",nC),t.append("div").attr("class","search-list"),t.append("div").attr("class","search-icon").append("svg").attr("class","fl-ignore-svg-download").attr("width","12px").attr("height","12px").attr("viewBox","0 0 12 12").append("path").attr("d","M4.71428571,0.571428571 C5.35268176,0.571428571 5.96316673,0.695311261 6.54575893,0.943080357 C7.12835113,1.19084945 7.63057825,1.52566753 8.05245536,1.94754464 C8.47433247,2.36942175 8.80915055,2.87164887 9.05691964,3.45424107 C9.30468874,4.03683327 9.42857143,4.64731824 9.42857143,5.28571429 C9.42857143,6.26786205 9.15178848,7.15847815 8.59821429,7.95758929 L10.8950893,10.2544643 C11.0602687,10.4196437 11.1428571,10.6205345 11.1428571,10.8571429 C11.1428571,11.0892869 11.0580366,11.2901777 10.8883929,11.4598214 C10.7187492,11.6294651 10.5178583,11.7142857 10.2857143,11.7142857 C10.0446417,11.7142857 9.8437508,11.6294651 9.68303571,11.4598214 L7.38616071,9.16964286 C6.58704958,9.72321705 5.69643348,10 4.71428571,10 C4.07588967,10 3.4654047,9.87611731 2.8828125,9.62834821 C2.3002203,9.38057912 1.79799318,9.04576104 1.37611607,8.62388393 C0.954238962,8.20200682 0.619420882,7.6997797 0.371651786,7.1171875 C0.12388269,6.5345953 0,5.92411033 0,5.28571429 C0,4.64731824 0.12388269,4.03683327 0.371651786,3.45424107 C0.619420882,2.87164887 0.954238962,2.36942175 1.37611607,1.94754464 C1.79799318,1.52566753 2.3002203,1.19084945 2.8828125,0.943080357 C3.4654047,0.695311261 4.07588967,0.571428571 4.71428571,0.571428571 Z M4.71428571,2.28571429 C3.88838873,2.28571429 3.18192258,2.57923814 2.59486607,3.16629464 C2.00780956,3.75335115 1.71428571,4.4598173 1.71428571,5.28571429 C1.71428571,6.11161127 2.00780956,6.81807742 2.59486607,7.40513393 C3.18192258,7.99219044 3.88838873,8.28571429 4.71428571,8.28571429 C5.5401827,8.28571429 6.24553279,7.9933065 6.83035714,7.40848214 C7.4196458,6.81919348 7.71428571,6.11161127 7.71428571,5.28571429 C7.71428571,4.4598173 7.42076186,3.75335115 6.83370536,3.16629464 C6.24664885,2.57923814 5.5401827,2.28571429 4.71428571,2.28571429 Z").attr("id","search").attr("fill","#000000").attr("stroke","none").attr("stroke-width","1").attr("fill-rule","evenodd"),t.on("mousedown",(function(){eC(mg.target)})),window.addEventListener("resize",eT),pC(),e=function(){MS.update(),dC(),hC()},document.fonts&&(e=e||function(){window.template.update()},document.fonts.ready.then((function(t){e(t),document.fonts.addEventListener("loadingdone",(function(){e(t)}))})).catch((function(t){console.log("Error loading fonts",t)})))},t.screenshot=function(t,e){var n=t.format,r=function(){"svg"===n&&Tg(MS.getSection("primary")).select("div.download").remove()};"svg"===n&&function(){var t=Tg(MS.getSection("primary")),e=t.select("canvas"),n=e.attr("width"),r=e.attr("height");oT(t.append("div").attr("class","download").attr("display","none").append("svg").attr("width",n).attr("height",r).attr("font-family",hu.layout.body_font.name))}(),e().then(r,r)},t.state=hu,t.update=pC,t}({});
//# sourceMappingURL=template.js.map
</script><script>
var path = document.location.href.match(/\/visualisation\/(\d+)/);
if (path) {
	path = path[0];
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga("create", "UA-44635456-19", "auto", { storage: "none" });
	ga("set", "transport", "beacon");
	ga("set", "dimension1", path.substr(1));
	ga("set", "dimension2", new Date().toISOString());
	ga("send", "pageview", path);
}</script><script>!function(){"use strict";var e,t;function i(){if(null==e){var t=function(){var e=window.location;"about:srcdoc"==e.href&&(e=window.parent.location);var t={};return function(e,i,n){for(;n=i.exec(e);)t[decodeURIComponent(n[1])]=decodeURIComponent(n[2])}(e.search.substring(1).replace(/\+/g,"%20"),/([^&=]+)=?([^&]*)/g),t}();e="referrer"in t?/^https:\/\/medium.com\//.test(t.referrer):!("auto"in t)}return e}function n(e){var t=e||window.innerWidth;return t>999?650:t>599?575:400}function r(e,i){if(window.top!==window.self){var n=window;if("srcdoc"==n.location.pathname&&(n=n.parent),t)return e=parseInt(e,10),void n.parent.postMessage({sentinel:"amp",type:"embed-size",height:e},"*");var r={sender:"Flourish",context:"iframe.resize",method:"resize",height:e,src:n.location.toString()};if(i)for(var o in i)r[o]=i[o];n.parent.postMessage(JSON.stringify(r),"*")}}function o(){return(-1!==navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("iPhone"))&&-1==navigator.userAgent.indexOf("Chrome")}function a(e){window.addEventListener("message",(function(t){if(null!=t.source&&(t.origin===document.location.origin||t.origin.match(/\/\/localhost:\d+$|\/\/flourish-api\.com$|\.flourish\.(?:local(:\d+)?|net|rocks|studio)$|\.uri\.sh$/))){var i;try{i=JSON.parse(t.data)}catch(e){return void console.warn("Unexpected non-JSON message: "+JSON.stringify(t.data))}if("Flourish"===i.sender){for(var n=document.querySelectorAll("iframe"),r=0;r<n.length;r++)if(n[r].contentWindow==t.source||n[r].contentWindow==t.source.parent)return void e(i,n[r]);console.warn("could not find frame",i)}}})),o()&&(window.addEventListener("resize",s),s())}function s(){for(var e=document.querySelectorAll(".flourish-embed"),t=0;t<e.length;t++){var i=e[t];if(!i.getAttribute("data-width")){var n=i.querySelector("iframe"),r=window.getComputedStyle(i),o=i.offsetWidth-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight);n.style.width=o+"px"}}}function l(e,t,i,n){var r=document.createElement("iframe");if(r.setAttribute("scrolling","no"),r.setAttribute("frameborder","0"),r.setAttribute("title","Interactive or visual content"),r.setAttribute("sandbox","allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation"),t.appendChild(r),r.offsetParent||"fixed"===getComputedStyle(r).position)d(e,t,r,i,n);else{var o={embed_url:e,container:t,iframe:r,width:i,height:n};if(window._flourish_poll_items?window._flourish_poll_items.push(o):window._flourish_poll_items=[o],window._flourish_poll_items.length>1)return;var a=setInterval((function(){window._flourish_poll_items=window._flourish_poll_items.filter((function(e){return!e.iframe.offsetParent||(d(e.embed_url,e.container,e.iframe,e.width,e.height),!1)})),window._flourish_poll_items.length||clearInterval(a)}),500)}}function d(e,t,i,r,a){var s;return r&&"number"==typeof r?(s=r,r+="px"):r&&r.match(/^[ \t\r\n\f]*([+-]?\d+|\d*\.\d+(?:[eE][+-]?\d+)?)(?:\\?[Pp]|\\0{0,4}[57]0(?:\r\n|[ \t\r\n\f])?)(?:\\?[Xx]|\\0{0,4}[57]8(?:\r\n|[ \t\r\n\f])?)[ \t\r\n\f]*$/)&&(s=parseFloat(r)),a&&"number"==typeof a&&(a+="px"),r?i.style.width=r:o()?i.style.width=t.offsetWidth+"px":i.style.width="100%",!!a||(e.match(/\?/)?e+="&auto=1":e+="?auto=1",a=n(s||i.offsetWidth)+"px"),a&&("%"===a.charAt(a.length-1)&&(a=parseFloat(a)/100*t.parentNode.offsetHeight+"px"),i.style.height=a),i.setAttribute("src",e),i}function u(e){return!Array.isArray(e)&&"object"==typeof e&&null!=e}function f(e,t){for(var i in t)u(e[i])&&u(t[i])?f(e[i],t[i]):e[i]=t[i];return e}!function(){var e,s=window.top===window.self,d=s?null:(t="#amp=1"==window.location.hash,{createEmbedIframe:l,isFixedHeight:i,getHeightForBreakpoint:n,startEventListeners:a,notifyParentWindow:r,isSafari:o}),u=!0;function h(){var t;Flourish.fixed_height||(null!=e?t=e:u&&(t=d.getHeightForBreakpoint()),t!==window.innerHeight&&d.notifyParentWindow(t))}function c(){h(),window.addEventListener("resize",h)}Flourish.warn=function(e){if("string"==typeof e&&(e={message:e}),s||"editor"!==Flourish.environment)console.warn(e.message);else{var t={sender:"Flourish",method:"warn",message:e.message,explanation:e.explanation};window.parent.postMessage(JSON.stringify(t),"*")}},Flourish.uploadImage=function(e){if(s||"story_editor"!==Flourish.environment)throw"Invalid upload request";var t={sender:"Flourish",method:"request-upload",name:e.name,accept:e.accept};window.parent.postMessage(JSON.stringify(t),"*")},Flourish.setSetting=function(e,t){if("editor"===Flourish.environment||"sdk"===Flourish.environment){var i={sender:"Flourish",method:"setSetting",name:e,value:t};window.parent.postMessage(JSON.stringify(i),"*")}else if("story_editor"===Flourish.environment){var n={};n[e]=t,f(window.template.state,function(e){var t={};for(var i in e){for(var n=t,r=i.indexOf("."),o=0;r>=0;r=i.indexOf(".",o=r+1)){var a=i.substring(o,r);a in n||(n[a]={}),n=n[a]}n[i.substring(o)]=e[i]}return t}(n))}},Flourish.setHeight=function(t){Flourish.fixed_height||(e=t,u=null==t,h())},Flourish.checkHeight=function(){if(!s){var e=Flourish.__container_height;null!=e?(Flourish.fixed_height=!0,d.notifyParentWindow(e)):d.isFixedHeight()?Flourish.fixed_height=!0:(Flourish.fixed_height=!1,h())}},Flourish.fixed_height=s||d.isFixedHeight(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):c()}()}();
//# sourceMappingURL=embedded.js.map
</script><script>
		function _Flourish_unflattenInto(dest, src) {
			dest = dest || {};
			for (var k in src) {
				var t = dest;
				for (var i = k.indexOf("."), p = 0; i >= 0; i = k.indexOf(".", p = i+1)) {
					var s = k.substring(p, i);
					if (!(s in t)) t[s] = {};
					t = t[s];
				}
				t[k.substring(p)] = src[k];
			}
			return dest;
		}
		var _Flourish_settings = {"graticule_show":false,"region_controls.slider_font_color":null};
		_Flourish_unflattenInto(window.template.state, _Flourish_settings);

		var _Flourish_data_column_names = {"choropleth":{"geometry":"","metadata":[],"value":[]},"points":{"metadata":[]},"lines":{}},
		    _Flourish_data_metadata = {"choropleth":{"geometry":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"metadata":[],"value":[]},"points":{"metadata":[]},"lines":{}},
		    _Flourish_data = {"choropleth":[],"points":[{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]},{"metadata":[]}],"lines":[]};
		for (var _Flourish_dataset in _Flourish_data) {
				window.template.data[_Flourish_dataset] = _Flourish_data[_Flourish_dataset];
				window.template.data[_Flourish_dataset].column_names = _Flourish_data_column_names[_Flourish_dataset];
				window.template.data[_Flourish_dataset].metadata = _Flourish_data_metadata[_Flourish_dataset];
		}
		window.template.draw();
	</script></body></html>