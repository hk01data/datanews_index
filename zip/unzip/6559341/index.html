<!DOCTYPE html><html><head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="style.css">
	<title>歷史對比圖 - 屯門新巿鎮</title></head>
	<body>
		<!-- If you want to start with a non-empty document, add elements here -->
		<!-- Relative links are rewritten to refer to the files in the static directory -->
	

<script>window.Flourish = {"static_prefix":".","environment":"live","is_read_only":true};</script><script>var template=function(r){"use strict";var l;var s=Object.freeze({"stack-default":["header","controls","primary","footer"],"stack-2":["primary","header","controls","footer"],"stack-3":["header","primary","controls","footer"],"stack-4":["controls","primary","header","footer"]});function t(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function e(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function u(){}var n=1/.7,i="\\s*([+-]?\\d+)\\s*",o="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h=/^#([0-9a-f]{3,8})$/,c=new RegExp("^rgb\\("+[i,i,i]+"\\)$"),d=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),f=new RegExp("^rgba\\("+[i,i,i,o]+"\\)$"),p=new RegExp("^rgba\\("+[a,a,a,o]+"\\)$"),_=new RegExp("^hsl\\("+[o,a,a]+"\\)$"),g=new RegExp("^hsla\\("+[o,a,a,o]+"\\)$"),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function v(){return this.rgb().formatRgb()}function b(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=h.exec(t))?(r=e[1].length,e=parseInt(e[1],16),6===r?w(e):3===r?new M(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===r?new M(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===r?new M(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=c.exec(t))?new M(e[1],e[2],e[3],1):(e=d.exec(t))?new M(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=f.exec(t))?x(e[1],e[2],e[3],e[4]):(e=p.exec(t))?x(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=_.exec(t))?N(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?N(e[1],e[2]/100,e[3]/100,e[4]):m.hasOwnProperty(t)?w(m[t]):"transparent"===t?new M(NaN,NaN,NaN,0):null}function w(t){return new M(t>>16&255,t>>8&255,255&t,1)}function x(t,e,r,n){return n<=0&&(t=e=r=NaN),new M(t,e,r,n)}function k(t,e,r,n){return 1===arguments.length?((i=t)instanceof u||(i=b(i)),i?new M((i=i.rgb()).r,i.g,i.b,i.opacity):new M):new M(t,e,r,null==n?1:n);var i}function M(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}function z(){return"#"+A(this.r)+A(this.g)+A(this.b)}function E(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function A(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function N(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||1<=r?t=e=NaN:e<=0&&(t=NaN),new L(t,e,r,n)}function S(t){if(t instanceof L)return new L(t.h,t.s,t.l,t.opacity);if(t instanceof u||(t=b(t)),!t)return new L;if(t instanceof L)return t;var e=(t=t.rgb()).r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=NaN,l=o-i,s=(o+i)/2;return l?(a=e===o?(r-n)/l+6*(r<n):r===o?(n-e)/l+2:(e-r)/l+4,l/=s<.5?o+i:2-o-i,a*=60):l=0<s&&s<1?0:a,new L(a,l,s,t.opacity)}function L(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function C(t,e,r){return 255*(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)}t(u,b,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return S(this).formatHsl()},formatRgb:v,toString:v}),t(M,k,e(u,{brighter:function(t){return t=null==t?n:Math.pow(n,t),new M(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new M(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:z,formatHex:z,formatRgb:E,toString:E})),t(L,function(t,e,r,n){return 1===arguments.length?S(t):new L(t,e,r,null==n?1:n)},e(u,{brighter:function(t){return t=null==t?n:Math.pow(n,t),new L(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new L(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new M(C(240<=t?t-240:120+t,i,n),C(t,i,n),C(t<120?240+t:t-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var H,P,R,T,F,B,j,I,O,q;H=document.createElement("canvas").getContext("2d");function W(t){return"string"==typeof t&&null!=t.match(/^(https?:\/\/|data:)/i)}var D=!1;function V(t){return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")?"http://"+t:t}function $(){var t;return(t=document.createElement("style")).type="text/css",t.innerHTML=".flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }",document.head.appendChild(t),(j=document.createElement("footer")).className="flourish-footer",(I=document.createElement("div")).className="flourish-footer-text",(q=document.createElement("a")).target="_blank",(O=document.createElement("img")).className="flourish-footer-logo",q.appendChild(O),j.appendChild(I),j.appendChild(q),j}function X(){return Q.background_color_enabled&&!function(t){if(t){var e=b(t);return 195<Math.round(299*e.r+587*e.g+114*e.b)/1e3}console.warn("No valid color",t)}(Q.background_color)}function U(){var t=W(Q.footer_logo_src)?Q.footer_logo_src:"";return W(Q.footer_logo_src_light)&&X()&&(t=Q.footer_logo_src_light),t}function Y(){return Q.footer_logo_enabled&&U()}function G(t){t||function(){var i="";["mobile_small","mobile_big","tablet","desktop","big_screen"].forEach(function(t,e){var r="@media(min-width: "+Q["breakpoint_"+t]+"px) {\n",n="html { font-size:"+Q["font_size_"+t]+"%; }";i+=(0==e?"":r)+n+(0==e?"":"\n}")+"\n\n"}),l.innerHTML=i;var t=[Q.body_font,Q.title_font,Q.subtitle_font,Q.footer_font];t.forEach(function(t){if(t){for(var e=!1,r=document.head.querySelectorAll("link.layout-font"),n=0;n<r.length;n++){r[n].href==t.url&&(e=!0)}if(!e){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("href",t.url),i.className="layout-font",document.head.appendChild(i)}}});for(var e=document.head.querySelectorAll("link.layout-font"),r=0;r<e.length;r++){var n=e[r],o=!1;t.forEach(function(t){t&&t.url==n.href&&(o=!0)}),o||n.parentElement.removeChild(n)}document.body.style.fontFamily=Q.body_font.name}(),P.style.textAlign=Q.header_align,P.style.margin=0,P.style.borderTop="top"==Q.header_border?Q.header_border_width+"px "+Q.header_border_style+" "+Q.header_border_color:null,P.style.borderBottom="bottom"==Q.header_border?Q.header_border_width+"px "+Q.header_border_style+" "+Q.header_border_color:null,P.style.paddingTop="top"==Q.header_border?Q.header_border_space+"rem":"",P.style.paddingBottom="bottom"==Q.header_border?Q.header_border_space+"rem":"",R.innerHTML=Q.title?Q.title:"",R.style.fontFamily=Q.title_font?Q.title_font.name:"inherit",R.style.fontSize=("custom"!=Q.title_size?Q.title_size:Q.title_size_custom)+"rem",R.style.lineHeight=Q.title_line_height,R.style.fontWeight=Q.title_weight,R.style.color=Q.title_color||Q.font_color,R.style.margin=0,R.style.paddingTop=Q.title?("custom"==Q.title_space_above?Q.title_space_above_custom:Q.title_space_above)+"rem":0,T.innerHTML=Q.subtitle?Q.subtitle:"",T.style.fontFamily=Q.subtitle_font?Q.subtitle_font.name:"inherit",T.style.fontSize=("custom"!=Q.subtitle_size?Q.subtitle_size:Q.subtitle_size_custom)+"rem",T.style.lineHeight=Q.subtitle_line_height,T.style.fontWeight=Q.subtitle_weight,T.style.color=Q.subtitle_color||Q.font_color,T.style.margin=0,T.style.paddingTop=Q.subtitle?("custom"==Q.subtitle_space_above?Q.subtitle_space_above_custom:Q.subtitle_space_above)+"rem":0,F.innerHTML=Q.header_text?Q.header_text:"",F.style.fontSize=("custom"!=Q.header_text_size?Q.header_text_size:Q.header_text_size_custom)+"rem",F.style.lineHeight=Q.header_text_line_height,F.style.fontWeight=Q.header_text_weight,F.style.margin=0,F.style.color=Q.header_text_color||Q.font_color,F.style.paddingTop=Q.header_text?("custom"==Q.header_text_space_above?Q.header_text_space_above_custom:Q.header_text_space_above)+"rem":0,B.style.display=Q.header_logo_enabled&&W(Q.header_logo_src)?"":"none",B.style.position="inside"==Q.header_logo_align?"":"fixed",B.style.height=Q.header_logo_height+"rem",B.style.top="outside"==Q.header_logo_align?0:"",B.style.left="outside"==Q.header_logo_align&&"left"==Q.header_logo_position_outside?0:"",B.style.right="outside"==Q.header_logo_align&&"right"==Q.header_logo_position_outside?0:"",B.style.marginTop=Q.header_logo_margin_top+"rem",B.style.marginBottom=Q.header_logo_margin_bottom+"rem",B.style.marginLeft=Q.header_logo_margin_left+"rem",B.style.marginRight=Q.header_logo_margin_right+"rem",B.style.float="top"==Q.header_logo_position_inside||"outside"==Q.header_logo_align?"":Q.header_logo_position_inside,B.style.width="auto",B.src=W(Q.header_logo_src)?Q.header_logo_src:"",function(){var t=[{name:Q.source_name,url:Q.source_url},{name:Q.multiple_sources?Q.source_name_2:"",url:Q.multiple_sources?Q.source_url_2:""},{name:Q.multiple_sources?Q.source_name_3:"",url:Q.multiple_sources?Q.source_url_3:""}].filter(function(t){return t.name||t.url});D=0<t.length||Q.footer_note||Q.footer_note_secondary||Y(),j.style.display="flex",j.style.height=D?null:0,j.style.width="100%",j.style.paddingTop="top"==Q.footer_border?Q.footer_border_space+"rem":"",j.style.paddingBottom="bottom"==Q.footer_border?Q.footer_border_space+"rem":"",j.style.borderTop="top"==Q.footer_border?Q.footer_border_width+"px "+Q.footer_border_style+" "+Q.footer_border_color:"",j.style.borderBottom="bottom"==Q.footer_border?Q.footer_border_width+"px "+Q.footer_border_style+" "+Q.footer_border_color:"",j.style.fontFamily=Q.footer_font?Q.footer_font.name:"inherit","justify"==Q.footer_align?j.style.justifyContent="space-between":"left"==Q.footer_align?j.style.justifyContent="flex-start":"right"==Q.footer_align?j.style.justifyContent="flex-end":"center"==Q.footer_align&&(j.style.justifyContent="center"),j.style.fontSize=Q.footer_text_size+"rem",j.style.color=Q.footer_text_color||Q.font_color,j.style.alignItems=Q.footer_align_vertical;var i=document.createElement("span");t.forEach(function(t,e){var r=document.createElement("p");if(0<e&&(r.innerText=", "),t.url){var n=document.createElement("a");n.innerText=t.name||t.url,n.href=V(t.url),n.target="_blank",r.appendChild(n)}else r.innerText+=t.name||t.url;i.innerHTML+=r.innerHTML}),I.style.order="left"==Q.footer_logo_order?2:"",I.style.textAlign="justify"==Q.footer_align?"":Q.footer_align;var e="<p>";e+=""!==i.innerHTML?Q.source_label+" "+i.innerHTML:"",e+=Q.footer_note?(""!==i.innerHTML?" • ":"")+Q.footer_note:"",e+="</p>",e+=Q.footer_note_secondary?"<br /><p>"+Q.footer_note_secondary+"</p>":"",I.innerHTML=e,O.src=U(),O.style.height=Q.footer_logo_height+"rem",O.style.marginLeft="right"==Q.footer_logo_order?Q.footer_logo_margin+"rem":"",O.style.marginRight="left"==Q.footer_logo_order?Q.footer_logo_margin+"rem":"",O.style.verticalAlign=Q.footer_align_vertical,O.style.display=Y()?"":"none",q.href=""==Q.footer_logo_link_url?"":V(Q.footer_logo_link_url),q.style.cursor=""==Q.footer_logo_link_url?"default":"pointer"}(),document.body.style.backgroundColor=Q.background_color_enabled?Q.background_color:"transparent",document.body.style.backgroundImage=Q.background_image_enabled?"url("+Q.background_image_src+")":"",document.body.style.backgroundSize=Q.background_image_size,document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition=Q.background_image_position;var e=it.wrapper.style;e.height="100vh",e.color=Q.font_color,e.maxWidth="wrapper"==Q.max_width_target?Q.max_width+"px":"",e.marginLeft="wrapper"==Q.max_width_target&&"left"!=Q.max_width_align?"auto":"",e.marginRight="wrapper"==Q.max_width_target&&"right"!=Q.max_width_align?"auto":"",e.padding=Q.margin_top+"rem "+Q.margin_right+"rem "+Q.margin_bottom+"rem "+Q.margin_left+"rem",e.borderTop=Q.border.enabled?Q.border.top.width+"px "+Q.border.top.style+" "+Q.border.top.color:"",e.borderRight=Q.border.enabled?Q.border.right.width+"px "+Q.border.right.style+" "+Q.border.right.color:"",e.borderBottom=Q.border.enabled?Q.border.bottom.width+"px "+Q.border.bottom.style+" "+Q.border.bottom.color:"",e.borderLeft=Q.border.enabled?Q.border.left.width+"px "+Q.border.left.style+" "+Q.border.left.color:"";var r=it.primary.outer.style,n=it.legend.outer.style,i=parseFloat(r.order)>parseFloat(n.order)?"above":"below";s[Q.layout_order].forEach(function(t,e){it[t].outer.style.order=10*e}),r.flex="1 1 auto",r.height=null,xt(i),n.textAlign=Q.header_align,it.controls.outer.style.textAlign=Q.header_align,it.primary.outer.style.maxWidth="primary"==Q.max_width_target?Q.max_width+"px":"",it.primary.outer.style.marginLeft="primary"==Q.max_width_target&&"left"!=Q.max_width_align?"auto":"",it.primary.outer.style.marginRight="primary"==Q.max_width_target&&"right"!=Q.max_width_align?"auto":"";var o=Q.screenreader_hide_primary&&""!=Q.screenreader_text_primary;document.getElementById("fl-layout-primary-description").innerText=Q.screenreader_hide_primary?Q.screenreader_text_primary:"",o?it.primary.outer.setAttribute("aria-describedBy","fl-layout-primary-description"):it.primary.outer.removeAttribute("aria-describedBy"),Q.screenreader_hide_primary?it.primary.inner.setAttribute("aria-hidden",!0):it.primary.inner.removeAttribute("aria-hidden");var a=("custom"==Q.space_between_sections?Q.space_between_sections_custom:Q.space_between_sections)/2+"rem";nt.map(function(t){var e=it[t],r=e.outer.style;return{name:t,height:at(e.inner),order:parseFloat(r.order),style:r}}).sort(function(t,e){return t.order-e.order}).filter(function(t){if(t.height)return!0;t.style.paddingBottom="",t.style.paddingTop=""}).forEach(function(t,e,r){t.style.paddingTop=e?a:"",t.style.paddingBottom=e<r.length-1?a:""})}var Z=Object.freeze({body_font:{name:"Source Sans Pro",url:"https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700"},title_font:null,subtitle_font:null,footer_font:null,border:{enabled:!1,top:{width:1,color:"#dddddd",style:"solid"},right:{width:1,color:"#dddddd",style:"solid"},bottom:{width:1,color:"#dddddd",style:"solid"},left:{width:1,color:"#dddddd",style:"solid"}},layout_order:"stack-default",margin_top:.75,margin_right:.75,margin_bottom:.75,margin_left:.75,space_between_sections:1,space_between_sections_custom:1,background_color_enabled:!0,background_color:"#ffffff",background_image_enabled:!1,background_image_src:"",background_image_size:"cover",background_image_position:"center center",max_width:600,max_width_target:"none",max_width_align:"center",breakpoint_mobile_small:0,breakpoint_mobile_big:380,breakpoint_tablet:580,breakpoint_desktop:1080,breakpoint_big_screen:1280,font_color:"#333333",font_size_mobile_small:62.5,font_size_mobile_big:75,font_size_tablet:87.5,font_size_desktop:100,font_size_big_screen:120,header_align:"left",header_border:"none",header_border_width:1,header_border_color:"#dddddd",header_border_style:"solid",header_border_space:.5,header_logo_enabled:!1,header_logo_align:"inside",header_logo_src:"",header_logo_height:3,header_logo_position_inside:"left",header_logo_position_outside:"left",header_logo_margin_top:.25,header_logo_margin_right:.5,header_logo_margin_bottom:0,header_logo_margin_left:0,title:"",title_size:1.6,title_size_custom:1.6,title_line_height:1.2,title_color:null,title_weight:"bold",title_space_above:0,title_space_above_custom:1.5,title_styling:!1,subtitle:"",subtitle_size:1.6,subtitle_size_custom:1.6,subtitle_line_height:1.2,subtitle_color:null,subtitle_weight:"normal",subtitle_space_above:0,subtitle_space_above_custom:1.5,subtitle_styling:!1,header_text:"",header_text_size:1.2,header_text_size_custom:1.2,header_text_line_height:1.2,header_text_color:null,header_text_weight:"normal",header_text_space_above:.5,header_text_space_above_custom:1.5,source_label:"Source: ",source_name:"",source_url:"",source_name_2:"",source_url_2:"",source_name_3:"",source_url_3:"",footer_note:"",footer_note_secondary:"",footer_text_size:1,footer_text_color:null,footer_styling:!1,footer_align:"justify",footer_align_vertical:"center",footer_border:"none",footer_border_width:1,footer_border_color:"#dddddd",footer_border_style:"solid",footer_border_space:.5,footer_logo_enabled:!1,footer_logo_src:"",footer_logo_src_light:"",footer_logo_link_url:"",footer_logo_height:1.5,footer_logo_margin:.25,footer_logo_order:"right",screenreader_hide_primary:!0,screenreader_text_primary:""});var J,K,Q,tt="Your web browser does not support the features used by this content. Consider updating to a modern browser.";function et(t){return window.innerWidth!==J&&(J=window.innerWidth,K=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*K}var rt,nt=["header","controls","legend","primary","footer"],it={};function ot(t){return t.getBoundingClientRect().width}function at(t){return t.getBoundingClientRect().height}function lt(t,e){var r="fl-layout-"+t,n=document.createElement("section");n.className="fl-layout-container",n.id=r+"-container",n.style.width="100%",n.style.position="relative",n.style.order=e;var i=document.createElement("div");return i.className="fl-layout-inner",i.id=r,i.style.width="100%",i.style.position="relative","primary"==t&&(n.style.display="flex",function(t){var e=document.createElement("p");e.id="fl-layout-primary-description";var r=e.style;r.border="0",r.height="1px",r.width="1px",r.margin="-1px",r.overflow="hidden",r.padding="0",r.position="absolute",r.clip="rect(0 0 0 0)",t.appendChild(e)}(n)),"controls"!=t&&"legend"!=t||i.setAttribute("aria-hidden",!0),n.appendChild(i),it.wrapper.appendChild(n),{outer:n,inner:i}}function st(){return it.wrapper}function ut(){return it.sidebar}function ht(t){return-1!==nt.indexOf(t)?it[t].inner:null}function ct(t){return it[t]||void 0===t?ot("wrapper"==t||void 0===t?it.wrapper:it[t].outer):null}function dt(t){return it[t]||void 0===t?"wrapper"==t||void 0===t?ot(it.wrapper)-vt("horizontal")-bt("horizontal"):ot(it[t].inner):null}function ft(t){return it[t]||void 0===t?at("wrapper"==t||void 0===t?it.wrapper:it[t].outer):null}function pt(t){return it[t]||void 0===t?"wrapper"==t||void 0===t?at(it.wrapper)-vt("vertical")-bt("vertical"):at(it[t].inner):null}function _t(){return at(it.primary.outer)-mt(it.primary.outer)}function gt(){return ot(it.primary.inner)}function mt(t){return(parseFloat(getComputedStyle(t).paddingTop)||0)+(parseFloat(getComputedStyle(t).paddingBottom)||0)}function yt(){return function(){if(Flourish.fixed_height)return window.innerHeight;var t=window.innerWidth;return 999<t?650:599<t?575:400}()-vt("vertical")-bt("vertical")-["header","controls","legend","footer"].reduce(function(t,e){return t+ft(e)},0)-mt(it.primary.outer)}function vt(t){var e;return"left"==t?e=Q.margin_left:"right"==t?e=Q.margin_right:"top"==t?e=Q.margin_top:"bottom"==t?e=Q.margin_bottom:"horizontal"==t?e=Q.margin_left+Q.margin_right:"vertical"==t&&(e=Q.margin_top+Q.margin_bottom),et(e)}function bt(t){return Q.border.enabled?"vertical"==t?Q.border.top.width+Q.border.bottom.width:"horizontal"==t?Q.border.left.width+Q.border.right.width:null:0}function wt(t){var e=it.primary;if(Flourish.fixed_height||void 0===Flourish.fixed_height)e.inner.style.height="";else{var r=null===t,n=r?yt():t;n+mt(it.primary.outer)!==parseFloat(e.outer.style.height)&&(it.wrapper.style.height="",e.outer.style.flex="",e.inner.style.height=n+"px",Flourish.setHeight(r?null:ft()))}}function xt(t){var e=parseFloat(it.primary.outer.style.order);it.legend.outer.style.order=e+("below"===t.trim().toLowerCase()?1:-1)}function kt(t){var e=rt.querySelector(".fl-layout-overlay-message");if(t){rt.style.display="block";var r="string"==typeof t?t:tt;e.innerHTML=r}else e.textContent="",rt.style.display="none"}function Mt(){return rt}var zt="http://www.w3.org/1999/xhtml",Et={svg:"http://www.w3.org/2000/svg",xhtml:zt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function At(t){var e=t+="",r=e.indexOf(":");return 0<=r&&"xmlns"!==(e=t.slice(0,r))&&(t=t.slice(r+1)),Et.hasOwnProperty(e)?{space:Et[e],local:t}:t}function Nt(t){var e=At(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(r){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===zt&&t.documentElement.namespaceURI===zt?t.createElement(r):t.createElementNS(e,r)}})(e)}function St(){}function Lt(t){return null==t?St:function(){return this.querySelector(t)}}function Ct(){return[]}function Ht(t){return new Array(t.length)}function Pt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Pt.prototype={constructor:Pt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Rt="$";function Tt(t,e,r,n,i,o){for(var a,l=0,s=e.length,u=o.length;l<u;++l)(a=e[l])?(a.__data__=o[l],n[l]=a):r[l]=new Pt(t,o[l]);for(;l<s;++l)(a=e[l])&&(i[l]=a)}function Ft(t,e,r,n,i,o,a){var l,s,u,h={},c=e.length,d=o.length,f=new Array(c);for(l=0;l<c;++l)(s=e[l])&&(f[l]=u=Rt+a.call(s,s.__data__,l,e),u in h?i[l]=s:h[u]=s);for(l=0;l<d;++l)(s=h[u=Rt+a.call(t,o[l],l,o)])?((n[l]=s).__data__=o[l],h[u]=null):r[l]=new Pt(t,o[l]);for(l=0;l<c;++l)(s=e[l])&&h[f[l]]===s&&(i[l]=s)}function Bt(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function jt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function It(t){return t.trim().split(/^|\s+/)}function Ot(t){return t.classList||new qt(t)}function qt(t){this._node=t,this._names=It(t.getAttribute("class")||"")}function Wt(t,e){for(var r=Ot(t),n=-1,i=e.length;++n<i;)r.add(e[n])}function Dt(t,e){for(var r=Ot(t),n=-1,i=e.length;++n<i;)r.remove(e[n])}function Vt(){this.textContent=""}function $t(){this.innerHTML=""}function Xt(){this.nextSibling&&this.parentNode.appendChild(this)}function Ut(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Yt(){return null}function Gt(){var t=this.parentNode;t&&t.removeChild(this)}function Zt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Jt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}qt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var Kt={},Qt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Kt={mouseenter:"mouseover",mouseleave:"mouseout"}));function te(r,t,e){return r=ee(r,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||r.call(this,t)}}function ee(r,n,i){return function(t){var e=Qt;Qt=t;try{r.call(this,this.__data__,n,i)}finally{Qt=e}}}function re(o){return function(){var t=this.__on;if(t){for(var e,r=0,n=-1,i=t.length;r<i;++r)e=t[r],o.type&&e.type!==o.type||e.name!==o.name?t[++n]=e:this.removeEventListener(e.type,e.listener,e.capture);++n?t.length=n:delete this.__on}}}function ne(s,u,h){var c=Kt.hasOwnProperty(s.type)?te:ee;return function(t,e,r){var n,i=this.__on,o=c(u,e,r);if(i)for(var a=0,l=i.length;a<l;++a)if((n=i[a]).type===s.type&&n.name===s.name)return this.removeEventListener(n.type,n.listener,n.capture),this.addEventListener(n.type,n.listener=o,n.capture=h),void(n.value=u);this.addEventListener(s.type,o,h),n={type:s.type,name:s.name,value:u,listener:o,capture:h},i?i.push(n):this.__on=[n]}}function ie(t,e,r){var n=jt(t),i=n.CustomEvent;"function"==typeof i?i=new i(e,r):(i=n.document.createEvent("Event"),r?(i.initEvent(e,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var oe=[null];function ae(t,e){this._groups=t,this._parents=e}function le(t){return"string"==typeof t?new ae([[document.querySelector(t)]],[document.documentElement]):new ae([[t]],oe)}function se(t){var e=function(){for(var t,e=Qt;t=e.sourceEvent;)e=t;return e}();return e.changedTouches&&(e=e.changedTouches[0]),function(t,e){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,[(n=n.matrixTransform(t.getScreenCTM().inverse())).x,n.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}(t,e)}ae.prototype={constructor:ae,select:function(t){"function"!=typeof t&&(t=Lt(t));for(var e=this._groups,r=e.length,n=new Array(r),i=0;i<r;++i)for(var o,a,l=e[i],s=l.length,u=n[i]=new Array(s),h=0;h<s;++h)(o=l[h])&&(a=t.call(o,o.__data__,h,l))&&("__data__"in o&&(a.__data__=o.__data__),u[h]=a);return new ae(n,this._parents)},selectAll:function(t){var e;"function"!=typeof t&&(t=null==(e=t)?Ct:function(){return this.querySelectorAll(e)});for(var r=this._groups,n=r.length,i=[],o=[],a=0;a<n;++a)for(var l,s=r[a],u=s.length,h=0;h<u;++h)(l=s[h])&&(i.push(t.call(l,l.__data__,h,s)),o.push(l));return new ae(i,o)},filter:function(t){var e;"function"!=typeof t&&(e=t,t=function(){return this.matches(e)});for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o)for(var a,l=r[o],s=l.length,u=i[o]=[],h=0;h<s;++h)(a=l[h])&&t.call(a,a.__data__,h,l)&&u.push(a);return new ae(i,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),h=-1,this.each(function(t){p[++h]=t}),p;var r,n=e?Ft:Tt,i=this._parents,o=this._groups;"function"!=typeof t&&(r=t,t=function(){return r});for(var a=o.length,l=new Array(a),s=new Array(a),u=new Array(a),h=0;h<a;++h){var c=i[h],d=o[h],f=d.length,p=t.call(c,c&&c.__data__,h,i),_=p.length,g=s[h]=new Array(_),m=l[h]=new Array(_);n(c,d,g,m,u[h]=new Array(f),p,e);for(var y,v,b=0,w=0;b<_;++b)if(y=g[b]){for(w<=b&&(w=b+1);!(v=m[w])&&++w<_;);y._next=v||null}}return(l=new ae(l,i))._enter=s,l._exit=u,l},enter:function(){return new ae(this._enter||this._groups.map(Ht),this._parents)},exit:function(){return new ae(this._exit||this._groups.map(Ht),this._parents)},join:function(t,e,r){var n=this.enter(),i=this,o=this.exit();return n="function"==typeof t?t(n):n.append(t+""),null!=e&&(i=e(i)),null==r?o.remove():r(o),n&&i?n.merge(i).order():i},merge:function(t){for(var e=this._groups,r=t._groups,n=e.length,i=r.length,o=Math.min(n,i),a=new Array(n),l=0;l<o;++l)for(var s,u=e[l],h=r[l],c=u.length,d=a[l]=new Array(c),f=0;f<c;++f)(s=u[f]||h[f])&&(d[f]=s);for(;l<n;++l)a[l]=e[l];return new ae(a,this._parents)},order:function(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var n,i=t[e],o=i.length-1,a=i[o];0<=--o;)(n=i[o])&&(a&&4^n.compareDocumentPosition(a)&&a.parentNode.insertBefore(n,a),a=n);return this},sort:function(r){function t(t,e){return t&&e?r(t.__data__,e.__data__):!t-!e}r=r||Bt;for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o){for(var a,l=e[o],s=l.length,u=i[o]=new Array(s),h=0;h<s;++h)(a=l[h])&&(u[h]=a);u.sort(t)}return new ae(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var n=t[e],i=0,o=n.length;i<o;++i){var a=n[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i,o=e[r],a=0,l=o.length;a<l;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var r=At(t);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((null==e?r.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?r.local?function(e,r){return function(){var t=r.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,r){return function(){var t=r.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:r.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(r,e))},style:function(t,e,r){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,r,n){return function(){var t=r.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,n)}}:function(t,e,r){return function(){this.style.setProperty(t,e,r)}})(t,e,null==r?"":r)):(n=this.node(),i=t,n.style.getPropertyValue(i)||jt(n).getComputedStyle(n,null).getPropertyValue(i));var n,i},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,r){return function(){var t=r.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var r=It(t+"");if(arguments.length<2){for(var n=Ot(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?Wt:Dt)(this,t)}}:e?function(t){return function(){Wt(this,t)}}:function(t){return function(){Dt(this,t)}})(r,e))},text:function(t){return arguments.length?this.each(null==t?Vt:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?$t:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Xt)},lower:function(){return this.each(Ut)},append:function(t){var e="function"==typeof t?t:Nt(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var r="function"==typeof t?t:Nt(t),n=null==e?Yt:"function"==typeof e?e:Lt(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function(){return this.each(Gt)},clone:function(t){return this.select(t?Jt:Zt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,r){var n,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");return 0<=r&&(e=t.slice(r+1),t=t.slice(0,r)),{type:t,name:e}}),a=o.length;if(!(arguments.length<2)){for(l=e?ne:re,null==r&&(r=!1),n=0;n<a;++n)this.each(l(o[n],e,r));return this}var l=this.node().__on;if(l)for(var s,u=0,h=l.length;u<h;++u)for(n=0,s=l[u];n<a;++n)if((i=o[n]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return ie(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return ie(this,t,e)}})(t,e))}};var ue=Array.prototype.slice;function he(t){return t}var ce=1,de=2,fe=3,pe=4,_e=1e-6;function ge(t){return"translate("+(t+.5)+",0)"}function me(t){return"translate(0,"+(t+.5)+")"}function ye(){return!this.__axis}function ve(_,g){var m=[],y=null,v=null,b=6,w=6,x=3,k=_===ce||_===pe?-1:1,M=_===pe||_===de?"x":"y",z=_===ce||_===fe?ge:me;function e(t){var e=null==y?g.ticks?g.ticks.apply(g,m):g.domain():y,r=null==v?g.tickFormat?g.tickFormat.apply(g,m):he:v,n=Math.max(b,0)+x,i=g.range(),o=+i[0]+.5,a=+i[i.length-1]+.5,l=(g.bandwidth?function(e){var r=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(r=Math.round(r)),function(t){return+e(t)+r}}:function(e){return function(t){return+e(t)}})(g.copy()),s=t.selection?t.selection():t,u=s.selectAll(".domain").data([null]),h=s.selectAll(".tick").data(e,g).order(),c=h.exit(),d=h.enter().append("g").attr("class","tick"),f=h.select("line"),p=h.select("text");u=u.merge(u.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),h=h.merge(d),f=f.merge(d.append("line").attr("stroke","currentColor").attr(M+"2",k*b)),p=p.merge(d.append("text").attr("fill","currentColor").attr(M,k*n).attr("dy",_===ce?"0em":_===fe?"0.71em":"0.32em")),t!==s&&(u=u.transition(t),h=h.transition(t),f=f.transition(t),p=p.transition(t),c=c.transition(t).attr("opacity",_e).attr("transform",function(t){return isFinite(t=l(t))?z(t):this.getAttribute("transform")}),d.attr("opacity",_e).attr("transform",function(t){var e=this.parentNode.__axis;return z(e&&isFinite(e=e(t))?e:l(t))})),c.remove(),u.attr("d",_===pe||_==de?w?"M"+k*w+","+o+"H0.5V"+a+"H"+k*w:"M0.5,"+o+"V"+a:w?"M"+o+","+k*w+"V0.5H"+a+"V"+k*w:"M"+o+",0.5H"+a),h.attr("opacity",1).attr("transform",function(t){return z(l(t))}),f.attr(M+"2",k*b),p.attr(M,k*n).text(r),s.filter(ye).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",_===de?"start":_===pe?"end":"middle"),s.each(function(){this.__axis=l})}return e.scale=function(t){return arguments.length?(g=t,e):g},e.ticks=function(){return m=ue.call(arguments),e},e.tickArguments=function(t){return arguments.length?(m=null==t?[]:ue.call(t),e):m.slice()},e.tickValues=function(t){return arguments.length?(y=null==t?null:ue.call(t),e):y&&y.slice()},e.tickFormat=function(t){return arguments.length?(v=t,e):v},e.tickSize=function(t){return arguments.length?(b=w=+t,e):b},e.tickSizeInner=function(t){return arguments.length?(b=+t,e):b},e.tickSizeOuter=function(t){return arguments.length?(w=+t,e):w},e.tickPadding=function(t){return arguments.length?(x=+t,e):x},e}function be(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}var we,xe,ke=(1===(we=be).length&&(xe=we,we=function(t,e){return be(xe(t),e)}),{left:function(t,e,r,n){for(null==r&&(r=0),null==n&&(n=t.length);r<n;){var i=r+n>>>1;we(t[i],e)<0?r=1+i:n=i}return r},right:function(t,e,r,n){for(null==r&&(r=0),null==n&&(n=t.length);r<n;){var i=r+n>>>1;0<we(t[i],e)?n=i:r=1+i}return r}}).right,Me=Math.sqrt(50),ze=Math.sqrt(10),Ee=Math.sqrt(2);function Ae(t,e,r){var n=(e-t)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,i);return 0<=i?(Me<=o?10:ze<=o?5:Ee<=o?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(Me<=o?10:ze<=o?5:Ee<=o?2:1)}function Ne(t){return function(){return t}}function Se(o){return 1==(o=+o)?Le:function(t,e){return e-t?(r=t,n=e,i=o,r=Math.pow(r,i),n=Math.pow(n,i)-r,i=1/i,function(t){return Math.pow(r+t*n,i)}):Ne(isNaN(t)?e:t);var r,n,i}}function Le(t,e){var r,n,i=e-t;return i?(r=t,n=i,function(t){return r+t*n}):Ne(isNaN(t)?e:t)}var Ce=function t(e){var a=Se(e);function r(e,t){var r=a((e=k(e)).r,(t=k(t)).r),n=a(e.g,t.g),i=a(e.b,t.b),o=Le(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=n(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=t,r}(1);function He(e,r){return e=+e,r=+r,function(t){return e*(1-t)+r*t}}var Pe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Re=new RegExp(Pe.source,"g");function Te(t,n){var e,r,i,o,a,l=Pe.lastIndex=Re.lastIndex=0,s=-1,u=[],h=[];for(t+="",n+="";(e=Pe.exec(t))&&(r=Re.exec(n));)(i=r.index)>l&&(i=n.slice(l,i),u[s]?u[s]+=i:u[++s]=i),(e=e[0])===(r=r[0])?u[s]?u[s]+=r:u[++s]=r:(u[++s]=null,h.push({i:s,x:He(e,r)})),l=Re.lastIndex;return l<n.length&&(i=n.slice(l),u[s]?u[s]+=i:u[++s]=i),u.length<2?h[0]?(a=h[0].x,function(t){return a(t)+""}):(o=n,function(){return o}):(n=h.length,function(t){for(var e,r=0;r<n;++r)u[(e=h[r]).i]=e.x(t);return u.join("")})}function Fe(t,e){var r,n,i=typeof e;return null==e||"boolean"==i?Ne(e):("number"==i?He:"string"==i?(r=b(e))?(e=r,Ce):Te:e instanceof b?Ce:e instanceof Date?function(e,r){var n=new Date;return e=+e,r=+r,function(t){return n.setTime(e*(1-t)+r*t),n}}:(n=e,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(e)?function(t,e){var r,n=e?e.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),a=new Array(n);for(r=0;r<i;++r)o[r]=Fe(t[r],e[r]);for(;r<n;++r)a[r]=e[r];return function(t){for(r=0;r<i;++r)a[r]=o[r](t);return a}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var r,n={},i={};for(r in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)r in t?n[r]=Fe(t[r],e[r]):i[r]=e[r];return function(t){for(r in n)i[r]=n[r](t);return i}}:He:function(e,r){r=r||[];var n,i=e?Math.min(r.length,e.length):0,o=r.slice();return function(t){for(n=0;n<i;++n)o[n]=e[n]*(1-t)+r[n]*t;return o}}))(t,e)}function Be(e,r){return e=+e,r=+r,function(t){return Math.round(e*(1-t)+r*t)}}var je=Array.prototype,Ie=je.map,Oe=je.slice;function qe(t){return+t}var We=[0,1];function De(e,r){return(r-=e=+e)?function(t){return(t-e)/r}:(t=r,function(){return t});var t}function Ve(t,e,r,n){var i=t[0],o=t[1],a=e[0],l=e[1];return a=o<i?(i=r(o,i),n(l,a)):(i=r(i,o),n(a,l)),function(t){return a(i(t))}}function $e(r,t,e,n){var i=Math.min(r.length,t.length)-1,o=new Array(i),a=new Array(i),l=-1;for(r[i]<r[0]&&(r=r.slice().reverse(),t=t.slice().reverse());++l<i;)o[l]=e(r[l],r[l+1]),a[l]=n(t[l],t[l+1]);return function(t){var e=ke(r,t,1,i)-1;return a[e](o[e](t))}}function Xe(e,r){var n,o,a,l=We,s=We,u=Fe,h=!1;function i(){return n=2<Math.min(l.length,s.length)?$e:Ve,o=a=null,t}function t(t){return(o=o||n(l,s,h?(i=e,function(e,r){var n=i(e=+e,r=+r);return function(t){return t<=e?0:r<=t?1:n(t)}}):e,u))(+t);var i}return t.invert=function(t){return(a=a||n(s,l,De,h?(i=r,function(e,r){var n=i(e=+e,r=+r);return function(t){return t<=0?e:1<=t?r:n(t)}}):r))(+t);var i},t.domain=function(t){return arguments.length?(l=Ie.call(t,qe),i()):l.slice()},t.range=function(t){return arguments.length?(s=Oe.call(t),i()):s.slice()},t.rangeRound=function(t){return s=Oe.call(t),u=Be,i()},t.clamp=function(t){return arguments.length?(h=!!t,i()):h},t.interpolate=function(t){return arguments.length?(u=t,i()):u},i()}function Ue(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[1<n.length?n[0]+n.slice(2):n,+t.slice(r+1)]}function Ye(t){return(t=Ue(Math.abs(t)))?t[1]:NaN}var Ge,Ze=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Je(t){if(!(e=Ze.exec(t)))throw new Error("invalid format: "+t);var e;return new Ke({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ke(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Qe(t,e){var r=Ue(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}Je.prototype=Ke.prototype,Ke.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var tr={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Qe(100*t,e)},r:Qe,s:function(t,e){var r=Ue(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(Ge=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=n.length;return o===a?n:a<o?n+new Array(o-a+1).join("0"):0<o?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Ue(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function er(t){return t}var rr,nr,ir,or=Array.prototype.map,ar=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function lr(t){var e,l,s,x=void 0===t.grouping||void 0===t.thousands?er:(l=or.call(t.grouping,Number),s=t.thousands+"",function(t,e){for(var r=t.length,n=[],i=0,o=l[0],a=0;0<r&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),n.push(t.substring(r-=o,r+o)),!((a+=o+1)>e));)o=l[i=(i+1)%l.length];return n.reverse().join(s)}),n=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",k=void 0===t.decimal?".":t.decimal+"",M=void 0===t.numerals?er:(e=or.call(t.numerals,String),function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}),o=void 0===t.percent?"%":t.percent+"",z=void 0===t.minus?"-":t.minus+"",E=void 0===t.nan?"NaN":t.nan+"";function a(t){var u=(t=Je(t)).fill,h=t.align,c=t.sign,e=t.symbol,d=t.zero,f=t.width,p=t.comma,_=t.precision,g=t.trim,m=t.type;"n"===m?(p=!0,m="g"):tr[m]||(void 0===_&&(_=12),g=!0,m="g"),(d||"0"===u&&"="===h)&&(d=!0,u="0",h="=");var y="$"===e?n:"#"===e&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",v="$"===e?i:/[%p]/.test(m)?o:"",b=tr[m],w=/[defgprs%]/.test(m);function r(t){var e,r,n,i=y,o=v;if("c"===m)o=b(t)+o,t="";else{var a=(t=+t)<0;if(t=isNaN(t)?E:b(Math.abs(t),_),g&&(t=function(t){t:for(var e,r=t.length,n=1,i=-1;n<r;++n)switch(t[n]){case".":i=e=n;break;case"0":0===i&&(i=n),e=n;break;default:if(!+t[n])break t;0<i&&(i=0)}return 0<i?t.slice(0,i)+t.slice(e+1):t}(t)),a&&0==+t&&(a=!1),i=(a?"("===c?c:z:"-"===c||"("===c?"":c)+i,o=("s"===m?ar[8+Ge/3]:"")+o+(a&&"("===c?")":""),w)for(e=-1,r=t.length;++e<r;)if((n=t.charCodeAt(e))<48||57<n){o=(46===n?k+t.slice(e+1):t.slice(e))+o,t=t.slice(0,e);break}}p&&!d&&(t=x(t,1/0));var l=i.length+t.length+o.length,s=l<f?new Array(f-l+1).join(u):"";switch(p&&d&&(t=x(s+t,s.length?f-o.length:1/0),s=""),h){case"<":t=i+t+o+s;break;case"=":t=i+s+t+o;break;case"^":t=s.slice(0,l=s.length>>1)+i+t+o+s.slice(l);break;default:t=s+i+t+o}return M(t)}return _=void 0===_?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),r.toString=function(){return t+""},r}return{format:a,formatPrefix:function(t,e){var r=a(((t=Je(t)).type="f",t)),n=3*Math.max(-8,Math.min(8,Math.floor(Ye(e)/3))),i=Math.pow(10,-n),o=ar[8+n/3];return function(t){return r(i*t)+o}}}}function sr(t,e,r){var n,i,o,a,l,s,u,h,c,d,f,p,_=t[0],g=t[t.length-1],m=(i=_,o=g,a=null==e?10:e,l=Math.abs(o-i)/Math.max(0,a),s=Math.pow(10,Math.floor(Math.log(l)/Math.LN10)),Me<=(u=l/s)?s*=10:ze<=u?s*=5:Ee<=u&&(s*=2),o<i?-s:s);switch((r=Je(null==r?",f":r)).type){case"s":var y=Math.max(Math.abs(_),Math.abs(g));return null!=r.precision||isNaN((f=m,p=y,n=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ye(p)/3)))-Ye(Math.abs(f)))))||(r.precision=n),ir(r,y);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN((c=m,d=Math.max(Math.abs(_),Math.abs(g)),c=Math.abs(c),d=Math.abs(d)-c,n=Math.max(0,Ye(d)-Ye(c))+1))||(r.precision=n-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN((h=m,n=Math.max(0,-Ye(Math.abs(h)))))||(r.precision=n-2*("%"===r.type))}return nr(r)}function ur(l){var s=l.domain;return l.ticks=function(t){var e=s();return function(t,e,r){var n,i,o,a,l=-1;if(r=+r,(t=+t)===(e=+e)&&0<r)return[t];if((n=e<t)&&(i=t,t=e,e=i),0===(a=Ae(t,e,r))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++l<i;)o[l]=(t+l)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++l<i;)o[l]=(t-l)/a;return n&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},l.tickFormat=function(t,e){return sr(s(),t,e)},l.nice=function(t){null==t&&(t=10);var e,r=s(),n=0,i=r.length-1,o=r[n],a=r[i];return a<o&&(e=o,o=a,a=e,e=n,n=i,i=e),0<(e=Ae(o,a,t))?e=Ae(o=Math.floor(o/e)*e,a=Math.ceil(a/e)*e,t):e<0&&(e=Ae(o=Math.ceil(o*e)/e,a=Math.floor(a*e)/e,t)),0<e?(r[n]=Math.floor(o/e)*e,r[i]=Math.ceil(a/e)*e,s(r)):e<0&&(r[n]=Math.ceil(o*e)/e,r[i]=Math.floor(a*e)/e,s(r)),l},l}function hr(){var e=Xe(De,He);return e.copy=function(){return t=e,hr().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp());var t},ur(e)}rr=lr({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),nr=rr.format,ir=rr.formatPrefix;function cr(t){this.container=le(t),this._width=null,this._height=null,this._handleRadius=15,this._channelHeight=5,this._channelRadius=null,this._handleFill="black",this._channelFill="#eee",this._margin={top:null,left:null,right:null},this._domain=[0,1],this._value=null,this._snap=!1,this._scale=null,this._axis=!1,this._ticks=null,this._tickFormat=null,this._tickSize=null,this._label=null,this._labelSize=18,this._startLabel=null,this._startLabelBelow=!1,this._endLabel=null,this._endLabelBelow=!1,this._startEndLabelSize=16,this.handlers={change:[]}}function dr(e){0<e.length&&"_"==e.charAt(0)&&(cr.prototype[e.substr(1)]=function(t){return void 0===t?this[e]:(this[e]=t,this)})}var fr,pr,_r,gr,mr,yr=new cr;for(var vr in yr)dr(vr);function br(t,e){return"boolean"==typeof t?t?Math.round(e):e:function t(e,r,n,i){if(void 0===n&&(n=0),void 0===i&&(i=e.length),i-n==0)return r;if(i-n==1)return e[n];if(i-n==2)return Math.abs(e[n]-r)<=Math.abs(e[n+1]-r)?e[n]:e[n+1];var o=n+Math.floor((i-n)/2),a=e[o],l=e[o-1];return l<=r&&r<=a?Math.abs(l-r)<=Math.abs(a-r)?l:a:a<=r?t(e,r,o,i):t(e,r,n,o)}(t,e)}function wr(t){return new cr(t)}function xr(t){return t.replace(/\s/g,"%20")}function kr(t){if(le("#photo-size-container").style("height",null).style("width",null),Flourish.fixed_height)!function(t){var e=Hr.getPrimaryHeight(),r=Hr.getPrimaryWidth()*t,n=r<=e?Hr.getPrimaryWidth():e/t,i=0;fr=n<520,"fade"==Cr.mode&&fr&&(i=.75*Cr.slider_radius);var o=e-i;e<r&&le("#photo-size-container").style("height",o+"px").style("width","auto")}(t),Hr.setHeight(null);else{fr=Hr.getPrimaryWidth()<520;var e=Hr.getPrimaryWidth()*t,r=0;"fade"==Cr.mode&&fr&&(r=.75*Cr.slider_radius),Hr.setHeight(e+r)}}function Mr(t){if("spotlight"!=Cr.mode)return le("#photo-2-container").style("-webkit-mask-image",null),le("#photo-2-container").style("-webkit-mask-size",null),le("#photo-2-container").style("-webkit-mask-repeat",null),void le("#photo-2-container").style("-webkit-mask-position",null);var e,r,n=le("#photo-size-container").node().getBoundingClientRect(),i=Hr.getPrimaryWidth()-n.width,o=le("#photo-2-container").node().getBoundingClientRect(),a=n.width*(Cr.spotlight_size/100),l=a/2,s=n.width,u=o.height;if(!t){var h=[Qt.clientX-o.left-.5*i,Qt.clientY-o.top];e=h[0]/s,r=h[1]/u,Cr.spotlight_position.x=e,Cr.spotlight_position.y=r}var c=s*Cr.spotlight_position.x-l+.5*i,d=u*Cr.spotlight_position.y-l,f=Cr.spotlight_blur/100*35+35;le("#photo-2-container").style("-webkit-mask-image","radial-gradient(rgba(0, 0, 0, 1) 35%, transparent "+f+"%)"),le("#photo-2-container").style("-webkit-mask-size",a+"px "+a+"px"),le("#photo-2-container").style("-webkit-mask-repeat","no-repeat"),le("#photo-2-container").style("-webkit-mask-position",c+"px "+d+"px")}function zr(e){le("#wrapper").node().className="mode-"+Cr.mode,Hr.update(),function(t){var e=1<Cr.photo_1_small.length&&Cr.has_photo_1_small?Cr.photo_1_small:Cr.photo_1_big,r=fr?e:Cr.photo_1_big;if(r==Ar&&null!==Lr)t(Lr);else{clearInterval(mr);var n=0;Lr=null,le("#photo-size-container").attr("src",xr(r));var i=le("#photo-size-container").node();mr=setInterval(function(){n++,i.naturalHeight?(Lr=i.naturalHeight/i.naturalWidth,Ar=r,t(Lr),clearInterval(mr)):100<n&&(i.addEventListener("load",function(){Lr=i.naturalHeight/i.naturalWidth,Ar=r,t(Lr)}),clearInterval(mr))},10)}}(function(t){kr(t),function(t){pr=Hr.getPrimaryWidth(),_r=le("#photo-size-container").node().getBoundingClientRect().width,gr=.5*(pr-_r);var e=1<Cr.photo_1_small.length&&Cr.has_photo_1_small?Cr.photo_1_small:Cr.photo_1_big,r=fr?e:Cr.photo_1_big,n=1<Cr.photo_2_small.length&&Cr.has_photo_2_small?Cr.photo_2_small:Cr.photo_2_big,i=fr?n:Cr.photo_2_big;le("#photo-1-container").style("background-image","url("+xr(r)+")"),le("#photo-2-container").style("background-image","url("+xr(i)+")"),le("#photo-2-container").style("width",pr+"px");var o=t?0:Cr.spotlight_speed;le("#photo-2-container").style("transition","spotlight"==Cr.mode&&Cr.spotlight_fixed?"-webkit-mask-position "+o+"s, -webkit-mask-size "+o+"s":null)}(e),function(){(function(){if("spotlight"==Cr.mode)return;var t=le("#photo-size-container").node().getBoundingClientRect(),e=.5*(Hr.getPrimaryWidth()-t.width),r=fr?.5*Cr.slider_radius:Cr.slider_radius;le(".slider-el").style("height",r+"px").style("left","fade"==Cr.mode?null:e-.5*r+"px").style("right","fade"==Cr.mode?null:e-.5*r+"px"),Nr.draw()})(),le(".slider-el").classed("overlay",!fr&&"fade"==Cr.mode);var t=fr?.25*Cr.slider_radius:.5*Cr.slider_radius,e=Cr.slider_fill_overlay;fr&&"fade"==Cr.mode&&(e=Cr.slider_fill_standalone);"image"==Cr.slider_fill_type&&(e="transparent");Nr.handleFill(e).handleRadius(t).draw(),le(".slider-el").style("margin-top","fade"!=Cr.mode?-t+"px":fr?t+"px":null),le("#divider-line").style("width",(fr?.75*Cr.slider_line_thickness:Cr.slider_line_thickness)+"px"),le("#divider-line").style("background-color",Cr.slider_line_color),le(".slider-handle").style("stroke","color"==Cr.slider_fill_type?null:"transparent"),le(Sr).attr("height",2*t).attr("width",2*t).attr("preserveAspectRatio","xMidYMid slice").attr("href",Cr.slider_fill_image).attr("transform","translate("+-t+","+-t+")").attr("x",le(".slider-handle").attr("cx")).style("pointer-events","none").style("display","image"==Cr.slider_fill_type?null:"none")}(),("spotlight"==Cr.mode?Er:r.current_position!==Cr.targetPosition?function(){clearInterval(t);var t=setInterval(function(){r.current_position>Cr.targetPosition?Pr(Math.max(Cr.targetPosition,r.current_position-.05)):r.current_position<Cr.targetPosition&&Pr(Math.min(Cr.targetPosition,r.current_position+.05)),Er(),r.current_position===Cr.targetPosition&&clearInterval(t)},20)}:Er)()})}function Er(){le("#photo-2-container").style("opacity","fade"==Cr.mode?r.current_position:1),le("#photo-2-wrapper").style("width","slide"==Cr.mode?gr+r.current_position*_r+"px":"100%"),le("#divider-line").style("left",gr+r.current_position*_r+"px"),le(Sr).attr("x",function(){return"fade"==Cr.mode?le(".slider-handle").attr("cx"):r.current_position*_r}),Nr.value(r.current_position).update(),Mr(Cr.spotlight_position||"center")}cr.prototype.margin=function(t){if(!t)return this._margin;for(vr in t){if(!(vr in this._margin))throw"Slider.margin: unrecognised option "+vr;this._margin[vr]=t[vr]}return this},cr.prototype.on=function(t,e){if(!(t in this.handlers))throw"Slider.on: No such event: "+t;return this.handlers[t].push(e),this},cr.prototype.fire=function(t,e){if(!(t in this.handlers))throw"Slider.fire: No such event: "+t;for(var r=this.handlers[t],n=0;n<r.length;n++)r[n].call(this,e);return this},cr.prototype.update=cr.prototype.draw=function(){var i=this,t=this._width,e=this._height,r=this.container.node();if(!t){var n=r.getBoundingClientRect();if(!n||0==n.width)return this;t=n.width,e=n.height}var o,a=null==this._channelRadius?this._channelHeight/2:this._channelRadius,l=null==this._margin.left?Math.max(this._handleRadius,a):this._margin.left,s=null==this._margin.right?Math.max(this._handleRadius,a):this._margin.right,u=null==this._margin.top?Math.max(this._handleRadius,this._channelHeight/2):this._margin.top,h=t-l-s,c=h+2*a,d=1.5*this._labelSize;null!=this._label&&null==this._margin.top&&(u+=d),"http://www.w3.org/2000/svg"==r.namespaceURI?o=this.container:((o=this.container.selectAll("svg").data([{width:t,height:e}])).exit().remove(),(o=o.enter().append("svg").merge(o)).attr("width",function(t){return t.width}).attr("height",function(t){return t.height}));var f=o.selectAll("g.slider-container").data([{left:l,top:u,id:this._id}]);f.exit().remove(),(f=f.enter().append("g").attr("class","slider-container").merge(f)).attr("transform",function(t){return"translate("+t.left+","+t.top+")"}).attr("id",function(t){return t.id}),this.scale=(this._scale?this._scale():hr()).domain(this._domain).range([0,h]),null==this._value||this._value<this._domain[0]?this._value=this._domain[0]:this._value>this._domain[1]&&(this._value=this._domain[1]),this._snap&&(this._value=br(this._snap,this._value));var p,_,g=[];this._axis&&(p="boolean"!=typeof this._axis?this._axis(this.scale):ve(fe,_).scale(this.scale).tickPadding(6),this._ticks&&p.ticks(this._ticks),this._tickFormat&&p.tickFormat(this._tickFormat),this._tickSize?p.tickSize(this._tickSize):p.tickSize(Math.max(5,this._handleRadius-this._channelHeight-2)),g.push(p));var m,y,v,b,w=f.selectAll(".slider-axis").data(g).enter();function x(){document.removeEventListener("mouseup",x,!1),document.removeEventListener("mousemove",k,!1)}function k(t){E(t.clientX-v)}function M(){document.removeEventListener("touchend",M,!1),document.removeEventListener("touchmove",z,!1)}function z(t){1==t.touches.length&&E(t.touches[0].clientX-v)}function E(t){var e=b+t,r=Math.max(0,Math.min(h,e)),n=i.scale.invert(r);i._snap&&(n=br(i._snap,n)),y.attr("cx",i.scale(n)),n!=i._value&&(i._value=n,i.fire("change",i._value))}w.append("g").attr("class","slider-axis").attr("transform","translate(0,"+this._channelHeight/2+")").each(function(t){t(le(this))}),w.select(".domain").attr("fill","none"),w.selectAll(".tick line").attr("stroke","black"),w.exit().remove(),(m=f.selectAll(".slider-channel").data([{width:c,height:this._channelHeight,channel_r:a}])).exit().remove(),(m=m.enter().append("rect").attr("class","slider-channel").attr("cursor","pointer").on("click",function(){var t=Math.max(0,Math.min(h,se(this)[0]));i._value=i.scale.invert(t),i._snap&&(i._value=br(i._snap,i._value)),y.attr("cx",i.scale(i._value)),i.fire("change",i._value)}).merge(m)).attr("width",function(t){return t.width}).attr("fill",this._channelFill).attr("height",function(t){return t.height}).attr("y",function(t){return-t.height/2}).attr("x",function(t){return-t.channel_r}).attr("rx",function(t){return t.channel_r}),(y=(y=f.selectAll(".slider-handle").data([{v:this._value,x:this.scale(this._value)}])).enter().append("circle").attr("class","slider-handle").attr("cursor","col-resize").merge(y)).attr("cx",function(t){return t.x}).attr("r",this._handleRadius).attr("fill",this._handleFill).on("mousedown",function(){var t;Qt.preventDefault(),t=Qt,document.addEventListener("mouseup",x,!1),document.addEventListener("mousemove",k,!1),v=t.clientX,b=i.scale(i._value)}).on("touchstart",function(){var t;Qt.preventDefault(),1==(t=Qt).touches.length&&(document.addEventListener("touchend",M,!1),document.addEventListener("touchmove",z,!1),v=t.touches[0].clientX,b=i.scale(i._value))});var A=[];this._label&&A.push({label:this._label,x:h/2,y:-d,font_size:this._labelSize});var N=f.selectAll(".slider-label").data(A);N.exit().remove(),(N=N.enter().append("text").attr("class","slider-label").attr("text-anchor","middle").attr("cursor","default").merge(N)).text(function(t){return t.label}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("font-size",this._labelSize);var S=[];this._startLabel&&S.push({label:this._startLabel,x:this._startLabelBelow?0:-(a+5+Math.max(0,this._handleRadius-a)),y:this._startLabelBelow?a+15:this._startEndLabelSize/1.75-a/2,anchor:this._startLabelBelow?"middle":"end",font_size:this._startEndLabelSize}),this._endLabel&&S.push({label:this._endLabel,x:this._endLabelBelow?h:h+(a+Math.max(0,this._handleRadius-a)+5),y:this._startLabelBelow?a+15:this._startEndLabelSize/1.75-a/2,anchor:this._endLabelBelow?"middle":"start",font_size:this._startEndLabelSize});var L=f.selectAll(".slider-end-labels").data(S);return L.exit().remove(),(L=L.enter().append("text").attr("class","slider-end-labels").attr("pointer-events","none").merge(L)).text(function(t){return t.label}).attr("font-size",function(t){return t.font_size}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("text-anchor",function(t){return t.anchor}),this},wr.version="1.3.2";var Ar,Nr,Sr,Lr=null;var Cr={photo_1_small:Flourish.static_prefix+"/a.jpg",photo_1_big:Flourish.static_prefix+"/a.jpg",photo_2_small:Flourish.static_prefix+"/b.jpg",photo_2_big:Flourish.static_prefix+"/b.jpg",has_photo_1_small:!1,has_photo_2_small:!1,targetPosition:.5,mode:"slide",slider_fill_type:"color",slider_fill_image:"",slider_fill_standalone:"#333333",slider_fill_overlay:"#ffffff",slider_radius:48,slider_line_thickness:6,slider_line_color:"#ffffff",spotlight_size:25,spotlight_blur:100,spotlight_position:{x:"",y:""},spotlight_fixed:!1,spotlight_speed:2,layout:{}},Hr=function(t){for(var e in Q=t,Z)void 0===Q[e]&&(Q[e]=Z[e]);return(l=document.createElement("style")).id="flourish-page-styles",l.type="text/css",document.head.appendChild(l),it.wrapper=function(){var t=document.createElement("div");t.id="fl-layout-wrapper-outer",t.style.display="flex";var e=document.createElement("main");e.id="fl-layout-wrapper",e.style.display="flex",e.style.flexGrow="1",e.style.flexDirection="column",e.style.boxSizing="border-box",e.style.overflow="hidden";var r=document.createElement("aside");return r.id="fl-layout-sidebar",r.style.position="relative",it.sidebar=r,t.appendChild(e),t.appendChild(r),document.body.appendChild(t),e}(),nt.forEach(function(t,e){it[t]=lt(t,e)}),ht("header").appendChild(function(){(P=document.createElement("header")).className="flourish-header";var t=document.createElement("hgroup");return R=document.createElement("h1"),T=document.createElement("h2"),F=document.createElement("p"),B=document.createElement("img"),P.appendChild(B),P.appendChild(t),t.appendChild(R),t.appendChild(T),P.appendChild(F),P}()),ht("footer").appendChild($()),it.primary.outer.style.overflow="hidden",function(){var t=it.primary.outer;t.style.position="relative",(rt=document.createElement("div")).id="fl-layout-overlay";var e=rt.style;e.position="absolute",e.display="none",e.width="100%",e.height="100%",e.top=0,e.left=0,e.backgroundColor="rgb(200,200,200)",e.zIndex=999999,e.pointerEvents="none";var r=document.createElement("p");r.className="fl-layout-overlay-message",(e=r.style).color="#333333",e.fontSize="1.5rem",e.paddingLeft="15%",e.paddingRight="15%",e.width="100%",e.boxSizing="border-box",e.position="absolute",e.top="50%",e.transform="translate(0, -50%)",e.margin="0",e.textAlign="center",rt.appendChild(r),t.appendChild(rt)}(),G(!0),{update:G,getWrapper:st,getSidebar:ut,getSection:ht,getOuterWidth:ct,getInnerWidth:dt,getOuterHeight:ft,getInnerHeight:pt,getPrimaryHeight:_t,getPrimaryWidth:gt,getDefaultPrimaryHeight:yt,setHeight:wt,setLegendPosition:xt,showOverlay:kt,remToPx:et,getOverlay:Mt}}(Cr.layout);function Pr(t){r.current_position=t}return r.data=[],r.draw=function(){var t,e;t=le(Hr.getSection("primary")).append("div").attr("id","wrapper-outer").append("div").attr("id","wrapper"),(e=t.append("div").attr("id","photos-wrapper")).append("img").attr("id","photo-size-container"),e.append("div").attr("id","photo-1-container"),e.append("div").attr("id","photo-2-wrapper").append("div").attr("id","photo-2-container"),e.append("div").attr("id","divider-line"),t.append("div").attr("id","slider-wrapper").append("div").attr("class","slider-el").append("div").attr("id","slider"),le("#photos-wrapper").on("click",function(){if("fade"==Cr.mode)Cr.targetPosition=r.current_position<.5?1:0,zr();else if("spotlight"==Cr.mode){if(Cr.spotlight_fixed)return Cr.spotlight_fixed=!1,void le("#photo-2-container").style("transition",null);Cr.spotlight_fixed=!0}}),le("#photos-wrapper").on("mousemove",function(){"spotlight"!=Cr.mode||Cr.spotlight_fixed||Mr()}),le("#photos-wrapper").on("mouseout",function(){"spotlight"!=Cr.mode||Cr.spotlight_fixed||le("#photo-2-container").style("-webkit-mask-size",0)}),Pr(Cr.targetPosition),Nr=wr("#slider").domain([0,1]).startLabel("0").endLabel("1").value(Cr.targetPosition).on("change",function(t){var e=Math.min(t,1);Pr(e),Cr.targetPosition=e,Er()}).draw(),Sr=0<le(".slider-container image").size()?le(".slider-container image").node():le(".slider-container").append("image").node(),zr(!0),window.addEventListener("resize",function(){zr(!0)})},r.layout=Hr,r.state=Cr,r.update=function(){zr()},r.updateCurrentPosition=Pr,Object.defineProperty(r,"__esModule",{value:!0}),r}({});
//# sourceMappingURL=template.js.map
</script><script>
var path = document.location.href.match(/\/visualisation\/(\d+)/);
if (path) {
	path = path[0];
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga("create", "UA-44635456-19", "auto", { storage: "none" });
	ga("set", "transport", "beacon");
	ga("set", "dimension1", path.substr(1));
	ga("set", "dimension2", new Date().toISOString());
	ga("send", "pageview", path);
}</script><script>!function(){"use strict";var e,t;function i(){if(null==e){var t=function(){var e=window.location;"about:srcdoc"==e.href&&(e=window.parent.location);var t={};return function(e,i,n){for(;n=i.exec(e);)t[decodeURIComponent(n[1])]=decodeURIComponent(n[2])}(e.search.substring(1).replace(/\+/g,"%20"),/([^&=]+)=?([^&]*)/g),t}();e="referrer"in t?/^https:\/\/medium.com\//.test(t.referrer):!("auto"in t)}return e}function n(e){var t=e||window.innerWidth;return t>999?650:t>599?575:400}function r(e,i){if(window.top!==window.self){var n=window;if("srcdoc"==n.location.pathname&&(n=n.parent),t)return e=parseInt(e,10),void n.parent.postMessage({sentinel:"amp",type:"embed-size",height:e},"*");var r={sender:"Flourish",context:"iframe.resize",method:"resize",height:e,src:n.location.toString()};if(i)for(var o in i)r[o]=i[o];n.parent.postMessage(JSON.stringify(r),"*")}}function o(){return(-1!==navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("iPhone"))&&-1==navigator.userAgent.indexOf("Chrome")}function a(e){window.addEventListener("message",(function(t){if(null!=t.source&&(t.origin===document.location.origin||t.origin.match(/\/\/localhost:\d+$|\/\/flourish-api\.com$|\.flourish\.(?:local(:\d+)?|net|rocks|studio)$|\.uri\.sh$/))){var i;try{i=JSON.parse(t.data)}catch(e){return void console.warn("Unexpected non-JSON message: "+JSON.stringify(t.data))}if("Flourish"===i.sender){for(var n=document.querySelectorAll("iframe"),r=0;r<n.length;r++)if(n[r].contentWindow==t.source||n[r].contentWindow==t.source.parent)return void e(i,n[r]);console.warn("could not find frame",i)}}})),o()&&(window.addEventListener("resize",s),s())}function s(){for(var e=document.querySelectorAll(".flourish-embed"),t=0;t<e.length;t++){var i=e[t];if(!i.getAttribute("data-width")){var n=i.querySelector("iframe"),r=window.getComputedStyle(i),o=i.offsetWidth-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight);n.style.width=o+"px"}}}function l(e,t,i,n){var r=document.createElement("iframe");if(r.setAttribute("scrolling","no"),r.setAttribute("frameborder","0"),r.setAttribute("title","Interactive or visual content"),r.setAttribute("sandbox","allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation"),t.appendChild(r),r.offsetParent||"fixed"===getComputedStyle(r).position)d(e,t,r,i,n);else{var o={embed_url:e,container:t,iframe:r,width:i,height:n};if(window._flourish_poll_items?window._flourish_poll_items.push(o):window._flourish_poll_items=[o],window._flourish_poll_items.length>1)return;var a=setInterval((function(){window._flourish_poll_items=window._flourish_poll_items.filter((function(e){return!e.iframe.offsetParent||(d(e.embed_url,e.container,e.iframe,e.width,e.height),!1)})),window._flourish_poll_items.length||clearInterval(a)}),500)}}function d(e,t,i,r,a){var s;return r&&"number"==typeof r?(s=r,r+="px"):r&&r.match(/^[ \t\r\n\f]*([+-]?\d+|\d*\.\d+(?:[eE][+-]?\d+)?)(?:\\?[Pp]|\\0{0,4}[57]0(?:\r\n|[ \t\r\n\f])?)(?:\\?[Xx]|\\0{0,4}[57]8(?:\r\n|[ \t\r\n\f])?)[ \t\r\n\f]*$/)&&(s=parseFloat(r)),a&&"number"==typeof a&&(a+="px"),r?i.style.width=r:o()?i.style.width=t.offsetWidth+"px":i.style.width="100%",!!a||(e.match(/\?/)?e+="&auto=1":e+="?auto=1",a=n(s||i.offsetWidth)+"px"),a&&("%"===a.charAt(a.length-1)&&(a=parseFloat(a)/100*t.parentNode.offsetHeight+"px"),i.style.height=a),i.setAttribute("src",e),i}function u(e){return!Array.isArray(e)&&"object"==typeof e&&null!=e}function f(e,t){for(var i in t)u(e[i])&&u(t[i])?f(e[i],t[i]):e[i]=t[i];return e}!function(){var e,s=window.top===window.self,d=s?null:(t="#amp=1"==window.location.hash,{createEmbedIframe:l,isFixedHeight:i,getHeightForBreakpoint:n,startEventListeners:a,notifyParentWindow:r,isSafari:o}),u=!0;function h(){var t;Flourish.fixed_height||(null!=e?t=e:u&&(t=d.getHeightForBreakpoint()),t!==window.innerHeight&&d.notifyParentWindow(t))}function c(){h(),window.addEventListener("resize",h)}Flourish.warn=function(e){if("string"==typeof e&&(e={message:e}),s||"editor"!==Flourish.environment)console.warn(e.message);else{var t={sender:"Flourish",method:"warn",message:e.message,explanation:e.explanation};window.parent.postMessage(JSON.stringify(t),"*")}},Flourish.uploadImage=function(e){if(s||"story_editor"!==Flourish.environment)throw"Invalid upload request";var t={sender:"Flourish",method:"request-upload",name:e.name,accept:e.accept};window.parent.postMessage(JSON.stringify(t),"*")},Flourish.setSetting=function(e,t){if("editor"===Flourish.environment||"sdk"===Flourish.environment){var i={sender:"Flourish",method:"setSetting",name:e,value:t};window.parent.postMessage(JSON.stringify(i),"*")}else if("story_editor"===Flourish.environment){var n={};n[e]=t,f(window.template.state,function(e){var t={};for(var i in e){for(var n=t,r=i.indexOf("."),o=0;r>=0;r=i.indexOf(".",o=r+1)){var a=i.substring(o,r);a in n||(n[a]={}),n=n[a]}n[i.substring(o)]=e[i]}return t}(n))}},Flourish.setHeight=function(t){Flourish.fixed_height||(e=t,u=null==t,h())},Flourish.checkHeight=function(){if(!s){var e=Flourish.__container_height;null!=e?(Flourish.fixed_height=!0,d.notifyParentWindow(e)):d.isFixedHeight()?Flourish.fixed_height=!0:(Flourish.fixed_height=!1,h())}},Flourish.fixed_height=s||d.isFixedHeight(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):c()}()}();
//# sourceMappingURL=embedded.js.map
</script><script>
		function _Flourish_unflattenInto(dest, src) {
			dest = dest || {};
			for (var k in src) {
				var t = dest;
				for (var i = k.indexOf("."), p = 0; i >= 0; i = k.indexOf(".", p = i+1)) {
					var s = k.substring(p, i);
					if (!(s in t)) t[s] = {};
					t = t[s];
				}
				t[k.substring(p)] = src[k];
			}
			return dest;
		}
		var _Flourish_settings = {"has_photo_1_small":false,"layout.footer_note_secondary":"註：以上標示的填海範圍為示意圖，或與實際區域有偏差","layout.header_logo_enabled":true,"layout.header_logo_height":4.5,"layout.header_logo_src":"https://i.imgur.com/IGfOlUB.png","layout.header_text":"","layout.source_label":"圖片來源：","layout.source_name":"地政總署、Google Earth","layout.subtitle":"屯門同樣是首批發展的新巿鎮，1965年起政府開始計劃發展屯門，1973年正式宣布屯門新巿鎮發展計劃，大部分屋宇都建於填海區上","layout.title":"屯門（1973 vs 2021年）","layout.title_color":null,"layout.title_size":"2","layout.title_styling":true,"mode":"slide","photo_1_big":"https://public.flourish.studio/uploads/3745c13b-50a0-42ec-bff1-2845fecf6bf5.png","photo_2_big":"https://public.flourish.studio/uploads/c25b2ace-baf6-4036-9322-0ef1df88c1c6.png","slider_fill_type":"color","slider_line_thickness":6,"slider_radius":30};
		_Flourish_unflattenInto(window.template.state, _Flourish_settings);

		var _Flourish_data_column_names = {},
		    _Flourish_data_metadata = {},
		    _Flourish_data = {};
		for (var _Flourish_dataset in _Flourish_data) {
				window.template.data[_Flourish_dataset] = _Flourish_data[_Flourish_dataset];
				window.template.data[_Flourish_dataset].column_names = _Flourish_data_column_names[_Flourish_dataset];
				window.template.data[_Flourish_dataset].metadata = _Flourish_data_metadata[_Flourish_dataset];
		}
		window.template.draw();
	</script></body></html>